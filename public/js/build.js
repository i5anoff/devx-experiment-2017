!function e(t,n,o){function r(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(i)return i(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};t[a][0].call(l.exports,function(e){var n=t[a][1][e];return r(n?n:e)},l,l.exports,e,t,n,o)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<o.length;a++)r(o[a]);return r}({1:[function(e,t,n){function o(e,t,n,o,i){for(var a=t.context.sampleRate,s=t.frequencyBinCount,u=r(o,a,s),c=r(i,a,s),l=c-u,f=0;c>u;u++)f+=n[u]/e;return 0===l?0:f/l}var r=e("audio-frequency-to-index");t.exports=o.bind(null,255),t.exports.floatData=o.bind(null,1)},{"audio-frequency-to-index":2}],2:[function(e,t,n){function o(e,t,n){var o=t/2,i=Math.round(e/o*n);return r(i,0,n)}var r=e("clamp");t.exports=o},{clamp:5}],3:[function(e,t,n){var o=e("./mime-types.json"),r={};Object.keys(o).forEach(function(e){var t=o[e];t.forEach(function(t){r[t]=e})}),t.exports=function(e){if(!e)throw new TypeError("must specify extension string");return 0===e.indexOf(".")&&(e=e.substring(1)),r[e.toLowerCase()]}},{"./mime-types.json":4}],4:[function(e,t,n){t.exports={"audio/midi":["mid","midi","kar","rmi"],"audio/mp4":["mp4a","m4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx"],"audio/webm":["weba"],"audio/x-matroska":["mka"],"audio/x-mpegurl":["m3u"],"audio/wav":["wav"],"video/3gpp":["3gp"],"video/3gpp2":["3g2"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"],"video/x-f4v":["f4v"],"video/x-fli":["fli"],"video/x-flv":["flv"],"video/x-m4v":["m4v"],"video/x-matroska":["mkv","mk3d","mks"]}},{}],5:[function(e,t,n){function o(e,t,n){return n>t?t>e?t:e>n?n:e:n>e?n:e>t?t:e}t.exports=o},{}],6:[function(e,t,n){function o(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function i(e){return"number"==typeof e}function a(e){return"object"==typeof e&&null!==e}function s(e){return void 0===e}t.exports=o,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._maxListeners=void 0,o.defaultMaxListeners=10,o.prototype.setMaxListeners=function(e){if(!i(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},o.prototype.emit=function(e){var t,n,o,i,u,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;var l=new Error('Uncaught, unspecified "error" event. ('+t+")");throw l.context=t,l}if(n=this._events[e],s(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),n.apply(this,i)}else if(a(n))for(i=Array.prototype.slice.call(arguments,1),c=n.slice(),o=c.length,u=0;o>u;u++)c[u].apply(this,i);return!0},o.prototype.addListener=function(e,t){var n;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?a(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,a(this._events[e])&&!this._events[e].warned&&(n=s(this._maxListeners)?o.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())),this},o.prototype.on=o.prototype.addListener,o.prototype.once=function(e,t){function n(){this.removeListener(e,n),o||(o=!0,t.apply(this,arguments))}if(!r(t))throw TypeError("listener must be a function");var o=!1;return n.listener=t,this.on(e,n),this},o.prototype.removeListener=function(e,t){var n,o,i,s;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],i=n.length,o=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(a(n)){for(s=i;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){o=s;break}if(0>o)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(o,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},o.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],r(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},o.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},o.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},o.listenerCount=function(e,t){return e.listenerCount(t)}},{}],7:[function(e,t,n){function o(e,t,n){if(!s(t))throw new TypeError("iterator must be a function");arguments.length<3&&(n=this),"[object Array]"===u.call(e)?r(e,t,n):"string"==typeof e?i(e,t,n):a(e,t,n)}function r(e,t,n){for(var o=0,r=e.length;r>o;o++)c.call(e,o)&&t.call(n,e[o],o,e)}function i(e,t,n){for(var o=0,r=e.length;r>o;o++)t.call(n,e.charAt(o),o,e)}function a(e,t,n){for(var o in e)c.call(e,o)&&t.call(n,e[o],o,e)}var s=e("is-function");t.exports=o;var u=Object.prototype.toString,c=Object.prototype.hasOwnProperty},{"is-function":11}],8:[function(e,t,n){(function(e){var n;n="undefined"!=typeof window?window:"undefined"!=typeof e?e:"undefined"!=typeof self?self:{},t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],9:[function(e,t,n){t.exports=function(e){"string"==typeof e&&(e=[e]);for(var t=[].slice.call(arguments,1),n=[],o=0;o<e.length-1;o++)n.push(e[o],t[o]||"");return n.push(e[o]),n.join("")}},{}],10:[function(e,t,n){function o(e){return e&&"object"==typeof e?"object"==typeof window&&"object"==typeof window.Node?e instanceof window.Node:"number"==typeof e.nodeType&&"string"==typeof e.nodeName:!1}t.exports=o},{}],11:[function(e,t,n){function o(e){var t=r.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)}t.exports=o;var r=Object.prototype.toString},{}],12:[function(e,t,n){"use strict";function o(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function r(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;10>n;n++)t["_"+String.fromCharCode(n)]=n;var o=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==o.join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}var i=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable;t.exports=r()?Object.assign:function(e,t){for(var n,r,u=o(e),c=1;c<arguments.length;c++){n=Object(arguments[c]);for(var l in n)a.call(n,l)&&(u[l]=n[l]);if(i){r=i(n);for(var f=0;f<r.length;f++)s.call(n,r[f])&&(u[r[f]]=n[r[f]])}}return u}},{}],13:[function(e,t,n){var o=e("trim"),r=e("for-each"),i=function(e){return"[object Array]"===Object.prototype.toString.call(e)};t.exports=function(e){if(!e)return{};var t={};return r(o(e).split("\n"),function(e){var n=e.indexOf(":"),r=o(e.slice(0,n)).toLowerCase(),a=o(e.slice(n+1));"undefined"==typeof t[r]?t[r]=a:i(t[r])?t[r].push(a):t[r]=[t[r],a]}),t}},{"for-each":7,trim:18}],14:[function(e,t,n){function o(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(f===setTimeout)return setTimeout(e,0);if((f===o||!f)&&setTimeout)return f=setTimeout,setTimeout(e,0);try{return f(e,0)}catch(t){try{return f.call(null,e,0)}catch(t){return f.call(this,e,0)}}}function a(e){if(d===clearTimeout)return clearTimeout(e);if((d===r||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function s(){v&&p&&(v=!1,p.length?m=p.concat(m):E=-1,m.length&&u())}function u(){if(!v){var e=i(s);v=!0;for(var t=m.length;t;){for(p=m,m=[];++E<t;)p&&p[E].run();E=-1,t=m.length}p=null,v=!1,a(e)}}function c(e,t){this.fun=e,this.array=t}function l(){}var f,d,h=t.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:o}catch(e){f=o}try{d="function"==typeof clearTimeout?clearTimeout:r}catch(e){d=r}}();var p,m=[],v=!1,E=-1;h.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];m.push(new c(e,t)),1!==m.length||v||i(u)},c.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=l,h.addListener=l,h.once=l,h.off=l,h.removeListener=l,h.removeAllListeners=l,h.emit=l,h.binding=function(e){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(e){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},{}],15:[function(e,t,n){(function(e){t.exports=e.performance&&e.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],16:[function(e,t,n){function o(e,t,n){n=n||{},Array.isArray(t)||(t=[t]);var o=n.element||document.createElement(e);return n.loop&&o.setAttribute("loop","loop"),n.muted&&o.setAttribute("muted","muted"),n.autoplay&&o.setAttribute("autoplay","autoplay"),n.controls&&o.setAttribute("controls","controls"),n.crossOrigin&&o.setAttribute("crossorigin",n.crossOrigin),n.preload&&o.setAttribute("preload",n.preload),n.poster&&o.setAttribute("poster",n.poster),"undefined"!=typeof n.volume&&o.setAttribute("volume",n.volume),t=t.filter(Boolean),t.forEach(function(e){o.appendChild(r(e))}),o}function r(e){if(a(e))return e;if("string"==typeof e&&(e={src:e},e.src)){var t=i(e.src);t&&(e.type=s(t))}var n=document.createElement("source");return e.src&&n.setAttribute("src",e.src),e.type&&n.setAttribute("type",e.type),n}function i(e){var t=e.lastIndexOf(".");return 0>=t||t===e.length-1?null:e.substring(t+1)}var a=e("is-dom"),s=e("browser-media-mime-type");t.exports.video=o.bind(null,"video"),t.exports.audio=o.bind(null,"audio")},{"browser-media-mime-type":3,"is-dom":10}],17:[function(e,t,n){t.exports=function(e){function t(t,n){function o(){return 2*Math.PI/60/60*S.autoRotateSpeed}function r(){return Math.pow(.95,S.zoomSpeed)}function i(e){V.theta-=e}function a(e){V.phi-=e}function s(t){S.object instanceof e.PerspectiveCamera?X/=t:S.object instanceof e.OrthographicCamera?(S.object.zoom=Math.max(S.minZoom,Math.min(S.maxZoom,S.object.zoom*t)),S.object.updateProjectionMatrix(),Y=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),S.enableZoom=!1)}function u(t){S.object instanceof e.PerspectiveCamera?X*=t:S.object instanceof e.OrthographicCamera?(S.object.zoom=Math.max(S.minZoom,Math.min(S.maxZoom,S.object.zoom/t)),S.object.updateProjectionMatrix(),Y=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),S.enableZoom=!1)}function c(e){z.set(e.clientX,e.clientY)}function l(e){J.set(e.clientX,e.clientY)}function f(e){$.set(e.clientX,e.clientY)}function d(e){G.set(e.clientX,e.clientY),K.subVectors(G,z);var t=S.domElement===document?S.domElement.body:S.domElement;i(2*Math.PI*K.x/t.clientWidth*S.rotateSpeed),a(2*Math.PI*K.y/t.clientHeight*S.rotateSpeed),z.copy(G),S.update()}function h(e){Q.set(e.clientX,e.clientY),ee.subVectors(Q,J),ee.y>0?s(r()):ee.y<0&&u(r()),J.copy(Q),S.update()}function p(e){W.set(e.clientX,e.clientY),Z.subVectors(W,$),oe(Z.x,Z.y),$.copy(W),S.update()}function m(e){}function v(e){e.deltaY<0?u(r()):e.deltaY>0&&s(r()),S.update()}function E(e){switch(e.keyCode){case S.keys.UP:oe(0,S.keyPanSpeed),S.update();break;case S.keys.BOTTOM:oe(0,-S.keyPanSpeed),S.update();break;case S.keys.LEFT:oe(S.keyPanSpeed,0),S.update();break;case S.keys.RIGHT:oe(-S.keyPanSpeed,0),S.update()}}function y(e){z.set(e.touches[0].pageX,e.touches[0].pageY)}function w(e){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,o=Math.sqrt(t*t+n*n);J.set(0,o)}function b(e){$.set(e.touches[0].pageX,e.touches[0].pageY)}function g(e){G.set(e.touches[0].pageX,e.touches[0].pageY),K.subVectors(G,z);var t=S.domElement===document?S.domElement.body:S.domElement;i(2*Math.PI*K.x/t.clientWidth*S.rotateSpeed),a(2*Math.PI*K.y/t.clientHeight*S.rotateSpeed),z.copy(G),S.update()}function F(e){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,o=Math.sqrt(t*t+n*n);Q.set(0,o),ee.subVectors(Q,J),ee.y>0?u(r()):ee.y<0&&s(r()),J.copy(Q),S.update()}function C(e){W.set(e.touches[0].pageX,e.touches[0].pageY),Z.subVectors(W,$),oe(Z.x,Z.y),$.copy(W),S.update()}function A(e){}function D(e){if(S.enabled!==!1){if(e.preventDefault(),e.button===S.mouseButtons.ORBIT){if(S.enableRotate===!1)return;c(e),H=N.ROTATE}else if(e.button===S.mouseButtons.ZOOM){if(S.enableZoom===!1)return;l(e),H=N.DOLLY}else if(e.button===S.mouseButtons.PAN){if(S.enablePan===!1)return;f(e),H=N.PAN}H!==N.NONE&&(document.addEventListener("mousemove",M,!1),document.addEventListener("mouseup",T,!1),S.dispatchEvent(k))}}function M(e){if(S.enabled!==!1)if(e.preventDefault(),H===N.ROTATE){if(S.enableRotate===!1)return;d(e)}else if(H===N.DOLLY){if(S.enableZoom===!1)return;h(e)}else if(H===N.PAN){if(S.enablePan===!1)return;p(e)}}function T(e){S.enabled!==!1&&(m(e),document.removeEventListener("mousemove",M,!1),document.removeEventListener("mouseup",T,!1),S.dispatchEvent(L),H=N.NONE)}function _(e){S.enabled===!1||S.enableZoom===!1||H!==N.NONE&&H!==N.ROTATE||(e.preventDefault(),e.stopPropagation(),v(e),S.dispatchEvent(k),S.dispatchEvent(L))}function B(e){S.enabled!==!1&&S.enableKeys!==!1&&S.enablePan!==!1&&E(e)}function P(e){if(S.enabled!==!1){switch(e.touches.length){case 1:if(S.enableRotate===!1)return;y(e),H=N.TOUCH_ROTATE;break;case 2:if(S.enableZoom===!1)return;w(e),H=N.TOUCH_DOLLY;break;case 3:if(S.enablePan===!1)return;b(e),H=N.TOUCH_PAN;break;default:H=N.NONE}H!==N.NONE&&S.dispatchEvent(k)}}function x(e){if(S.enabled!==!1)switch(e.preventDefault(),e.stopPropagation(),e.touches.length){case 1:if(S.enableRotate===!1)return;if(H!==N.TOUCH_ROTATE)return;g(e);break;case 2:if(S.enableZoom===!1)return;if(H!==N.TOUCH_DOLLY)return;F(e);break;case 3:if(S.enablePan===!1)return;if(H!==N.TOUCH_PAN)return;C(e);break;default:H=N.NONE}}function O(e){S.enabled!==!1&&(A(e),S.dispatchEvent(L),H=N.NONE)}function R(e){e.preventDefault()}this.object=t,this.domElement=void 0!==n?n:document,this.enabled=!0,this.target=new e.Vector3,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-(1/0),this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.25,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={ORBIT:e.MOUSE.LEFT,ZOOM:e.MOUSE.MIDDLE,PAN:e.MOUSE.RIGHT},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return I.phi},this.getAzimuthalAngle=function(){return I.theta},this.reset=function(){S.target.copy(S.target0),S.object.position.copy(S.position0),S.object.zoom=S.zoom0,S.object.updateProjectionMatrix(),S.dispatchEvent(j),S.update(),H=N.NONE},this.update=function(){var n=new e.Vector3,r=(new e.Quaternion).setFromUnitVectors(t.up,new e.Vector3(0,1,0)),a=r.clone().inverse(),s=new e.Vector3,u=new e.Quaternion;return function(){var e=S.object.position;return n.copy(e).sub(S.target),n.applyQuaternion(r),I.setFromVector3(n),S.autoRotate&&H===N.NONE&&i(o()),I.theta+=V.theta,I.phi+=V.phi,I.theta=Math.max(S.minAzimuthAngle,Math.min(S.maxAzimuthAngle,I.theta)),I.phi=Math.max(S.minPolarAngle,Math.min(S.maxPolarAngle,I.phi)),I.makeSafe(),I.radius*=X,I.radius=Math.max(S.minDistance,Math.min(S.maxDistance,I.radius)),S.target.add(q),n.setFromSpherical(I),n.applyQuaternion(a),e.copy(S.target).add(n),S.object.lookAt(S.target),S.enableDamping===!0?(V.theta*=1-S.dampingFactor,V.phi*=1-S.dampingFactor):V.set(0,0,0),X=1,q.set(0,0,0),Y||s.distanceToSquared(S.object.position)>U||8*(1-u.dot(S.object.quaternion))>U?(S.dispatchEvent(j),s.copy(S.object.position),u.copy(S.object.quaternion),Y=!1,!0):!1}}(),this.dispose=function(){S.domElement.removeEventListener("contextmenu",R,!1),S.domElement.removeEventListener("mousedown",D,!1),S.domElement.removeEventListener("wheel",_,!1),S.domElement.removeEventListener("touchstart",P,!1),S.domElement.removeEventListener("touchend",O,!1),S.domElement.removeEventListener("touchmove",x,!1),document.removeEventListener("mousemove",M,!1),document.removeEventListener("mouseup",T,!1),window.removeEventListener("keydown",B,!1)};var S=this,j={type:"change"},k={type:"start"},L={type:"end"},N={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY:4,TOUCH_PAN:5},H=N.NONE,U=1e-6,I=new e.Spherical,V=new e.Spherical,X=1,q=new e.Vector3,Y=!1,z=new e.Vector2,G=new e.Vector2,K=new e.Vector2,$=new e.Vector2,W=new e.Vector2,Z=new e.Vector2,J=new e.Vector2,Q=new e.Vector2,ee=new e.Vector2,te=function(){var t=new e.Vector3;return function(e,n){t.setFromMatrixColumn(n,0),t.multiplyScalar(-e),q.add(t)}}(),ne=function(){var t=new e.Vector3;return function(e,n){t.setFromMatrixColumn(n,1),t.multiplyScalar(e),q.add(t)}}(),oe=function(){var t=new e.Vector3;return function(n,o){var r=S.domElement===document?S.domElement.body:S.domElement;if(S.object instanceof e.PerspectiveCamera){var i=S.object.position;t.copy(i).sub(S.target);var a=t.length();a*=Math.tan(S.object.fov/2*Math.PI/180),te(2*n*a/r.clientHeight,S.object.matrix),ne(2*o*a/r.clientHeight,S.object.matrix)}else S.object instanceof e.OrthographicCamera?(te(n*(S.object.right-S.object.left)/S.object.zoom/r.clientWidth,S.object.matrix),ne(o*(S.object.top-S.object.bottom)/S.object.zoom/r.clientHeight,S.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),S.enablePan=!1)}}();S.domElement.addEventListener("contextmenu",R,!1),S.domElement.addEventListener("mousedown",D,!1),S.domElement.addEventListener("wheel",_,!1),S.domElement.addEventListener("touchstart",P,!1),S.domElement.addEventListener("touchend",O,!1),S.domElement.addEventListener("touchmove",x,!1),window.addEventListener("keydown",B,!1),this.update()}return t.prototype=Object.create(e.EventDispatcher.prototype),t.prototype.constructor=t,Object.defineProperties(t.prototype,{center:{get:function(){return console.warn("THREE.OrbitControls: .center has been renamed to .target"),this.target}},noZoom:{get:function(){return console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),!this.enableZoom},set:function(e){console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),this.enableZoom=!e}},noRotate:{get:function(){return console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),!this.enableRotate},set:function(e){console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),this.enableRotate=!e}},noPan:{get:function(){return console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),!this.enablePan},set:function(e){console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),this.enablePan=!e}},noKeys:{get:function(){return console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),!this.enableKeys},set:function(e){console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),this.enableKeys=!e}},staticMoving:{get:function(){return console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),!this.enableDamping},set:function(e){console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),this.enableDamping=!e}},dynamicDampingFactor:{get:function(){return console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor},set:function(e){console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor=e}}}),t}},{}],18:[function(e,t,n){function o(e){return e.replace(/^\s*|\s*$/g,"")}n=t.exports=o,n.left=function(e){return e.replace(/^\s*/,"")},n.right=function(e){return e.replace(/\s*$/,"")}},{}],19:[function(e,t,n){function o(e,t,n){if(!(this instanceof o))return new o(e,t,n);if(t instanceof r||(n=t,t=null),n=n||{},this.ctx=t=t||new r,e instanceof AudioNode||(e=e instanceof Audio||e instanceof HTMLAudioElement?t.createMediaElementSource(e):t.createMediaStreamSource(e)),this.analyser=t.createAnalyser(),this.stereo=!!n.stereo,this.audible=n.audible!==!1,this.wavedata=null,this.freqdata=null,this.splitter=null,this.merger=null,this.source=e,this.stereo){this.analyser=[this.analyser],this.analyser.push(t.createAnalyser()),this.splitter=t.createChannelSplitter(2),this.merger=t.createChannelMerger(2),this.output=this.merger,this.source.connect(this.splitter);for(var i=0;2>i;i++)this.splitter.connect(this.analyser[i],i,0),this.analyser[i].connect(this.merger,0,i);this.audible&&this.merger.connect(t.destination)}else this.output=this.source,this.source.connect(this.analyser),this.audible&&this.analyser.connect(t.destination)}var r=window.AudioContext||window.webkitAudioContext;t.exports=o,o.prototype.waveform=function(e,t){e||(e=this.wavedata||(this.wavedata=new Uint8Array((this.analyser[0]||this.analyser).frequencyBinCount)));var n=this.stereo?this.analyser[t||0]:this.analyser;return n.getByteTimeDomainData(e),e},o.prototype.frequencies=function(e,t){e||(e=this.freqdata||(this.freqdata=new Uint8Array((this.analyser[0]||this.analyser).frequencyBinCount)));var n=this.stereo?this.analyser[t||0]:this.analyser;return n.getByteFrequencyData(e),e}},{}],20:[function(e,t,n){function o(e,t){if(!e)throw new TypeError("must specify a src parameter");return t=t||{},t.buffer?r(e,t):i(e,t)}var r=e("./lib/buffer-source"),i=e("./lib/media-source");t.exports=o},{"./lib/buffer-source":22,"./lib/media-source":25}],21:[function(e,t,n){function o(){var e=window.AudioContext||window.webkitAudioContext;return new e}t.exports=o},{}],22:[function(e,t,n){(function(n){function o(e,t){function o(e){a(v,e,function(e,t){return e?m.emit("error",e):(h=t,d&&(d.buffer=h),p=h.duration,E.buffer=h,void m.emit("load"))},function(e,t){m.emit("progress",e,t)},function(){m.emit("decoding")})}function l(){m.emit("end"),g=!1,b=0}function f(){d&&d.disconnect()}t=t||{};var d,h,p,m=new s,v=t.context||i(),E=v.createGain(),y=null,w=null,b=0,g=!1,F=t.loop;m.play=function(){if(!g){g=!0,t.autoResume!==!1&&c(m.context),f(),d=v.createBufferSource(),d.connect(m.node),d.onended=l,h&&(d.buffer=h),F&&(d.loop=!0,"number"==typeof t.loopStart&&(d.loopStart=t.loopStart),"number"==typeof t.loopEnd&&(d.loopEnd=t.loopEnd)),p&&b>p&&(b%=p);var e=b;d.start(0,e),y=u()}},m.pause=function(){g&&(g=!1,d.onended=null,d.stop(0),w=u(),b+=(w-y)/1e3)},m.stop=function(){m.pause(),l()},m.dispose=function(){f(),h=null},m.node=E,m.context=v,Object.defineProperties(m,{duration:{enumerable:!0,configurable:!0,get:function(){return p}},playing:{enumerable:!0,configurable:!0,get:function(){return g}},buffer:{enumerable:!0,configurable:!0,get:function(){return h}},volume:{enumerable:!0,configurable:!0,get:function(){return E.gain.value},set:function(e){E.gain.value=e}}}),"number"==typeof t.volume&&(m.volume=t.volume);var C=Array.isArray(e)?e:[e];C=C.filter(Boolean);var A=C.some(r);if(A){var D=C.filter(r)[0];"function"==typeof D.getAttribute?D=D.getAttribute("src"):"string"==typeof D.src&&(D=D.src),o(D)}else n.nextTick(function(){m.emit("error",r.createError(C))});return m}var r=e("./can-play-src"),i=e("./audio-context"),a=e("./xhr-audio"),s=e("events").EventEmitter,u=e("right-now"),c=e("./resume-context");t.exports=o}).call(this,e("_process"))},{"./audio-context":21,"./can-play-src":23,"./resume-context":26,"./xhr-audio":27,_process:14,events:6,"right-now":15}],23:[function(e,t,n){function o(e){if(!e)throw new TypeError("src cannot be empty");var t;if("function"==typeof e.getAttribute)t=e.getAttribute("type");else if("string"==typeof e){var n=i(e);n&&(t=s(n))}else t=e.type;if(!t)return!0;a||(a=new window.Audio);var o=a.canPlayType(t).replace(/no/,"");return Boolean(o)}function r(e){var t=new Error("This browser does not support any of the following sources:\n    "+e.join(", ")+"\nTry using an array of OGG, MP3 and WAV.");return t.type="AUDIO_FORMAT",t}function i(e){var t=e.lastIndexOf(".");if(!(0>=t||t===e.length-1))return e.substring(t+1)}var a,s=e("browser-media-mime-type");t.exports=o,t.exports.createError=r},{"browser-media-mime-type":3}],24:[function(e,t,n){function o(e,t,n){function o(r){e.removeEventListener(t,o,!1),n(r,e)}e.addEventListener(t,o,!1)}t.exports=o},{}],25:[function(e,t,n){(function(n){function o(e,t){function o(){var e=Array.prototype.slice.call(h.children),t=e.length,o=!1,r=function(n,i){o||(t--,console.warn("Error loading source: "+i.getAttribute("src")),0>=t&&(o=!0,e.forEach(function(e){e.removeEventListener("error",r,!1)}),f.emit("error",new Error("Could not play any of the supplied sources"))))},i=function(){f.emit("load")};h.readyState>=h.HAVE_ENOUGH_DATA?n.nextTick(i):(l(h,"canplay",i),l(h,"error",function(e){f.emit(new Error("Unknown error while loading <audio>"))}),e.forEach(function(e){l(e,"error",r)})),h.load()}t=a({},t);var f=new r;t.element||(t.element=new window.Audio);var d=t.volume;delete t.volume;var h=i(e,t),p=t.context||u(),m=p.createGain(),v=p.createMediaElementSource(h);v.connect(m),h.addEventListener("ended",function(){f.emit("end")}),h.addEventListener("play",function(){console.log("PLAY")});var E=t.loopStart,y=t.loopEnd,w="number"==typeof E&&isFinite(E),b="number"==typeof y&&isFinite(y),g=!1;(w||b)&&window.requestAnimationFrame(function A(){if("number"==typeof h.duration){var e=h.currentTime,t=b?Math.min(h.duration,y):h.duration;e>(E||0)&&(g=!0),w&&g&&E>e&&(h.currentTime=E),e>=t&&b&&(h.currentTime=w?E:0),window.requestAnimationFrame(A)}}),f.element=h,f.context=p,f.node=m,f.pause=h.pause.bind(h),f.play=function(){return t.autoResume!==!1&&s(f.context),h.play()},f.dispose=function(){},f.stop=function(){var e=f.playing;h.pause(),h.currentTime=0,g=!1,e&&f.emit("end")},Object.defineProperties(f,{duration:{enumerable:!0,configurable:!0,get:function(){return h.duration}},currentTime:{enumerable:!0,configurable:!0,get:function(){return h.currentTime}},playing:{enumerable:!0,configurable:!0,get:function(){return!h.paused}},volume:{enumerable:!0,configurable:!0,get:function(){return m.gain.value},set:function(e){m.gain.value=e}}}),"number"==typeof d&&(f.volume=d);var F=Array.isArray(e)?e:[e];F=F.filter(Boolean);var C=F.some(c);return C?o():n.nextTick(function(){f.emit("error",c.createError(F))}),f}var r=e("events").EventEmitter,i=e("simple-media-element").audio,a=e("object-assign"),s=e("./resume-context"),u=e("./audio-context"),c=e("./can-play-src"),l=e("./event-add-once");t.exports=o}).call(this,e("_process"))},{"./audio-context":21,"./can-play-src":23,"./event-add-once":24,"./resume-context":26,_process:14,events:6,"object-assign":12,"simple-media-element":16}],26:[function(e,t,n){t.exports=function(e){"suspended"===e.state&&"function"==typeof e.resume&&e.resume()}},{}],27:[function(e,t,n){function o(e,t,n,o,a){function s(t){a(),e.decodeAudioData(t,function(e){n(null,e)},function(){var e=new Error("Error decoding audio data");e.type="DECODE_AUDIO_DATA",n(e)})}var u=r({uri:t,responseType:"arraybuffer"},function(e,o,r){return/^2/.test(o.statusCode)||(e=new Error("status code "+o.statusCode+" requesting "+t)),e?n(e):void s(r)});i(u).on("data",function(e,t){o(e,t)})}var r=e("xhr"),i=e("xhr-progress");t.exports=o},{xhr:29,"xhr-progress":28}],28:[function(e,t,n){function o(e){function t(e){var t=e.lengthComputable?e.loaded/e.total:0;i||o.emit("data",t,e.total||null),i=1===t}function n(r){("load"===r.type||/^(ready|complete)$/g.test((r.currentTarget||r.srcElement).readyState))&&(i||(e.removeEventListener?(e.removeEventListener("load",n,!1),e.removeEventListener("progress",t,!1)):e.detatchEvent&&e.detatchEvent("onreadystatechange",n),o.emit("data",1,r.total||null),o.emit("done"),i=!0))}var o=new r,i=!1;return e.attachEvent?(e.attachEvent("onreadystatechange",n),o):(e.addEventListener("load",n,!1),e.addEventListener("progress",t,!1),o)}var r=e("events").EventEmitter;t.exports=o},{events:6}],29:[function(e,t,n){"use strict";function o(e,t){for(var n=0;n<e.length;n++)t(e[n])}function r(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function i(e,t,n){var o=e;return f(t)?(n=t,"string"==typeof e&&(o={uri:e})):o=h(t,{uri:e}),o.callback=n,o}function a(e,t,n){return t=i(e,t,n),s(t)}function s(e){function t(){4===l.readyState&&setTimeout(i,0)}function n(){var e=void 0;if(e=l.response?l.response:l.responseText||u(l),b)try{e=JSON.parse(e)}catch(t){}return e}function o(e){return clearTimeout(p),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,c(e,g)}function i(){if(!h){var t;clearTimeout(p),t=e.useXDR&&void 0===l.status?200:1223===l.status?204:l.status;var o=g,r=null;return 0!==t?(o={body:n(),statusCode:t,method:v,headers:{},url:m,rawRequest:l},l.getAllResponseHeaders&&(o.headers=d(l.getAllResponseHeaders()))):r=new Error("Internal XMLHttpRequest Error"),c(r,o,o.body)}}if("undefined"==typeof e.callback)throw new Error("callback argument missing");var s=!1,c=function(t,n,o){s||(s=!0,e.callback(t,n,o))},l=e.xhr||null;l||(l=e.cors||e.useXDR?new a.XDomainRequest:new a.XMLHttpRequest);var f,h,p,m=l.url=e.uri||e.url,v=l.method=e.method||"GET",E=e.body||e.data,y=l.headers=e.headers||{},w=!!e.sync,b=!1,g={body:void 0,headers:{},statusCode:0,method:v,url:m,rawRequest:l};if("json"in e&&e.json!==!1&&(b=!0,y.accept||y.Accept||(y.Accept="application/json"),"GET"!==v&&"HEAD"!==v&&(y["content-type"]||y["Content-Type"]||(y["Content-Type"]="application/json"),E=JSON.stringify(e.json===!0?E:e.json))),l.onreadystatechange=t,l.onload=i,l.onerror=o,l.onprogress=function(){},l.onabort=function(){h=!0},l.ontimeout=o,l.open(v,m,!w,e.username,e.password),w||(l.withCredentials=!!e.withCredentials),!w&&e.timeout>0&&(p=setTimeout(function(){if(!h){h=!0,l.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",o(e)}},e.timeout)),l.setRequestHeader)for(f in y)y.hasOwnProperty(f)&&l.setRequestHeader(f,y[f]);else if(e.headers&&!r(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(l.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(l),l.send(E||null),l}function u(e){
if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;return""!==e.responseType||t?null:e.responseXML}function c(){}var l=e("global/window"),f=e("is-function"),d=e("parse-headers"),h=e("xtend");t.exports=a,a.XMLHttpRequest=l.XMLHttpRequest||c,a.XDomainRequest="withCredentials"in new a.XMLHttpRequest?a.XMLHttpRequest:l.XDomainRequest,o(["get","put","post","patch","head","delete"],function(e){a["delete"===e?"del":e]=function(t,n,o){return n=i(t,n,o),n.method=e.toUpperCase(),s(n)}})},{"global/window":8,"is-function":11,"parse-headers":13,xtend:30}],30:[function(e,t,n){function o(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var o in n)r.call(n,o)&&(e[o]=n[o])}return e}t.exports=o;var r=Object.prototype.hasOwnProperty},{}],31:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=e("./util/Utils"),s=o(a),u=e("./events/EventsManager"),c=o(u),l=e("./events/Events"),f=o(l),d=e("./managers/RafManager"),h=o(d),p=e("./managers/InteractionManager"),m=o(p),v=e("./managers/SoundManager"),E=o(v),y=e("./controllers/KeyboardController"),w=o(y),b=e("./controllers/EffectController"),g=o(b),F=e("./controllers/ShapeController"),C=o(F),A=e("./app/Supershape"),D=o(A),M=e("./app/Background"),T=o(M),_=e("./app/Circles"),B=o(_),P=e("./util/createApp"),x=e("glslify"),O=function(){function e(){r(this,e),window.vjPlaying=!1,this.render=this.render.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onMouseUp=this.onMouseUp.bind(this),this.onPlayEffect=this.onPlayEffect.bind(this),this.onSplitEffect=this.onSplitEffect.bind(this),this.onSoundEnded=this.onSoundEnded.bind(this),this.onResumeVjing=this.onResumeVjing.bind(this),this.onPauseVjing=this.onPauseVjing.bind(this),this.time=Date.now(),this.smoothRotationX=0,this.smoothRotationY=0,this.$ui=document.querySelector(".ui"),this.$helper=this.$ui.querySelector(".helper"),this.$credits=this.$ui.querySelector(".credits"),this.$brand=this.$ui.querySelector(".brand"),this.$logo=this.$ui.querySelector(".logo"),this.$crosses=this.$ui.querySelectorAll(".cross"),window.app=P({debug:!1}),window.app.camera.position.z=1200,window.app.camera.lookAt(new THREE.Vector3(0,0,0)),window.app.css3DCamera.position.z=1200,window.app.css3DCamera.lookAt(new THREE.Vector3(0,0,0)),this.FXAAPass=new WAGNER.FXAAPass,this.postFXPass=new WAGNER.Pass,this.postFXPass.shader=WAGNER.processShader(WAGNER.basicVs,x(["#define GLSLIFY 1\nuniform sampler2D tInput;\n\nvarying vec2 vUv;\n\nuniform float divide;\nuniform float mirrorX; \nuniform float mirrorY; \nuniform float morph;\n\nvoid main() {\n    \n    vec2 uv = vUv;\n    \n    // Mirror x\n    if (mirrorX > 0.) {\n        uv.x = abs(vUv.x-.5)+.5;\n    }\n    \n    // Mirror y\n    if (mirrorY > 0.) {\n        uv.y = abs(vUv.y-.5)+.5;\n    }\n\n    // Split\n    uv *= divide; uv = mod(uv,vec2(1.));\n    // if (uv.x > 0.5 && uv.y > 0.5) uv *= 2.; uv = mod(uv,vec2(1.));\n    // if (vUv.x > 0.5 && vUv.y > 0.5) uv *= 2.; uv = mod(uv,vec2(1.));\n    \n    // if (vUv.x > 0.5 && vUv.y > 0.5) uv *= 2.; uv = mod(uv,vec2(1.));\n    // if (vUv.x <= 0.5 && vUv.y <= 0.5) uv *= 2.; uv = mod(uv,vec2(1.));\n    // if (vUv.x > 0.5 && vUv.y > 0.75 && vUv.x <= 0.75) uv *= 2.; uv = mod(uv,vec2(1.));\n    // if (vUv.y < 0.5 && vUv.y >= 0.25 && vUv.x <= 0.25) uv *= 2.; uv = mod(uv,vec2(1.));\n\n    vec4 color = texture2D(tInput, uv);\n\n    // Morph\n    if (morph > 0.) {\n        color = texture2D(tInput, vec2(sin(vUv.x * 3.14), sin(vUv.y * 3.14)));\n    }\n\n    gl_FragColor = color;\n\n}"])),this.postFXPass.shader.uniforms.divide.value=1,this.postFXPass.shader.uniforms.mirrorX.value=0,this.postFXPass.shader.uniforms.mirrorY.value=0,this.postFXPass.shader.uniforms.morph.value=0,h["default"].start(),m["default"].start(),E["default"].start(),w["default"].start(),g["default"].start(),C["default"].start(),this.ui=new THREE.CSS3DObject(this.$ui),this.ui.position.x=18,this.ui.position.y=18,this.ui.position.z=0,window.app.css3DScene.add(this.ui),this.circles=new B["default"],this.circles.position.x=140,this.circles.position.y=18,this.circles.position.z=-1,window.app.scene.add(this.circles),this.background=new T["default"],this.background.position.x=18,this.background.position.y=18,this.background.position.z=0,window.app.scene.add(this.background),this.supershape=new D["default"](180),this.supershape.scale.x=this.supershape.scale.y=this.supershape.scale.z=.01,this.supershape.position.x=-18,this.supershape.position.y=-18,this.supershape.position.z=300,window.app.scene.add(this.supershape);var t=s["default"].getPalette();c["default"].emit(f["default"].PALETTE_CHANGE,t),h["default"].bind("main",this.render),c["default"].on(f["default"].MOUSE_DOWN,this.onMouseDown),c["default"].on(f["default"].MOUSE_UP,this.onMouseUp),c["default"].on(f["default"].PLAY_EFFECT,this.onPlayEffect),c["default"].on(f["default"].SPLIT_EFFECT,this.onSplitEffect),c["default"].on(f["default"].SOUND_ENDED,this.onSoundEnded),c["default"].on(f["default"].RESUME_VJING,this.onResumeVjing),c["default"].on(f["default"].PAUSE_VJING,this.onPauseVjing),window.addEventListener("resize",this.resize.bind(this),!0)}return i(e,[{key:"onSoundEnded",value:function(){var e=this;window.vjPlaying=!1,TweenMax.delayedCall(.6,function(){e.pauseVjing()})}},{key:"onMouseDown",value:function(){window.vjPlaying||(this.supershape.display(),TweenMax.to([window.app.camera.position,window.app.css3DCamera.position],.6,{z:1400,ease:Power2.easeOut}),TweenMax.to([this.$helper,this.$logo],.3,{opacity:0,ease:Power2.easeOut}))}},{key:"onMouseUp",value:function(){window.vjPlaying||(window.vjPlaying=!0,this.$ui.classList.add("ui--white"),this.playVjing())}},{key:"onPlayEffect",value:function(e){var t=e.disallow;if(this.postFXPass.shader.uniforms.divide.value=s["default"].range([1,1,2,2,4]),this.postFXPass.shader.uniforms.mirrorX.value=s["default"].lucky(2),this.postFXPass.shader.uniforms.mirrorY.value=s["default"].lucky(2),this.postFXPass.shader.uniforms.divide.value<4?this.postFXPass.shader.uniforms.morph.value=s["default"].lucky(2):this.postFXPass.shader.uniforms.morph.value=0,!t){var n=s["default"].getPalette();c["default"].emit(f["default"].PALETTE_CHANGE,n)}this.background.scale.x=this.background.scale.y=s["default"].range([1,6]),t||(this.$logo.style.opacity=~~(2*Math.random())),this.background.scale.x>1?TweenMax.to(window.app.camera.position,.15,{z:500*Math.random()+600,ease:Power2.easeOut}):TweenMax.to(window.app.camera.position,.15,{z:500*Math.random()+800,ease:Power2.easeOut})}},{key:"onSplitEffect",value:function(e){this.postFXPass.shader.uniforms.divide.value=e,this.postFXPass.shader.uniforms.morph.value=1}},{key:"onResumeVjing",value:function(){this.playVjing(!1)}},{key:"onPauseVjing",value:function(){this.pauseVjing()}},{key:"playVjing",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!0,t=new TimelineMax({onComplete:function(){e&&E["default"].play()}});t.to(this.background.scale,.6,{x:window.innerWidth/400,y:window.innerHeight/400,ease:Power2.easeOut},0),t.to([window.app.camera.position,window.app.css3DCamera.position],.6,{z:1200,ease:Power2.easeOut},0),t.to([this.$credits,this.$brand,this.$crosses],.3,{opacity:0,ease:Power2.easeOut},0)}},{key:"pauseVjing",value:function(){var e=this;this.postFXPass.shader.uniforms.divide.value=1,this.postFXPass.shader.uniforms.mirrorX.value=0,this.postFXPass.shader.uniforms.mirrorY.value=0,this.postFXPass.shader.uniforms.morph.value=0,this.background.scale.x=window.innerWidth/400,this.background.scale.y=window.innerHeight/400,this.$logo.style.opacity=1;var t=new TimelineMax;t.to(window.app.camera.position,.7,{z:1200,ease:Power2.easeOut},0),t.to(this.background.scale,.7,{x:1,y:1,ease:Power2.easeOut},0),t.to(this.supershape.scale,.7,{x:.7,y:.7,z:.7,ease:Power2.easeOut},0),t.to([this.$ui,this.$crosses,this.$brand,this.$credits,this.$logo],.7,{opacity:1,ease:Power2.easeOut}),t.addCallback(function(){e.circles.display()},.3)}},{key:"render",value:function(){this.update(),window.app.css3DRenderer.render(window.app.css3DScene,window.app.css3DCamera),window.app.renderer.autoClearColor=!0,window.app.composer.reset(),window.app.composer.render(window.app.scene,window.app.camera),window.app.composer.pass(this.postFXPass),window.app.composer.pass(this.FXAAPass),window.app.composer.toScreen()}},{key:"update",value:function(){this.supershape.update(this.time);var e=s["default"].map(window.mouse.y,0,window.innerHeight,-.1,.1),t=s["default"].map(window.mouse.x,0,window.innerWidth,-.1,.1);this.smoothRotationX+=.1*(e-this.smoothRotationX),this.smoothRotationY+=.1*(t-this.smoothRotationY),window.app.scene.rotation.x=2*this.smoothRotationX,window.app.scene.rotation.y=2*this.smoothRotationY,window.app.scene.position.x=100*this.smoothRotationX,window.app.scene.position.y=100*this.smoothRotationY,window.app.css3DScene.rotation.x=this.smoothRotationX,window.app.css3DScene.rotation.y=this.smoothRotationY,window.app.css3DScene.position.x=50*this.smoothRotationX,window.app.css3DScene.position.y=50*this.smoothRotationY}},{key:"resize",value:function(){window.app.resize(window.innerWidth,window.innerHeight)}}]),e}();new O},{"./app/Background":32,"./app/Circles":33,"./app/Supershape":34,"./controllers/EffectController":37,"./controllers/KeyboardController":38,"./controllers/ShapeController":39,"./events/Events":40,"./events/EventsManager":41,"./managers/InteractionManager":42,"./managers/RafManager":43,"./managers/SoundManager":44,"./util/Utils":46,"./util/createApp":47,glslify:9}],32:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=e("../events/EventsManager"),c=o(u),l=e("../events/Events"),f=o(l),d=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.onPaletteChange=e.onPaletteChange.bind(e),e.geometry=new THREE.PlaneGeometry(600,600),e.material=new THREE.MeshBasicMaterial({color:16711680}),e.mesh=new THREE.Mesh(e.geometry,e.material),e.add(e.mesh),c["default"].on(f["default"].PALETTE_CHANGE,e.onPaletteChange),e}return a(t,e),s(t,[{key:"onPaletteChange",value:function(e){this.material.color.set(new THREE.Color(e.background))}}]),t}(THREE.Object3D);n["default"]=d},{"../events/Events":40,"../events/EventsManager":41}],33:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=e("../events/EventsManager"),c=o(u),l=e("../events/Events"),f=o(l),d=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e.onMouseDown=e.onMouseDown.bind(e),e.material=new THREE.MeshBasicMaterial({color:14540253,transparent:!0}),e.meshes=[];for(var n=0;6>n;n++){var o=new THREE.RingGeometry(223+50*n,225+50*n,64,1),a=new THREE.Mesh(o,e.material);a.position.z=10*-(6-n)*4,a.initialDepth=a.position.z,e.add(a),e.meshes[n]=a}return c["default"].on(f["default"].MOUSE_DOWN,e.onMouseDown),e}return a(t,e),s(t,[{key:"display",value:function(){for(var e=new TimelineMax,t=0;t<this.meshes.length;t++)e.fromTo(this.meshes[t].scale,.6,{x:.88,y:.88},{x:1,y:1,ease:Power2.easeOut},.06*t)}},{key:"hide",value:function(){}},{key:"onMouseDown",value:function(){for(var e=new TimelineMax,t=0;t<this.meshes.length;t++)e.to(this.meshes[t].scale,.6,{x:1.12,y:1.12,ease:Power2.easeOut},.06*t)}}]),t}(THREE.Object3D);n["default"]=d},{"../events/Events":40,"../events/EventsManager":41}],34:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=e("../events/EventsManager"),c=o(u),l=e("../events/Events"),f=o(l),d=e("../controllers/ShapeController"),h=o(d),p=e("glslify"),m=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));n.radius=e,n.onPaletteChange=n.onPaletteChange.bind(n),n.geometry=new THREE.Geometry;for(var o=.05,a=parseInt(2*Math.PI/o+1.3462),s=parseInt(Math.PI/o+1.5),u=0;a>u;u++)for(var l=-Math.PI+u*o,d=n.supershape(l,0,0,0,0,1,1),h=0;s>h;h++){var m=-Math.PI/2+h*o,v=n.supershape(m,0,0,0,0,1,1),E=d*Math.cos(l)*v*Math.cos(m)*30,y=d*Math.sin(l)*v*Math.cos(m)*30,w=v*Math.sin(m)*30;n.geometry.vertices.push(new THREE.Vector3(E,y,w))}for(var b=0;a-1>b;b++)for(var g=0;s-1>g;g++){var F=(b+1)*s+g,C=(b+1)*s+g+1,A=b*s+g+1,D=b*s+g;n.geometry.faces.push(new THREE.Face3(F,C,D)),n.geometry.faces.push(new THREE.Face3(C,A,D))}return n.geometry.computeFaceNormals(),n.geometry.computeVertexNormals(),n.material=new THREE.ShaderMaterial({vertexShader:p(["precision mediump float;\n#define GLSLIFY 1\n\nuniform mat4 u_projectionMat;\nuniform mat4 u_modelviewMat;\nuniform mat3 u_normalMat;\nuniform vec3 u_diffuse;\n\nvarying vec3 v_eyeNormal;\nvarying vec3 v_diffuse;\n\nvoid main() {\n\n    v_eyeNormal = normalMatrix * normal;\n    v_diffuse = u_diffuse;\n\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\n}"]),fragmentShader:p(["precision mediump float;\n#define GLSLIFY 1\nvarying vec3 v_eyeNormal;\nvarying vec3 v_diffuse;\n\nuniform vec3 u_light;\nuniform vec3 u_ambient;\nuniform vec3 u_specular;\nuniform float u_shine;\nuniform float u_celShading;\n\nuniform vec3 color1;\nuniform vec3 color2;\nuniform vec3 color3;\nuniform vec3 color4;\nuniform vec3 color5;\n\nfloat celShade(float d) {\n  float E = 0.05;\n  d *= u_celShading;\n  float r = 1.0 / (u_celShading-0.5);\n  float fd = floor(d);\n  float dr = d * r;\n  if (d > fd-E && d < fd+E) {\n    float last = (fd - sign(d - fd))*r;\n    return mix(last, fd*r, \n      smoothstep((fd-E)*r, (fd+E)*r, dr));\n  } else {\n    return fd*r;\n  }\n}\n\nvoid main() {\n  vec3 en = normalize(v_eyeNormal);\n  vec3 ln = normalize(u_light);\n  vec3 hn = normalize(ln + vec3(0, 0, 1));\n  float E = 0.05;\n\n  float df = max(0.0, dot(en, ln));\n  float sf = max(0.0, dot(en, hn));\n\n  float cdf = celShade(df);  \n\n  sf = pow(sf, u_shine);\n\n  if (sf > 0.5 - E && sf < 0.5 + E) {\n    sf = smoothstep(0.5 - E, 0.5 + E, sf);\n  } else {\n    sf = step(0.5, sf);\n  }\n\n  float csf = sf;\n\n  vec3 color = u_ambient + cdf * v_diffuse + csf * u_specular;\n\n  // REMINDER (garder ça + color postpro = duotone)\n  // REMINDER (garder ça + color postpro = duotone)\n  // REMINDER (garder ça + color postpro = duotone)\n  if (color.g > 0.85) color = color5;\n  else if (color.g > 0.7) color = color4;\n  else if (color.g > 0.4) color = color3;\n  // else if (color.g > 0.1) color = color2;\n  // else color = color1;\n  else color = color2;\n\n  gl_FragColor = vec4(color, 1.0);\n}"]),uniforms:{u_diffuse:{type:"c",value:new THREE.Color(53619)},u_light:{type:"v3",value:new THREE.Vector3(.25,.25,1)},u_ambient:{type:"v3",value:new THREE.Vector3(.1,.1,.1)},u_specular:{type:"v3",value:new THREE.Vector3(.5,.5,.5)},u_shine:{type:"f",value:1e3},u_celShading:{type:"f",value:10},color1:{type:"c",value:new THREE.Color(16756018)},color2:{type:"c",value:new THREE.Color(8720506)},color3:{type:"c",value:new THREE.Color(1447446)},color4:{type:"c",value:new THREE.Color(16777028)},color5:{type:"c",value:new THREE.Color(16756018)}}}),n.outlineMaterial=new THREE.ShaderMaterial({vertexShader:p(["precision mediump float;\n#define GLSLIFY 1\n\nuniform float u_offset;\n\nvoid main() {\n  vec4 p = vec4(position + normal * u_offset, 1.0);\n  gl_Position = projectionMatrix * modelViewMatrix * p;\n}"]),fragmentShader:p(["precision mediump float;\n#define GLSLIFY 1\n\nuniform vec3 u_color;\n\nvoid main() {\n  gl_FragColor = vec4(u_color, 1.0);\n}"]),uniforms:{u_offset:{type:"f",value:4.2},u_color:{type:"c",value:new THREE.Color(0)}}}),n.outlineMaterial.side=THREE.BackSide,n.thinOutlineMaterial=new THREE.ShaderMaterial({vertexShader:p(["precision mediump float;\n#define GLSLIFY 1\n\nuniform float u_offset;\n\nvoid main() {\n  vec4 p = vec4(position + normal * u_offset, 1.0);\n  gl_Position = projectionMatrix * modelViewMatrix * p;\n}"]),fragmentShader:p(["precision mediump float;\n#define GLSLIFY 1\n\nuniform vec3 u_color;\n\nvoid main() {\n  gl_FragColor = vec4(u_color, 1.0);\n}"]),uniforms:{u_offset:{type:"f",value:1},u_color:{type:"c",value:new THREE.Color(65280)}}}),n.thinOutlineMaterial.side=THREE.BackSide,n.shape=new THREE.Mesh(n.geometry,n.material),n.outline=new THREE.Mesh(n.geometry,n.outlineMaterial),n.thinOutline=new THREE.Mesh(n.geometry,n.thinOutlineMaterial),n.add(n.shape),n.add(n.outline),n.add(n.thinOutline),c["default"].on(f["default"].PALETTE_CHANGE,n.onPaletteChange),n}return a(t,e),s(t,[{key:"display",value:function(){TweenMax.to(this.scale,.6,{x:1,y:1,z:1,ease:Power2.easeOut})}},{key:"hide",value:function(){}},{key:"draw",value:function(){for(var e=h["default"].get(),t=e.m1,n=e.n11,o=e.n21,r=e.n31,i=e.m2,a=e.n12,s=e.n22,u=e.n32,c=.05,l=parseInt(2*Math.PI/c+1.3462),f=parseInt(Math.PI/c+1.5),d=0,p=0;l>p;p++)for(var m=-Math.PI+p*c,v=this.supershape(m,t,n,o,r,1,1),E=0;f>E;E++){var y=-Math.PI/2+E*c,w=this.supershape(y,i,a,s,u,1,1),b=v*Math.cos(m)*w*Math.cos(y)*this.radius,g=v*Math.sin(m)*w*Math.cos(y)*this.radius,F=w*Math.sin(y)*this.radius;this.geometry.vertices[d].set(b,g,F),d++}this.geometry.computeFaceNormals(),this.geometry.computeVertexNormals(),this.geometry.verticesNeedUpdate=!0}},{key:"onPaletteChange",value:function(e){this.material.uniforms.color1.value=new THREE.Color(e.shape[0]),this.material.uniforms.color2.value=new THREE.Color(e.shape[1]),this.material.uniforms.color3.value=new THREE.Color(e.shape[2]),this.material.uniforms.color4.value=new THREE.Color(e.shape[3]),this.material.uniforms.color5.value=new THREE.Color(e.shape[4]),this.outlineMaterial.uniforms.u_color.value=new THREE.Color(e.outline),this.thinOutlineMaterial.uniforms.u_color.value=new THREE.Color(e.thinOutline)}},{key:"supershape",value:function(e,t,n,o,r,i,a){var s=Math.abs(1/i*Math.cos(t*e/4));s=Math.pow(s,o);var u=Math.abs(1/a*Math.sin(t*e/4));u=Math.pow(u,r);var c=s+u,l=Math.pow(c,-1/n);return l}},{key:"update",value:function(){this.rotation.x+=.001,this.rotation.y+=.005,this.rotation.z+=.008,window.vjPlaying||this.draw()}}]),t}(THREE.Object3D);n["default"]=m},{"../controllers/ShapeController":39,"../events/Events":40,"../events/EventsManager":41,glslify:9}],35:[function(e,t,n){t.exports=[["#69D2E7","#A7DBD8","#E0E4CC","#F38630","#FA6900"],["#FE4365","#FC9D9A","#F9CDAD","#C8C8A9","#83AF9B"],["#EFEECC","#FE8B05","#FE0557","#400403","#0AABBA"],["#AAFF00","#FFAA00","#FF00AA","#AA00FF","#00AAFF"],["#ECD078","#D95B43","#C02942","#542437","#53777A"],["#E8DDCB","#CDB380","#036564","#033649","#031634"],["#490A3D","#BD1550","#E97F02","#F8CA00","#8A9B0F"],["#594F4F","#547980","#45ADA8","#9DE0AD","#E5FCC2"],["#00A0B0","#6A4A3C","#CC333F","#EB6841","#EDC951"],["#E94E77","#D68189","#C6A49A","#C6E5D9","#F4EAD5"],["#D9CEB2","#948C75","#D5DED9","#7A6A53","#99B2B7"],["#EFFFCD","#DCE9BE","#555152","#2E2633","#99173C"],["#3FB8AF","#7FC7AF","#DAD8A7","#FF9E9D","#FF3D7F"],["#413E4A","#73626E","#B38184","#F0B49E","#F7E4BE"],["#99B898","#FECEA8","#FF847C","#E84A5F","#2A363B"],["#FF4E50","#FC913A","#F9D423","#EDE574","#E1F5C4"],["#351330","#424254","#64908A","#E8CAA4","#CC2A41"],["#655643","#80BCA3","#F6F7BD","#E6AC27","#BF4D28"],["#FAD089","#FF9C5B","#F5634A","#ED303C","#3B8183"],["#FF9900","#424242","#E9E9E9","#BCBCBC","#3299BB"],["#EEE6AB","#C5BC8E","#696758","#45484B","#36393B"],["#F8B195","#F67280","#C06C84","#6C5B7B","#355C7D"],["#F04155","#FF823A","#F2F26F","#FFF7BD","#95CFB7"],["#F0D8A8","#3D1C00","#86B8B1","#F2D694","#FA2A00"],["#E8D5B7","#0E2430","#FC3A51","#F5B349","#E8D5B9"],["#AB526B","#BCA297","#C5CEAE","#F0E2A4","#F4EBC3"],["#607848","#789048","#C0D860","#F0F0D8","#604848"],["#1C2130","#028F76","#B3E099","#FFEAAD","#D14334"],["#A8E6CE","#DCEDC2","#FFD3B5","#FFAAA6","#FF8C94"],["#FC354C","#29221F","#13747D","#0ABFBC","#FCF7C5"],["#B9D3B0","#81BDA4","#B28774","#F88F79","#F6AA93"],["#230F2B","#F21D41","#EBEBBC","#BCE3C5","#82B3AE"],["#4E395D","#827085","#8EBE94","#CCFC8E","#DC5B3E"],["#DAD6CA","#1BB0CE","#4F8699","#6A5E72","#563444"],["#D1313D","#E5625C","#F9BF76","#8EB2C5","#615375"],["#8DCCAD","#988864","#FEA6A2","#F9D6AC","#FFE9AF"],["#CFFFDD","#B4DEC1","#5C5863","#A85163","#FF1F4C"],["#382F32","#FFEAF2","#FCD9E5","#FBC5D8","#F1396D"],["#B6D8C0","#C8D9BF","#DADABD","#ECDBBC","#FEDCBA"],["#A7C5BD","#E5DDCB","#EB7B59","#CF4647","#524656"],["#FFEDBF","#F7803C","#F54828","#2E0D23","#F8E4C1"],["#C1B398","#605951","#FBEEC2","#61A6AB","#ACCEC0"],["#FFFBB7","#A6F6AF","#66B6AB","#5B7C8D","#4F2958"],["#EFF3CD","#B2D5BA","#61ADA0","#248F8D","#605063"],["#FCFEF5","#E9FFE1","#CDCFB7","#D6E6C3","#FAFBE3"],["#0CA5B0","#4E3F30","#FEFEEB","#F8F4E4","#A5B3AA"],["#FFE181","#EEE9E5","#FAD3B2","#FFBA7F","#FF9C97"],["#A70267","#F10C49","#FB6B41","#F6D86B","#339194"],["#2D2D29","#215A6D","#3CA2A2","#92C7A3","#DFECE6"],["#F38A8A","#55443D","#A0CAB5","#CDE9CA","#F1EDD0"],["#F8EDD1","#D88A8A","#474843","#9D9D93","#C5CFC6"],["#1B325F","#9CC4E4","#E9F2F9","#3A89C9","#F26C4F"],["#BED6C7","#ADC0B4","#8A7E66","#A79B83","#BBB2A1"],["#82837E","#94B053","#BDEB07","#BFFA37","#E0E0E0"],["#312736","#D4838F","#D6ABB1","#D9D9D9","#C4FFEB"],["#E5EAA4","#A8C4A2","#69A5A4","#616382","#66245B"],["#395A4F","#432330","#853C43","#F25C5E","#FFA566"],["#FDFFD9","#FFF0B8","#FFD6A3","#FAAD8E","#142F30"],["#FBC599","#CDBB93","#9EAE8A","#335650","#F35F55"],["#C7FCD7","#D9D5A7","#D9AB91","#E6867A","#ED4A6A"],["#FFEFD3","#FFFEE4","#D0ECEA","#9FD6D2","#8B7A5E"],["#F1396D","#FD6081","#F3FFEB","#ACC95F","#8F9924"],["#F2E3C6","#FFC6A5","#E6324B","#2B2B2B","#353634"],["#59B390","#F0DDAA","#E47C5D","#E32D40","#152B3C"],["#512B52","#635274","#7BB0A8","#A7DBAB","#E4F5B1"],["#E65540","#F8ECC2","#65A8A6","#79896D","#FFFFFF"],["#CAFF42","#EBF7F8","#D0E0EB","#88ABC2","#49708A"],["#E4DED0","#ABCCBD","#7DBEB8","#181619","#E32F21"],["#058789","#503D2E","#D54B1A","#E3A72F","#F0ECC9"],["#EFD9B4","#D6A692","#A39081","#4D6160","#292522"],["#CC5D4C","#FFFEC6","#C7D1AF","#96B49C","#5B5847"],["#E0EFF1","#7DB4B5","#FFFFFF","#680148","#000000"],["#2D1B33","#F36A71","#EE887A","#E4E391","#9ABC8A"],["#360745","#D61C59","#E7D84B","#EFEAC5","#1B8798"],["#E3E8CD","#BCD8BF","#D3B9A3","#EE9C92","#FE857E"],["#FC284F","#FF824A","#FEA887","#F6E7F7","#D1D0D7"],["#FFB884","#F5DF98","#FFF8D4","#C0D1C2","#2E4347"],["#80A8A8","#909D9E","#A88C8C","#FF0D51","#7A8C89"],["#A1DBB2","#FEE5AD","#FACA66","#F7A541","#F45D4C"],["#641F5E","#676077","#65AC92","#C2C092","#EDD48E"],["#FFF3DB","#E7E4D5","#D3C8B4","#C84648","#703E3B"],["#D4F7DC","#DBE7B4","#DBC092","#E0846D","#F51441"],["#85847E","#AB6A6E","#F7345B","#353130","#CBCFB4"],["#E6B39A","#E6CBA5","#EDE3B4","#8B9E9B","#6D7578"],["#23192D","#FD0A54","#F57576","#FEBF97","#F5ECB7"],["#452E3C","#FF3D5A","#FFB969","#EAF27E","#3B8C88"],["#041122","#259073","#7FDA89","#C8E98E","#E6F99D"],["#B1E6D1","#77B1A9","#3D7B80","#270A33","#451A3E"],["#9D9E94","#C99E93","#F59D92","#E5B8AD","#D5D2C8"],["#FDCFBF","#FEB89F","#E23D75","#5F0D3B","#742365"],["#B7CBBF","#8C886F","#F9A799","#F4BFAD","#F5DABD"],["#F0FFC9","#A9DA88","#62997A","#72243D","#3B0819"],["#429398","#6B5D4D","#B0A18F","#DFCDB4","#FBEED3"],["#E6EBA9","#ABBB9F","#6F8B94","#706482","#703D6F"],["#44749D","#C6D4E1","#FFFFFF","#EBE7E0","#BDB8AD"],["#FA6A64","#7A4E48","#4A4031","#F6E2BB","#9EC6B8"],["#F6D76B","#FF9036","#D6254D","#FF5475","#FDEBA9"],["#E7EDEA","#FFC52C","#FB0C06","#030D4F","#CEECEF"],["#8D7966","#A8A39D","#D8C8B8","#E2DDD9","#F8F1E9"],["#F2E8C4","#98D9B6","#3EC9A7","#2B879E","#616668"],["#5CACC4","#8CD19D","#CEE879","#FCB653","#FF5254"]]},{}],36:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=[{background:1447446,outline:0,thinOutline:16726065,shape:[16726065,16703767,1482817,146789,1447446]},{background:11473753,outline:1447446,thinOutline:16715284,shape:[16756018,8720506,1447446,16777028,16756018]},{background:1184829,outline:1447446,thinOutline:9119684,shape:[16756018,16775616,1447446,1768134,859761]}];n["default"]=o},{}],37:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=e("../events/EventsManager"),s=o(a),u=e("../events/Events"),c=o(u),l=e("../util/Utils"),f=o(l),d=e("../colors/colorsPalette"),h=(o(d),function(){function e(){r(this,e),this.onKeypress=this.onKeypress.bind(this),this.paletteIndex=0,s["default"].on(c["default"].KEYPRESS,this.onKeypress)}return i(e,[{key:"onKeypress",value:function(e){switch(e){case"q":s["default"].emit(c["default"].SPLIT_EFFECT,1);break;case"w":s["default"].emit(c["default"].SPLIT_EFFECT,2);break;case"e":s["default"].emit(c["default"].SPLIT_EFFECT,4);break;case"r":var t=f["default"].getPalette();s["default"].emit(c["default"].PALETTE_CHANGE,t);break;case"t":break;case"y":}}}],[{key:"start",value:function(){e.instance||(e.instance=new e)}}]),e}());n["default"]=h},{"../colors/colorsPalette":36,"../events/Events":40,"../events/EventsManager":41,"../util/Utils":46}],38:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=e("../events/EventsManager"),s=o(a),u=e("../events/Events"),c=o(u),l=function(){function e(){r(this,e),this.onKeypress=this.onKeypress.bind(this),this.keys={113:"q",119:"w",101:"e",114:"r",116:"t",121:"y",32:"spacebar"},window.addEventListener("keypress",this.onKeypress)}return i(e,[{key:"onKeypress",value:function(e){s["default"].emit(c["default"].KEYPRESS,this.keys[e.keyCode])}}],[{key:"start",value:function(){e.instance||(e.instance=new e)}}]),e}();n["default"]=l},{"../events/Events":40,"../events/EventsManager":41}],39:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=e("../managers/RafManager"),s=o(a),u=e("../events/EventsManager"),c=(o(u),e("../events/Events")),l=(o(c),e("../util/Simple1DNoise")),f=o(l),d=e("../util/Utils"),h=o(d),p=new f["default"],m=function(){function e(){r(this,e),this.m1=0,this.n11=0,this.n21=0,this.n31=0,this.m2=0,this.n12=0,this.n22=0,this.n32=0,this.smoothM1=0,this.smoothN11=0,this.smoothN21=0,this.smoothN31=0,this.smoothM2=0,this.smoothN12=0,this.smoothN22=0,this.smoothN32=0,this.movingTime=0,this.playing=!1,this.prevMouse=new THREE.Vector2,this.update=this.update.bind(this),this.onHideShape=this.onHideShape.bind(this),s["default"].bind("mouseController",this.update)}return i(e,[{key:"onHideShape",value:function(){this.playing=!1}},{key:"update",value:function(){window.mousedown&&(window.mouse.x===this.prevMouse.x&&window.mouse.y===this.prevMouse.y||(this.movingTime+=1),this.m1=h["default"].map(p.getVal(.02*this.movingTime),0,1,.1,15),this.n11=h["default"].map(p.getVal(.02*(this.movingTime+10)),0,1,.1,100),this.n21=h["default"].map(p.getVal(.02*(this.movingTime+20)),0,1,.1,100),this.n31=h["default"].map(p.getVal(.02*(this.movingTime+30)),0,1,.1,100),this.m2=h["default"].map(p.getVal(.02*(this.movingTime+40)),0,1,.1,15),this.n12=h["default"].map(p.getVal(.02*(this.movingTime+50)),0,1,.1,100),this.n22=h["default"].map(p.getVal(.02*(this.movingTime+60)),0,1,.1,100),this.n32=h["default"].map(p.getVal(.02*(this.movingTime+70)),0,1,.1,100)),this.smoothM1+=.8*(this.m1-this.smoothM1),this.smoothN11+=.8*(this.n11-this.smoothN11),this.smoothN21+=.8*(this.n21-this.smoothN21),this.smoothN31+=.8*(this.n31-this.smoothN31),this.smoothM2+=.8*(this.m2-this.smoothM2),this.smoothN12+=.8*(this.n12-this.smoothN12),this.smoothN22+=.8*(this.n22-this.smoothN22),this.smoothN32+=.8*(this.n32-this.smoothN32),this.prevMouse.set(window.mouse.x,window.mouse.y)}}],[{key:"start",value:function(){e.instance||(e.instance=new e)}},{key:"get",value:function(){var t={m1:e.instance.smoothM1.toFixed(2),n11:e.instance.smoothN11.toFixed(2),n21:e.instance.smoothN21.toFixed(2),n31:e.instance.smoothN31.toFixed(2),m2:e.instance.smoothM2.toFixed(2),n12:e.instance.smoothN12.toFixed(2),n22:e.instance.smoothN22.toFixed(2),n32:e.instance.smoothN32.toFixed(2)};return t}}]),e}();n["default"]=m},{"../events/Events":40,"../events/EventsManager":41,"../managers/RafManager":43,"../util/Simple1DNoise":45,"../util/Utils":46}],40:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{
value:!0});var o={KEYPRESS:"custom_keypress",EFFECT_SPLIT:"effect_split",EFFECT_COLOR:"effect_color",PREPARE_VJING:"prepare_vjing",START_VJING:"start_vjing",DISPLAY_SHAPE:"display_shape",HIDE_SHAPE:"hide_shape",SOUND_ENDED:"sound_ended",DISPLAY_UI:"display_ui",MOUSE_DOWN:"mouse_down",MOUSE_UP:"mouse_up",PLAY_EFFECT:"play_effect",SPLIT_EFFECT:"split_effect",RESUME_VJING:"resume_vjing",PAUSE_VJING:"pause_vjing",PALETTE_CHANGE:"palette_change"};n["default"]=o},{}],41:[function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=function(){function e(){o(this,e)}return r(e,null,[{key:"emit",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=e.eventsList[t];if(!o)return void console.warn("EventsManager :: Emit :: Currently no listeners for this event : ",t);for(var r=0,i=o.length;i>r;r++)o[r].fn(n)}},{key:"on",value:function(t,n){console.log("EventsManager :: ON ::",t),e.eventsList||(e.eventsList={}),e.eventsList[t]||(e.eventsList[t]=[]),e.eventsList[t].push({fn:n})}},{key:"once",value:function(t,n){var o=function r(o){e.off(t,r),n(o)};o._=n,e.on(t,o)}},{key:"off",value:function(t,n){var o=e.eventsList[t];if(!o)return void console.warn("EventsManager :: Off :: Currently no listeners for this event : ",t);if(!n)return void console.warn("EventsManager :: Off :: Callback is undefined");for(var r=[],i=0,a=o.length;a>i;i++){var s=o[i];s.fn!==n&&s.fn._!==n&&r.push(s)}r.length>0?e.eventsList[t]=r:delete e.eventsList[t]}}]),e}();n["default"]=i},{}],42:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=e("../events/EventsManager"),s=o(a),u=e("../events/Events"),c=o(u),l=function(){function e(){r(this,e)}return i(e,null,[{key:"start",value:function(){window.mouse=new THREE.Vector2,window.mousedown=!1,window.addEventListener("mousemove",e.onMousemove),window.addEventListener("touchmove",e.onTouchmove),window.addEventListener("mousedown",e.onMousedown),window.addEventListener("touchstart",e.onMousedown),window.addEventListener("mouseup",e.onMouseup),window.addEventListener("touchend",e.onMouseup)}},{key:"onMousemove",value:function(e){window.mouse.set(e.clientX,e.clientY)}},{key:"onTouchmove",value:function(e){e.preventDefault(),window.mouse.set(e.touches[0].clientX,e.touches[0].clientY)}},{key:"onMousedown",value:function(){window.mousedown=!0,s["default"].emit(c["default"].MOUSE_DOWN)}},{key:"onMouseup",value:function(){window.mousedown=!1,s["default"].emit(c["default"].MOUSE_UP)}}]),e}();n["default"]=l},{"../events/Events":40,"../events/EventsManager":41}],43:[function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=function(){function e(){o(this,e),this.update=this.update.bind(this),this.binders=[],this.raf=null,this.now=Date.now(),this.time=this.now,this.deltaTime=0}return r(e,[{key:"update",value:function(){this.now=Date.now(),this.deltaTime=this.now-this.time,this.time=this.now;for(var e=0;e<this.binders.length;e++)this.binders[e].fn(this.deltaTime);this.raf=window.requestAnimationFrame(this.update)}}],[{key:"start",value:function(){e.INSTANCE||(e.INSTANCE=new e),e.INSTANCE.update()}},{key:"stop",value:function(){window.cancelAnimationFrame(e.INSTANCE.raf)}},{key:"bind",value:function(t,n){var o=e.INSTANCE;if("string"!=typeof t)return void console.error("RafManager :: Bind :: Invalid ID",t);if("function"!=typeof n)return void console.error("RafManager :: Bind :: Invalid Function",n);for(var r=0;r<o.binders.length;r++){var i=o.binders[r];if(i.id===t)return void console.warn("RafManager :: Bind :: ID already used !",t)}e.INSTANCE.binders.push({id:t,fn:n})}},{key:"unbind",value:function(t){for(var n=-1,o=e.INSTANCE,r=0;r<o.binders.length;r++)if(o.binders[r].id===t){n=r;break}n>-1&&o.binders.splice(n,1)}},{key:"debug",value:function(){console.table(e.INSTANCE.binders)}}]),e}();n["default"]=i},{}],44:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=e("../events/EventsManager"),s=o(a),u=e("../events/Events"),c=o(u),l=e("../managers/RafManager"),f=o(l),d=(e("web-audio-player"),e("web-audio-analyser")),h=e("analyser-frequency-average"),p=window.AudioContext||window.webkitAudioContext,m=p?new p:null,v=function(){function e(){r(this,e),this.ready=!1,this.tumtumTime=0,this.bumbumTime=0,this.onCanplay=this.onCanplay.bind(this),this.onEnded=this.onEnded.bind(this),this.update=this.update.bind(this),this.onKeyPress=this.onKeyPress.bind(this),this.player=new Audio,this.player.crossOrigin="Anonymous",this.player.addEventListener("canplay",this.onCanplay),this.player.addEventListener("ended",this.onEnded),this.player.src="../assets/sound/music.mp3",s["default"].on(c["default"].KEYPRESS,this.onKeyPress)}return i(e,[{key:"onCanplay",value:function(){this.ready||(this.ready=!0,this.audioUtil=d(this.player,m,{audible:!0,stereo:!1}),this.analyser=this.audioUtil.analyser,this.player.volume=0,e.pause())}},{key:"onEnded",value:function(){e.pause(),this.player.currentTime=0,s["default"].emit(c["default"].SOUND_ENDED)}},{key:"onKeyPress",value:function(t){"spacebar"===t&&window.vjPlaying&&(this.player.paused?(e.play(),s["default"].emit(c["default"].RESUME_VJING)):(e.pause(),s["default"].emit(c["default"].PAUSE_VJING)))}},{key:"update",value:function(){if(!this.player.paused){var e=this.audioUtil.frequencies(),t=h(this.analyser,e,246,700),n=h(this.analyser,e,20,70),o=Date.now()-this.tumtumTime>600,r=Date.now()-this.bumbumTime>600,i=Math.abs(this.tumtumTime-this.bumbumTime);o&&t>.5?(this.tumtumTime=Date.now(),s["default"].emit(c["default"].PLAY_EFFECT,{disallow:!1})):r&&n>.95&&i>300&&(this.bumbumTime=Date.now(),s["default"].emit(c["default"].PLAY_EFFECT,{disallow:!0}))}}}],[{key:"start",value:function(){e.instance||(e.instance=new e)}},{key:"play",value:function(){e.instance.player.play(),TweenMax.to(e.instance.player,.3,{volume:1,ease:Power2.easeOut,onComplete:function(){f["default"].bind("soundmanager",e.instance.update)}})}},{key:"pause",value:function(){f["default"].unbind("soundmanager"),TweenMax.to(e.instance.player,.3,{volume:0,ease:Power2.easeOut,onComplete:function(){e.instance.player.pause()}})}}]),e}();n["default"]=v},{"../events/Events":40,"../events/EventsManager":41,"../managers/RafManager":43,"analyser-frequency-average":1,"web-audio-analyser":19,"web-audio-player":20}],45:[function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:256,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;o(this,e),this.MAX_VERTICES=t,this.MAX_VERTICES_MASK=this.MAX_VERTICES-1,this.amplitude=n,this.scale=r,this.xMin=0,this.xMax=0,this.r=[];for(var i=0;i<this.MAX_VERTICES;++i)this.r[i]=Math.random()}return r(e,[{key:"getVal",value:function(e){var t=e*this.scale,n=Math.floor(t),o=t-n,r=o*o*(3-2*o);return this.xMin=n&this.MAX_VERTICES_MASK,this.xMax=this.xMin+1&this.MAX_VERTICES_MASK,this.lerp(this.r[this.xMin],this.r[this.xMax],r)*this.amplitude}},{key:"lerp",value:function(e,t,n){return e*(1-n)+t*n}}]),e}();n["default"]=i},{}],46:[function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=e("../colors/colors2.json"),a=function(){function e(){o(this,e)}return r(e,null,[{key:"map",value:function(e,t,n,o,r){return(e-t)/(n-t)*(r-o)+o}},{key:"lucky",value:function(e){return!~~(Math.random()*e)}},{key:"range",value:function(e){return e[~~(Math.random()*e.length)]}},{key:"getPalette",value:function(){var e=i[~~(Math.random()*i.length)];return{background:e[0],outline:e[1],thinOutline:e[2],shape:e}}}]),e}();n["default"]=a},{"../colors/colors2.json":35}],47:[function(e,t,n){"use strict";function o(){function e(){o&&console.log(r.info.render),r.render(s,a)}function t(e,t){a.aspect=e/t,a.updateProjectionMatrix(),r.setSize(e,t),l.aspect=e/t,l.updateProjectionMatrix(),u.setSize(e,t)}var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=n.debug||!1,r=new THREE.WebGLRenderer({antialias:!0});r.setClearColor(15329769,1),r.setSize(window.innerWidth,window.innerHeight),r.shadowMap.enabled=!0,r.shadowMap.type=THREE.PCFSoftShadowMap;var i=r.domElement;document.body.appendChild(i);var a=new THREE.PerspectiveCamera(45,window.innerWidth/window.innerHeight,1,2e3),s=new THREE.Scene,u=new THREE.CSS3DRenderer;u.setSize(window.innerWidth,window.innerHeight),u.domElement.style.position="absolute",u.domElement.style.top=0,document.body.appendChild(u.domElement);var c=new THREE.Scene,l=new THREE.PerspectiveCamera(45,window.innerWidth/window.innerHeight,1,2e3);WAGNER.vertexShadersPath="js/vertex-shaders",WAGNER.fragmentShadersPath="js/fragment-shaders";var f=new WAGNER.Composer(r,{useRGBA:!0});f.setSize(i.width,i.height);var d={renderer:r,composer:f,canvas:i,camera:a,scene:s,css3DRenderer:u,css3DCamera:l,css3DScene:c,render:e,resize:t};return d}e("three-orbit-controls")(THREE);t.exports=o},{"three-orbit-controls":17}]},{},[31]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvYW5hbHlzZXItZnJlcXVlbmN5LWF2ZXJhZ2UvaW5kZXguanMiLCJidWlsZC5qcyIsIm5vZGVfbW9kdWxlcy9hdWRpby1mcmVxdWVuY3ktdG8taW5kZXgvaW5kZXguanMiLCJub2RlX21vZHVsZXMvYnJvd3Nlci1tZWRpYS1taW1lLXR5cGUvaW5kZXguanMiLCJub2RlX21vZHVsZXMvYnJvd3Nlci1tZWRpYS1taW1lLXR5cGUvbWltZS10eXBlcy5qc29uIiwibm9kZV9tb2R1bGVzL2NsYW1wL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2V2ZW50cy9ldmVudHMuanMiLCJub2RlX21vZHVsZXMvZm9yLWVhY2gvaW5kZXguanMiLCJub2RlX21vZHVsZXMvZ2xvYmFsL3dpbmRvdy5qcyIsIm5vZGVfbW9kdWxlcy9nbHNsaWZ5L2Jyb3dzZXIuanMiLCJub2RlX21vZHVsZXMvaXMtZG9tL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2lzLWZ1bmN0aW9uL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL29iamVjdC1hc3NpZ24vaW5kZXguanMiLCJub2RlX21vZHVsZXMvcGFyc2UtaGVhZGVycy9wYXJzZS1oZWFkZXJzLmpzIiwibm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qcyIsIm5vZGVfbW9kdWxlcy9yaWdodC1ub3cvYnJvd3Nlci5qcyIsIm5vZGVfbW9kdWxlcy9zaW1wbGUtbWVkaWEtZWxlbWVudC9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy90aHJlZS1vcmJpdC1jb250cm9scy9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy90cmltL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL3dlYi1hdWRpby1hbmFseXNlci9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy93ZWItYXVkaW8tcGxheWVyL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL3dlYi1hdWRpby1wbGF5ZXIvbGliL2F1ZGlvLWNvbnRleHQuanMiLCJub2RlX21vZHVsZXMvd2ViLWF1ZGlvLXBsYXllci9saWIvYnVmZmVyLXNvdXJjZS5qcyIsIm5vZGVfbW9kdWxlcy93ZWItYXVkaW8tcGxheWVyL2xpYi9jYW4tcGxheS1zcmMuanMiLCJub2RlX21vZHVsZXMvd2ViLWF1ZGlvLXBsYXllci9saWIvZXZlbnQtYWRkLW9uY2UuanMiLCJub2RlX21vZHVsZXMvd2ViLWF1ZGlvLXBsYXllci9saWIvbWVkaWEtc291cmNlLmpzIiwibm9kZV9tb2R1bGVzL3dlYi1hdWRpby1wbGF5ZXIvbGliL3Jlc3VtZS1jb250ZXh0LmpzIiwibm9kZV9tb2R1bGVzL3dlYi1hdWRpby1wbGF5ZXIvbGliL3hoci1hdWRpby5qcyIsIm5vZGVfbW9kdWxlcy94aHItcHJvZ3Jlc3MvaW5kZXguanMiLCJub2RlX21vZHVsZXMveGhyL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL3h0ZW5kL2ltbXV0YWJsZS5qcyIsInNyYy9qcy9jdXN0b20vTWFpbi5qcyIsInNyYy9qcy9jdXN0b20vYXBwL0JhY2tncm91bmQuanMiLCJzcmMvanMvY3VzdG9tL2FwcC9DaXJjbGVzLmpzIiwic3JjL2pzL2N1c3RvbS9hcHAvU3VwZXJzaGFwZS5qcyIsInNyYy9qcy9jdXN0b20vY29sb3JzL2NvbG9yczIuanNvbiIsInNyYy9qcy9jdXN0b20vY29sb3JzL2NvbG9yc1BhbGV0dGUuanMiLCJzcmMvanMvY3VzdG9tL2NvbnRyb2xsZXJzL0VmZmVjdENvbnRyb2xsZXIuanMiLCJzcmMvanMvY3VzdG9tL2NvbnRyb2xsZXJzL0tleWJvYXJkQ29udHJvbGxlci5qcyIsInNyYy9qcy9jdXN0b20vY29udHJvbGxlcnMvU2hhcGVDb250cm9sbGVyLmpzIiwic3JjL2pzL2N1c3RvbS9ldmVudHMvRXZlbnRzLmpzIiwic3JjL2pzL2N1c3RvbS9ldmVudHMvRXZlbnRzTWFuYWdlci5qcyIsInNyYy9qcy9jdXN0b20vbWFuYWdlcnMvSW50ZXJhY3Rpb25NYW5hZ2VyLmpzIiwic3JjL2pzL2N1c3RvbS9tYW5hZ2Vycy9SYWZNYW5hZ2VyLmpzIiwic3JjL2pzL2N1c3RvbS9tYW5hZ2Vycy9Tb3VuZE1hbmFnZXIuanMiLCJzcmMvanMvY3VzdG9tL3V0aWwvU2ltcGxlMUROb2lzZS5qcyIsInNyYy9qcy9jdXN0b20vdXRpbC9VdGlscy5qcyIsInNyYy9qcy9jdXN0b20vdXRpbC9jcmVhdGVBcHAuanMiXSwibmFtZXMiOlsiZSIsInQiLCJuIiwiciIsInMiLCJvIiwidSIsImEiLCJyZXF1aXJlIiwiaSIsImYiLCJFcnJvciIsImNvZGUiLCJsIiwiZXhwb3J0cyIsImNhbGwiLCJsZW5ndGgiLCIxIiwibW9kdWxlIiwiYW5hbHlzZXJGcmVxdWVuY3lBdmVyYWdlIiwiZGl2IiwiYW5hbHlzZXIiLCJmcmVxdWVuY2llcyIsIm1pbkh6IiwibWF4SHoiLCJzYW1wbGVSYXRlIiwiY29udGV4dCIsImJpbkNvdW50IiwiZnJlcXVlbmN5QmluQ291bnQiLCJzdGFydCIsImZyZXF1ZW5jeVRvSW5kZXgiLCJlbmQiLCJjb3VudCIsInN1bSIsImJpbmQiLCJmbG9hdERhdGEiLCJhdWRpby1mcmVxdWVuY3ktdG8taW5kZXgiLCIyIiwiZnJlcXVlbmN5IiwibnlxdWlzdCIsImluZGV4IiwiTWF0aCIsInJvdW5kIiwiY2xhbXAiLCIzIiwibWltZVR5cGVzIiwibWltZUxvb2t1cCIsIk9iamVjdCIsImtleXMiLCJmb3JFYWNoIiwia2V5IiwiZXh0ZW5zaW9ucyIsImV4dCIsIlR5cGVFcnJvciIsImluZGV4T2YiLCJzdWJzdHJpbmciLCJ0b0xvd2VyQ2FzZSIsIi4vbWltZS10eXBlcy5qc29uIiwiNCIsImF1ZGlvL21pZGkiLCJhdWRpby9tcDQiLCJhdWRpby9tcGVnIiwiYXVkaW8vb2dnIiwiYXVkaW8vd2VibSIsImF1ZGlvL3gtbWF0cm9za2EiLCJhdWRpby94LW1wZWd1cmwiLCJhdWRpby93YXYiLCJ2aWRlby8zZ3BwIiwidmlkZW8vM2dwcDIiLCJ2aWRlby9tcDQiLCJ2aWRlby9tcGVnIiwidmlkZW8vb2dnIiwidmlkZW8vcXVpY2t0aW1lIiwidmlkZW8vd2VibSIsInZpZGVvL3gtZjR2IiwidmlkZW8veC1mbGkiLCJ2aWRlby94LWZsdiIsInZpZGVvL3gtbTR2IiwidmlkZW8veC1tYXRyb3NrYSIsIjUiLCJ2YWx1ZSIsIm1pbiIsIm1heCIsIjYiLCJFdmVudEVtaXR0ZXIiLCJ0aGlzIiwiX2V2ZW50cyIsIl9tYXhMaXN0ZW5lcnMiLCJ1bmRlZmluZWQiLCJpc0Z1bmN0aW9uIiwiYXJnIiwiaXNOdW1iZXIiLCJpc09iamVjdCIsImlzVW5kZWZpbmVkIiwicHJvdG90eXBlIiwiZGVmYXVsdE1heExpc3RlbmVycyIsInNldE1heExpc3RlbmVycyIsImlzTmFOIiwiZW1pdCIsInR5cGUiLCJlciIsImhhbmRsZXIiLCJsZW4iLCJhcmdzIiwibGlzdGVuZXJzIiwiZXJyb3IiLCJhcmd1bWVudHMiLCJlcnIiLCJBcnJheSIsInNsaWNlIiwiYXBwbHkiLCJhZGRMaXN0ZW5lciIsImxpc3RlbmVyIiwibSIsIm5ld0xpc3RlbmVyIiwicHVzaCIsIndhcm5lZCIsImNvbnNvbGUiLCJ0cmFjZSIsIm9uIiwib25jZSIsImciLCJyZW1vdmVMaXN0ZW5lciIsImZpcmVkIiwibGlzdCIsInBvc2l0aW9uIiwic3BsaWNlIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwicmV0IiwibGlzdGVuZXJDb3VudCIsImV2bGlzdGVuZXIiLCJlbWl0dGVyIiwiNyIsIml0ZXJhdG9yIiwidG9TdHJpbmciLCJmb3JFYWNoQXJyYXkiLCJmb3JFYWNoU3RyaW5nIiwiZm9yRWFjaE9iamVjdCIsImFycmF5IiwiaGFzT3duUHJvcGVydHkiLCJzdHJpbmciLCJjaGFyQXQiLCJvYmplY3QiLCJrIiwiaXMtZnVuY3Rpb24iLCI4IiwiZ2xvYmFsIiwid2luIiwid2luZG93Iiwic2VsZiIsIjkiLCJzdHJpbmdzIiwiZXhwcnMiLCJwYXJ0cyIsImpvaW4iLCIxMCIsImlzTm9kZSIsInZhbCIsIk5vZGUiLCJub2RlVHlwZSIsIm5vZGVOYW1lIiwiMTEiLCJmbiIsInNldFRpbWVvdXQiLCJhbGVydCIsImNvbmZpcm0iLCJwcm9tcHQiLCIxMiIsInRvT2JqZWN0Iiwic2hvdWxkVXNlTmF0aXZlIiwiYXNzaWduIiwidGVzdDEiLCJTdHJpbmciLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwidGVzdDIiLCJmcm9tQ2hhckNvZGUiLCJvcmRlcjIiLCJtYXAiLCJ0ZXN0MyIsInNwbGl0IiwibGV0dGVyIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwicHJvcElzRW51bWVyYWJsZSIsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwidGFyZ2V0Iiwic291cmNlIiwiZnJvbSIsInN5bWJvbHMiLCJ0byIsIjEzIiwidHJpbSIsImlzQXJyYXkiLCJoZWFkZXJzIiwicmVzdWx0Iiwicm93IiwiZm9yLWVhY2giLCIxNCIsImRlZmF1bHRTZXRUaW1vdXQiLCJkZWZhdWx0Q2xlYXJUaW1lb3V0IiwicnVuVGltZW91dCIsImZ1biIsImNhY2hlZFNldFRpbWVvdXQiLCJydW5DbGVhclRpbWVvdXQiLCJtYXJrZXIiLCJjYWNoZWRDbGVhclRpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJjbGVhblVwTmV4dFRpY2siLCJkcmFpbmluZyIsImN1cnJlbnRRdWV1ZSIsInF1ZXVlIiwiY29uY2F0IiwicXVldWVJbmRleCIsImRyYWluUXVldWUiLCJ0aW1lb3V0IiwicnVuIiwiSXRlbSIsIm5vb3AiLCJwcm9jZXNzIiwibmV4dFRpY2siLCJ0aXRsZSIsImJyb3dzZXIiLCJlbnYiLCJhcmd2IiwidmVyc2lvbiIsInZlcnNpb25zIiwib2ZmIiwiYmluZGluZyIsIm5hbWUiLCJjd2QiLCJjaGRpciIsImRpciIsInVtYXNrIiwiMTUiLCJwZXJmb3JtYW5jZSIsIm5vdyIsIkRhdGUiLCIxNiIsInNpbXBsZU1lZGlhRWxlbWVudCIsImVsZW1lbnROYW1lIiwic291cmNlcyIsIm9wdCIsIm1lZGlhIiwiZWxlbWVudCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImxvb3AiLCJzZXRBdHRyaWJ1dGUiLCJtdXRlZCIsImF1dG9wbGF5IiwiY29udHJvbHMiLCJjcm9zc09yaWdpbiIsInByZWxvYWQiLCJwb3N0ZXIiLCJ2b2x1bWUiLCJmaWx0ZXIiLCJCb29sZWFuIiwiYXBwZW5kQ2hpbGQiLCJjcmVhdGVTb3VyY2VFbGVtZW50IiwiZGF0YSIsImlzRG9tIiwic3JjIiwiZXh0ZW5zaW9uIiwibG9va3VwIiwiZXh0SWR4IiwibGFzdEluZGV4T2YiLCJ2aWRlbyIsImF1ZGlvIiwiYnJvd3Nlci1tZWRpYS1taW1lLXR5cGUiLCJpcy1kb20iLCIxNyIsIlRIUkVFIiwiT3JiaXRDb250cm9scyIsImRvbUVsZW1lbnQiLCJnZXRBdXRvUm90YXRpb25BbmdsZSIsIlBJIiwic2NvcGUiLCJhdXRvUm90YXRlU3BlZWQiLCJnZXRab29tU2NhbGUiLCJwb3ciLCJ6b29tU3BlZWQiLCJyb3RhdGVMZWZ0IiwiYW5nbGUiLCJzcGhlcmljYWxEZWx0YSIsInRoZXRhIiwicm90YXRlVXAiLCJwaGkiLCJkb2xseUluIiwiZG9sbHlTY2FsZSIsIlBlcnNwZWN0aXZlQ2FtZXJhIiwic2NhbGUiLCJPcnRob2dyYXBoaWNDYW1lcmEiLCJ6b29tIiwibWluWm9vbSIsIm1heFpvb20iLCJ1cGRhdGVQcm9qZWN0aW9uTWF0cml4Iiwiem9vbUNoYW5nZWQiLCJ3YXJuIiwiZW5hYmxlWm9vbSIsImRvbGx5T3V0IiwiaGFuZGxlTW91c2VEb3duUm90YXRlIiwiZXZlbnQiLCJyb3RhdGVTdGFydCIsInNldCIsImNsaWVudFgiLCJjbGllbnRZIiwiaGFuZGxlTW91c2VEb3duRG9sbHkiLCJkb2xseVN0YXJ0IiwiaGFuZGxlTW91c2VEb3duUGFuIiwicGFuU3RhcnQiLCJoYW5kbGVNb3VzZU1vdmVSb3RhdGUiLCJyb3RhdGVFbmQiLCJyb3RhdGVEZWx0YSIsInN1YlZlY3RvcnMiLCJib2R5IiwieCIsImNsaWVudFdpZHRoIiwicm90YXRlU3BlZWQiLCJ5IiwiY2xpZW50SGVpZ2h0IiwiY29weSIsInVwZGF0ZSIsImhhbmRsZU1vdXNlTW92ZURvbGx5IiwiZG9sbHlFbmQiLCJkb2xseURlbHRhIiwiaGFuZGxlTW91c2VNb3ZlUGFuIiwicGFuRW5kIiwicGFuRGVsdGEiLCJwYW4iLCJoYW5kbGVNb3VzZVVwIiwiaGFuZGxlTW91c2VXaGVlbCIsImRlbHRhWSIsImhhbmRsZUtleURvd24iLCJrZXlDb2RlIiwiVVAiLCJrZXlQYW5TcGVlZCIsIkJPVFRPTSIsIkxFRlQiLCJSSUdIVCIsImhhbmRsZVRvdWNoU3RhcnRSb3RhdGUiLCJ0b3VjaGVzIiwicGFnZVgiLCJwYWdlWSIsImhhbmRsZVRvdWNoU3RhcnREb2xseSIsImR4IiwiZHkiLCJkaXN0YW5jZSIsInNxcnQiLCJoYW5kbGVUb3VjaFN0YXJ0UGFuIiwiaGFuZGxlVG91Y2hNb3ZlUm90YXRlIiwiaGFuZGxlVG91Y2hNb3ZlRG9sbHkiLCJoYW5kbGVUb3VjaE1vdmVQYW4iLCJoYW5kbGVUb3VjaEVuZCIsIm9uTW91c2VEb3duIiwiZW5hYmxlZCIsInByZXZlbnREZWZhdWx0IiwiYnV0dG9uIiwibW91c2VCdXR0b25zIiwiT1JCSVQiLCJlbmFibGVSb3RhdGUiLCJzdGF0ZSIsIlNUQVRFIiwiUk9UQVRFIiwiWk9PTSIsIkRPTExZIiwiUEFOIiwiZW5hYmxlUGFuIiwiTk9ORSIsImFkZEV2ZW50TGlzdGVuZXIiLCJvbk1vdXNlTW92ZSIsIm9uTW91c2VVcCIsImRpc3BhdGNoRXZlbnQiLCJzdGFydEV2ZW50IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImVuZEV2ZW50Iiwib25Nb3VzZVdoZWVsIiwic3RvcFByb3BhZ2F0aW9uIiwib25LZXlEb3duIiwiZW5hYmxlS2V5cyIsIm9uVG91Y2hTdGFydCIsIlRPVUNIX1JPVEFURSIsIlRPVUNIX0RPTExZIiwiVE9VQ0hfUEFOIiwib25Ub3VjaE1vdmUiLCJvblRvdWNoRW5kIiwib25Db250ZXh0TWVudSIsIlZlY3RvcjMiLCJtaW5EaXN0YW5jZSIsIm1heERpc3RhbmNlIiwiSW5maW5pdHkiLCJtaW5Qb2xhckFuZ2xlIiwibWF4UG9sYXJBbmdsZSIsIm1pbkF6aW11dGhBbmdsZSIsIm1heEF6aW11dGhBbmdsZSIsImVuYWJsZURhbXBpbmciLCJkYW1waW5nRmFjdG9yIiwiYXV0b1JvdGF0ZSIsIk1PVVNFIiwiTUlERExFIiwidGFyZ2V0MCIsImNsb25lIiwicG9zaXRpb24wIiwiem9vbTAiLCJnZXRQb2xhckFuZ2xlIiwic3BoZXJpY2FsIiwiZ2V0QXppbXV0aGFsQW5nbGUiLCJyZXNldCIsImNoYW5nZUV2ZW50Iiwib2Zmc2V0IiwicXVhdCIsIlF1YXRlcm5pb24iLCJzZXRGcm9tVW5pdFZlY3RvcnMiLCJ1cCIsInF1YXRJbnZlcnNlIiwiaW52ZXJzZSIsImxhc3RQb3NpdGlvbiIsImxhc3RRdWF0ZXJuaW9uIiwic3ViIiwiYXBwbHlRdWF0ZXJuaW9uIiwic2V0RnJvbVZlY3RvcjMiLCJtYWtlU2FmZSIsInJhZGl1cyIsImFkZCIsInBhbk9mZnNldCIsInNldEZyb21TcGhlcmljYWwiLCJsb29rQXQiLCJkaXN0YW5jZVRvU3F1YXJlZCIsIkVQUyIsImRvdCIsInF1YXRlcm5pb24iLCJkaXNwb3NlIiwiU3BoZXJpY2FsIiwiVmVjdG9yMiIsInBhbkxlZnQiLCJ2Iiwib2JqZWN0TWF0cml4Iiwic2V0RnJvbU1hdHJpeENvbHVtbiIsIm11bHRpcGx5U2NhbGFyIiwicGFuVXAiLCJkZWx0YVgiLCJ0YXJnZXREaXN0YW5jZSIsInRhbiIsImZvdiIsIm1hdHJpeCIsInJpZ2h0IiwibGVmdCIsInRvcCIsImJvdHRvbSIsImNyZWF0ZSIsIkV2ZW50RGlzcGF0Y2hlciIsImNvbnN0cnVjdG9yIiwiZGVmaW5lUHJvcGVydGllcyIsImNlbnRlciIsImdldCIsIm5vWm9vbSIsIm5vUm90YXRlIiwibm9QYW4iLCJub0tleXMiLCJzdGF0aWNNb3ZpbmciLCJkeW5hbWljRGFtcGluZ0ZhY3RvciIsIjE4Iiwic3RyIiwicmVwbGFjZSIsIjE5IiwiV2ViQXVkaW9BbmFseXNlciIsImN0eCIsIm9wdHMiLCJBdWRpb0NvbnRleHQiLCJBdWRpb05vZGUiLCJBdWRpbyIsIkhUTUxBdWRpb0VsZW1lbnQiLCJjcmVhdGVNZWRpYUVsZW1lbnRTb3VyY2UiLCJjcmVhdGVNZWRpYVN0cmVhbVNvdXJjZSIsImNyZWF0ZUFuYWx5c2VyIiwic3RlcmVvIiwiYXVkaWJsZSIsIndhdmVkYXRhIiwiZnJlcWRhdGEiLCJzcGxpdHRlciIsIm1lcmdlciIsImNyZWF0ZUNoYW5uZWxTcGxpdHRlciIsImNyZWF0ZUNoYW5uZWxNZXJnZXIiLCJvdXRwdXQiLCJjb25uZWN0IiwiZGVzdGluYXRpb24iLCJ3ZWJraXRBdWRpb0NvbnRleHQiLCJ3YXZlZm9ybSIsImNoYW5uZWwiLCJVaW50OEFycmF5IiwiZ2V0Qnl0ZVRpbWVEb21haW5EYXRhIiwiZ2V0Qnl0ZUZyZXF1ZW5jeURhdGEiLCIyMCIsIndlYkF1ZGlvUGxheWVyIiwiYnVmZmVyIiwiLi9saWIvYnVmZmVyLXNvdXJjZSIsIi4vbGliL21lZGlhLXNvdXJjZSIsIjIxIiwiY3JlYXRlQXVkaW9Db250ZXh0IiwiQXVkaW9DdG9yIiwiMjIiLCJjcmVhdGVCdWZmZXJTb3VyY2UiLCJzdGFydExvYWQiLCJ4aHJBdWRpbyIsImF1ZGlvQ29udGV4dCIsImRlY29kZWQiLCJidWZmZXJOb2RlIiwiZHVyYXRpb24iLCJub2RlIiwiYW1vdW50IiwidG90YWwiLCJlbmRlZCIsInBsYXlpbmciLCJhdWRpb0N1cnJlbnRUaW1lIiwiZGlzcG9zZUJ1ZmZlciIsImRpc2Nvbm5lY3QiLCJjcmVhdGVHYWluIiwiYXVkaW9TdGFydFRpbWUiLCJhdWRpb1BhdXNlVGltZSIsInBsYXkiLCJhdXRvUmVzdW1lIiwicmVzdW1lIiwib25lbmRlZCIsImxvb3BTdGFydCIsImxvb3BFbmQiLCJuZXh0VGltZSIsInJpZ2h0Tm93IiwicGF1c2UiLCJzdG9wIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsImdhaW4iLCJwbGF5YWJsZSIsInNvbWUiLCJjYW5QbGF5U3JjIiwiZ2V0QXR0cmlidXRlIiwiY3JlYXRlRXJyb3IiLCIuL2F1ZGlvLWNvbnRleHQiLCIuL2Nhbi1wbGF5LXNyYyIsIi4vcmVzdW1lLWNvbnRleHQiLCIuL3hoci1hdWRpbyIsIl9wcm9jZXNzIiwiZXZlbnRzIiwicmlnaHQtbm93IiwiMjMiLCJpc1NyY1BsYXlhYmxlIiwiY2FucGxheSIsImNhblBsYXlUeXBlIiwiMjQiLCJhZGRPbmNlIiwidG1wIiwiZXYiLCIyNSIsImNyZWF0ZU1lZGlhU291cmNlIiwic3JjRWxlbWVudHMiLCJjaGlsZHJlbiIsInJlbWFpbmluZ1NyY0Vycm9ycyIsImhhc0Vycm9yZWQiLCJzb3VyY2VFcnJvciIsImVsIiwiZG9uZSIsInJlYWR5U3RhdGUiLCJIQVZFX0VOT1VHSF9EQVRBIiwibG9hZCIsImRlc2lyZWRWb2x1bWUiLCJjcmVhdGVBdWRpbyIsIm1lZGlhTm9kZSIsImxvZyIsImhhc0xvb3BTdGFydCIsImlzRmluaXRlIiwiaGFzTG9vcEVuZCIsImlzTG9vcFJlYWR5IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiY3VycmVudFRpbWUiLCJlbmRUaW1lIiwid2FzUGxheWluZyIsInBhdXNlZCIsIi4vZXZlbnQtYWRkLW9uY2UiLCJvYmplY3QtYXNzaWduIiwic2ltcGxlLW1lZGlhLWVsZW1lbnQiLCIyNiIsIjI3IiwiY2IiLCJwcm9ncmVzcyIsImRlY29kaW5nIiwiZGVjb2RlIiwiYXJyYXlCdWYiLCJkZWNvZGVBdWRpb0RhdGEiLCJ4aHJPYmplY3QiLCJ4aHIiLCJ1cmkiLCJyZXNwb25zZVR5cGUiLCJyZXNwIiwidGVzdCIsInN0YXR1c0NvZGUiLCJ4aHJQcm9ncmVzcyIsInhoci1wcm9ncmVzcyIsIjI4IiwibGVuZ3RoQ29tcHV0YWJsZSIsImxvYWRlZCIsImZpbmlzaGVkIiwiY3VycmVudFRhcmdldCIsInNyY0VsZW1lbnQiLCJkZXRhdGNoRXZlbnQiLCJhdHRhY2hFdmVudCIsIjI5IiwiaXNFbXB0eSIsIm9iaiIsImluaXRQYXJhbXMiLCJvcHRpb25zIiwiY2FsbGJhY2siLCJwYXJhbXMiLCJ4dGVuZCIsImNyZWF0ZVhIUiIsIl9jcmVhdGVYSFIiLCJyZWFkeXN0YXRlY2hhbmdlIiwibG9hZEZ1bmMiLCJnZXRCb2R5IiwicmVzcG9uc2UiLCJyZXNwb25zZVRleHQiLCJnZXRYbWwiLCJpc0pzb24iLCJKU09OIiwicGFyc2UiLCJlcnJvckZ1bmMiLCJldnQiLCJ0aW1lb3V0VGltZXIiLCJmYWlsdXJlUmVzcG9uc2UiLCJhYm9ydGVkIiwic3RhdHVzIiwidXNlWERSIiwibWV0aG9kIiwidXJsIiwicmF3UmVxdWVzdCIsImdldEFsbFJlc3BvbnNlSGVhZGVycyIsInBhcnNlSGVhZGVycyIsImNhbGxlZCIsImNvcnMiLCJYRG9tYWluUmVxdWVzdCIsIlhNTEh0dHBSZXF1ZXN0Iiwic3luYyIsImpzb24iLCJzdHJpbmdpZnkiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJvbmxvYWQiLCJvbmVycm9yIiwib25wcm9ncmVzcyIsIm9uYWJvcnQiLCJvbnRpbWVvdXQiLCJvcGVuIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsIndpdGhDcmVkZW50aWFscyIsImFib3J0Iiwic2V0UmVxdWVzdEhlYWRlciIsImJlZm9yZVNlbmQiLCJzZW5kIiwicmVzcG9uc2VYTUwiLCJmaXJlZm94QnVnVGFrZW5FZmZlY3QiLCJkb2N1bWVudEVsZW1lbnQiLCJ0b1VwcGVyQ2FzZSIsImdsb2JhbC93aW5kb3ciLCJwYXJzZS1oZWFkZXJzIiwiMzAiLCJleHRlbmQiLCIzMSIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9jbGFzc0NhbGxDaGVjayIsImluc3RhbmNlIiwiQ29uc3RydWN0b3IiLCJfY3JlYXRlQ2xhc3MiLCJwcm9wcyIsImRlc2NyaXB0b3IiLCJ3cml0YWJsZSIsImRlZmluZVByb3BlcnR5IiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwiX1V0aWxzIiwiX1V0aWxzMiIsIl9FdmVudHNNYW5hZ2VyIiwiX0V2ZW50c01hbmFnZXIyIiwiX0V2ZW50cyIsIl9FdmVudHMyIiwiX1JhZk1hbmFnZXIiLCJfUmFmTWFuYWdlcjIiLCJfSW50ZXJhY3Rpb25NYW5hZ2VyIiwiX0ludGVyYWN0aW9uTWFuYWdlcjIiLCJfU291bmRNYW5hZ2VyIiwiX1NvdW5kTWFuYWdlcjIiLCJfS2V5Ym9hcmRDb250cm9sbGVyIiwiX0tleWJvYXJkQ29udHJvbGxlcjIiLCJfRWZmZWN0Q29udHJvbGxlciIsIl9FZmZlY3RDb250cm9sbGVyMiIsIl9TaGFwZUNvbnRyb2xsZXIiLCJfU2hhcGVDb250cm9sbGVyMiIsIl9TdXBlcnNoYXBlIiwiX1N1cGVyc2hhcGUyIiwiX0JhY2tncm91bmQiLCJfQmFja2dyb3VuZDIiLCJfQ2lyY2xlcyIsIl9DaXJjbGVzMiIsImNyZWF0ZUFwcCIsImdsc2xpZnkiLCJNYWluIiwidmpQbGF5aW5nIiwicmVuZGVyIiwib25QbGF5RWZmZWN0Iiwib25TcGxpdEVmZmVjdCIsIm9uU291bmRFbmRlZCIsIm9uUmVzdW1lVmppbmciLCJvblBhdXNlVmppbmciLCJ0aW1lIiwic21vb3RoUm90YXRpb25YIiwic21vb3RoUm90YXRpb25ZIiwiJHVpIiwicXVlcnlTZWxlY3RvciIsIiRoZWxwZXIiLCIkY3JlZGl0cyIsIiRicmFuZCIsIiRsb2dvIiwiJGNyb3NzZXMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiYXBwIiwiZGVidWciLCJjYW1lcmEiLCJ6IiwiY3NzM0RDYW1lcmEiLCJGWEFBUGFzcyIsIldBR05FUiIsInBvc3RGWFBhc3MiLCJQYXNzIiwic2hhZGVyIiwicHJvY2Vzc1NoYWRlciIsImJhc2ljVnMiLCJ1bmlmb3JtcyIsImRpdmlkZSIsIm1pcnJvclgiLCJtaXJyb3JZIiwibW9ycGgiLCJ1aSIsIkNTUzNET2JqZWN0IiwiY3NzM0RTY2VuZSIsImNpcmNsZXMiLCJzY2VuZSIsImJhY2tncm91bmQiLCJzdXBlcnNoYXBlIiwicGFsZXR0ZSIsImdldFBhbGV0dGUiLCJQQUxFVFRFX0NIQU5HRSIsIk1PVVNFX0RPV04iLCJNT1VTRV9VUCIsIlBMQVlfRUZGRUNUIiwiU1BMSVRfRUZGRUNUIiwiU09VTkRfRU5ERUQiLCJSRVNVTUVfVkpJTkciLCJQQVVTRV9WSklORyIsInJlc2l6ZSIsIl90aGlzIiwiVHdlZW5NYXgiLCJkZWxheWVkQ2FsbCIsInBhdXNlVmppbmciLCJkaXNwbGF5IiwiZWFzZSIsIlBvd2VyMiIsImVhc2VPdXQiLCJvcGFjaXR5IiwiY2xhc3NMaXN0IiwicGxheVZqaW5nIiwiX3JlZiIsImRpc2FsbG93IiwicmFuZ2UiLCJsdWNreSIsInN0eWxlIiwicmFuZG9tIiwic3BsaXRDb3VudCIsInBsYXlTb3VuZCIsInRsIiwiVGltZWxpbmVNYXgiLCJvbkNvbXBsZXRlIiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0IiwiX3RoaXMyIiwiYWRkQ2FsbGJhY2siLCJjc3MzRFJlbmRlcmVyIiwicmVuZGVyZXIiLCJhdXRvQ2xlYXJDb2xvciIsImNvbXBvc2VyIiwicGFzcyIsInRvU2NyZWVuIiwicm90YXRpb25YIiwibW91c2UiLCJyb3RhdGlvblkiLCJyb3RhdGlvbiIsIi4vYXBwL0JhY2tncm91bmQiLCIuL2FwcC9DaXJjbGVzIiwiLi9hcHAvU3VwZXJzaGFwZSIsIi4vY29udHJvbGxlcnMvRWZmZWN0Q29udHJvbGxlciIsIi4vY29udHJvbGxlcnMvS2V5Ym9hcmRDb250cm9sbGVyIiwiLi9jb250cm9sbGVycy9TaGFwZUNvbnRyb2xsZXIiLCIuL2V2ZW50cy9FdmVudHMiLCIuL2V2ZW50cy9FdmVudHNNYW5hZ2VyIiwiLi9tYW5hZ2Vycy9JbnRlcmFjdGlvbk1hbmFnZXIiLCIuL21hbmFnZXJzL1JhZk1hbmFnZXIiLCIuL21hbmFnZXJzL1NvdW5kTWFuYWdlciIsIi4vdXRpbC9VdGlscyIsIi4vdXRpbC9jcmVhdGVBcHAiLCIzMiIsIl9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIiwiUmVmZXJlbmNlRXJyb3IiLCJfaW5oZXJpdHMiLCJzdWJDbGFzcyIsInN1cGVyQ2xhc3MiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsIkJhY2tncm91bmQiLCJfVEhSRUUkT2JqZWN0M0QiLCJnZXRQcm90b3R5cGVPZiIsIm9uUGFsZXR0ZUNoYW5nZSIsImdlb21ldHJ5IiwiUGxhbmVHZW9tZXRyeSIsIm1hdGVyaWFsIiwiTWVzaEJhc2ljTWF0ZXJpYWwiLCJjb2xvciIsIm1lc2giLCJNZXNoIiwiQ29sb3IiLCJPYmplY3QzRCIsIi4uL2V2ZW50cy9FdmVudHMiLCIuLi9ldmVudHMvRXZlbnRzTWFuYWdlciIsIjMzIiwiQ2lyY2xlcyIsInRyYW5zcGFyZW50IiwibWVzaGVzIiwiUmluZ0dlb21ldHJ5IiwiaW5pdGlhbERlcHRoIiwiZnJvbVRvIiwiMzQiLCJTdXBlcnNoYXBlIiwiR2VvbWV0cnkiLCJzdGVwIiwibDEiLCJwYXJzZUludCIsImwyIiwicjEiLCJqIiwicjIiLCJjb3MiLCJzaW4iLCJ2ZXJ0aWNlcyIsIl9pIiwiX2oiLCJiIiwiYyIsImQiLCJmYWNlcyIsIkZhY2UzIiwiY29tcHV0ZUZhY2VOb3JtYWxzIiwiY29tcHV0ZVZlcnRleE5vcm1hbHMiLCJTaGFkZXJNYXRlcmlhbCIsInZlcnRleFNoYWRlciIsImZyYWdtZW50U2hhZGVyIiwidV9kaWZmdXNlIiwidV9saWdodCIsInVfYW1iaWVudCIsInVfc3BlY3VsYXIiLCJ1X3NoaW5lIiwidV9jZWxTaGFkaW5nIiwiY29sb3IxIiwiY29sb3IyIiwiY29sb3IzIiwiY29sb3I0IiwiY29sb3I1Iiwib3V0bGluZU1hdGVyaWFsIiwidV9vZmZzZXQiLCJ1X2NvbG9yIiwic2lkZSIsIkJhY2tTaWRlIiwidGhpbk91dGxpbmVNYXRlcmlhbCIsInNoYXBlIiwib3V0bGluZSIsInRoaW5PdXRsaW5lIiwiX1NoYXBlQ29udHJvbGxlciRnZXQiLCJtMSIsIm4xMSIsIm4yMSIsIm4zMSIsIm0yIiwibjEyIiwibjIyIiwibjMyIiwidkluZGV4IiwidmVydGljZXNOZWVkVXBkYXRlIiwibjEiLCJuMiIsIm4zIiwidDEiLCJhYnMiLCJ0MiIsInQzIiwiZHJhdyIsIi4uL2NvbnRyb2xsZXJzL1NoYXBlQ29udHJvbGxlciIsIjM1IiwiMzYiLCJjb2xvclBhbGV0dGVzIiwiMzciLCJfY29sb3JzUGFsZXR0ZSIsIkVmZmVjdENvbnRyb2xsZXIiLCJvbktleXByZXNzIiwicGFsZXR0ZUluZGV4IiwiS0VZUFJFU1MiLCIuLi9jb2xvcnMvY29sb3JzUGFsZXR0ZSIsIi4uL3V0aWwvVXRpbHMiLCIzOCIsIktleWJvYXJkQ29udHJvbGxlciIsIjExMyIsIjExOSIsIjEwMSIsIjExNCIsIjExNiIsIjEyMSIsIjM5IiwiX1NpbXBsZTFETm9pc2UiLCJfU2ltcGxlMUROb2lzZTIiLCJub2lzZSIsIlNoYXBlQ29udHJvbGxlciIsInNtb290aE0xIiwic21vb3RoTjExIiwic21vb3RoTjIxIiwic21vb3RoTjMxIiwic21vb3RoTTIiLCJzbW9vdGhOMTIiLCJzbW9vdGhOMjIiLCJzbW9vdGhOMzIiLCJtb3ZpbmdUaW1lIiwicHJldk1vdXNlIiwib25IaWRlU2hhcGUiLCJtb3VzZWRvd24iLCJnZXRWYWwiLCJ0b0ZpeGVkIiwiLi4vbWFuYWdlcnMvUmFmTWFuYWdlciIsIi4uL3V0aWwvU2ltcGxlMUROb2lzZSIsIjQwIiwiRXZlbnRzIiwiRUZGRUNUX1NQTElUIiwiRUZGRUNUX0NPTE9SIiwiUFJFUEFSRV9WSklORyIsIlNUQVJUX1ZKSU5HIiwiRElTUExBWV9TSEFQRSIsIkhJREVfU0hBUEUiLCJESVNQTEFZX1VJIiwiNDEiLCJFdmVudHNNYW5hZ2VyIiwiZXZlbnRzTGlzdCIsIl8iLCJ0YXJnZXRFdmVudHMiLCI0MiIsIkludGVyYWN0aW9uTWFuYWdlciIsIm9uTW91c2Vtb3ZlIiwib25Ub3VjaG1vdmUiLCJvbk1vdXNlZG93biIsIm9uTW91c2V1cCIsIjQzIiwiUmFmTWFuYWdlciIsImJpbmRlcnMiLCJyYWYiLCJkZWx0YVRpbWUiLCJJTlNUQU5DRSIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwiaWQiLCJ0Z3RJRCIsInRhYmxlIiwiNDQiLCJhdmVyYWdlIiwiU291bmRNYW5hZ2VyIiwicmVhZHkiLCJ0dW10dW1UaW1lIiwiYnVtYnVtVGltZSIsIm9uQ2FucGxheSIsIm9uRW5kZWQiLCJvbktleVByZXNzIiwicGxheWVyIiwiYXVkaW9VdGlsIiwiZnJlcXMiLCJ0dW10dW0iLCJidW1idW0iLCJjYW5QbGF5VHVtdHVtIiwiY2FuUGxheUJ1bWJ1bSIsImRpZmZUaW1lIiwidW5iaW5kIiwiYW5hbHlzZXItZnJlcXVlbmN5LWF2ZXJhZ2UiLCJ3ZWItYXVkaW8tYW5hbHlzZXIiLCJ3ZWItYXVkaW8tcGxheWVyIiwiNDUiLCJTaW1wbGUxRE5vaXNlIiwiYW1wbGl0dWRlIiwiTUFYX1ZFUlRJQ0VTIiwiTUFYX1ZFUlRJQ0VTX01BU0siLCJ4TWluIiwieE1heCIsInNjYWxlZFgiLCJ4Rmxvb3IiLCJmbG9vciIsInRSZW1hcFNtb290aHN0ZXAiLCJsZXJwIiwiNDYiLCJwYWxldHRlcyIsIlV0aWxzIiwic3RhcnQxIiwic3RvcDEiLCJzdGFydDIiLCJzdG9wMiIsImNoYW5jZXMiLCIuLi9jb2xvcnMvY29sb3JzMi5qc29uIiwiNDciLCJpbmZvIiwidyIsImgiLCJhc3BlY3QiLCJzZXRTaXplIiwiV2ViR0xSZW5kZXJlciIsImFudGlhbGlhcyIsInNldENsZWFyQ29sb3IiLCJzaGFkb3dNYXAiLCJQQ0ZTb2Z0U2hhZG93TWFwIiwiY2FudmFzIiwiU2NlbmUiLCJDU1MzRFJlbmRlcmVyIiwidmVydGV4U2hhZGVyc1BhdGgiLCJmcmFnbWVudFNoYWRlcnNQYXRoIiwiQ29tcG9zZXIiLCJ1c2VSR0JBIiwid2lkdGgiLCJoZWlnaHQiLCJ0aHJlZS1vcmJpdC1jb250cm9scyJdLCJtYXBwaW5ncyI6IkNBQUEsUUFBQUEsR0FBQUMsRUFBQUMsRUFBQUMsR0FBQSxRQUFBQyxHQUFBQyxFQUFBQyxHQUFBLElBQUFKLEVBQUFHLEdBQUEsQ0FBQSxJQUFBSixFQUFBSSxHQUFBLENBQUEsR0FBQUUsR0FBQSxrQkFBQUMsVUFBQUEsT0FBQSxLQUFBRixHQUFBQyxFQUFBLE1BQUFBLEdBQUFGLEdBQUEsRUFBQSxJQUFBSSxFQUFBLE1BQUFBLEdBQUFKLEdBQUEsRUFBQSxJQUFBSyxHQUFBLEdBQUFDLE9BQUEsdUJBQUFOLEVBQUEsSUFBQSxNQUFBSyxHQUFBRSxLQUFBLG1CQUFBRixFQUFBLEdB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QUEsVUFBQSxVQUFBLFVBQUEsWUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFlBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxZQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsWUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFlBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxZQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsWUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFlBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxZQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsWUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFlBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxZQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsWUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFlBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxZQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsWUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFlBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxZQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsWUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFlBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxZQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsWUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFlBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxZQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsWUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFlBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxZQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsWUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFlBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxZQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsWUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFlBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxZQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsWUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFlBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxZQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsWUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFlBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxZQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsWUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFlBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxZQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsWUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFlBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxZQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsWUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFlBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxZQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsWUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFlBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxZQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsWUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFlBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxZQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsWUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFlBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxZQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsWUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFlBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxZQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsWUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFlBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxZQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsWUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFlBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxZQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsWUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFlBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxZQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsWUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFlBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxZQUFBLFVB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QUFJeGMsT0FBTWtCLGtCQUFrQixHQUFJNUksT0FBT3VuQixXQUFhdm5CLE9BQU93bkIsWUFBYSxFQUFHLElBTS9GcEQsUUFBTzJTLGtCQUFvQixvQkFDM0IzUyxPQUFPNFMsb0JBQXNCLHFCQUM3QixJQUFNbFAsR0FBVyxHQUFJMUQsUUFBTzZTLFNBQVNyUCxHQUFZc1AsU0FBUSxHQUN6RHBQLEdBQVN3TyxRQUFRTSxFQUFPTyxNQUFPUCxFQUFPUSxPQUd0QyxJQUFNdFQsSUFBUThELFNBQUFBLEVBQVVFLFNBQUFBLEVBQVU4TyxPQUFBQSxFQUFRNVMsT0FBQUEsRUFBUW1CLE1BQUFBLEVBQU93QyxjQUFBQSxFQUFlekQsWUFBQUEsRUFBYWUsV0FBQUEsRUFBWXBDLE9BQUFBLEVBQVFtRCxPQUFBQSxFQUN6RyxPQUFPbEMsR0E1Q2Mxc0IsRUFBUSx3QkFBd0JzUSxNQUV0RDVQLEdBQU9KLFFBQVUrcUIsSTlDdWdKZDRVLHVCQUF1QixVQUFVIiwiZmlsZSI6ImJ1aWxkLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJ2YXIgZnJlcXVlbmN5VG9JbmRleCA9IHJlcXVpcmUoJ2F1ZGlvLWZyZXF1ZW5jeS10by1pbmRleCcpXG5cbm1vZHVsZS5leHBvcnRzID0gYW5hbHlzZXJGcmVxdWVuY3lBdmVyYWdlLmJpbmQobnVsbCwgMjU1KVxubW9kdWxlLmV4cG9ydHMuZmxvYXREYXRhID0gYW5hbHlzZXJGcmVxdWVuY3lBdmVyYWdlLmJpbmQobnVsbCwgMSlcblxuZnVuY3Rpb24gYW5hbHlzZXJGcmVxdWVuY3lBdmVyYWdlIChkaXYsIGFuYWx5c2VyLCBmcmVxdWVuY2llcywgbWluSHosIG1heEh6KSB7XG4gIHZhciBzYW1wbGVSYXRlID0gYW5hbHlzZXIuY29udGV4dC5zYW1wbGVSYXRlXG4gIHZhciBiaW5Db3VudCA9IGFuYWx5c2VyLmZyZXF1ZW5jeUJpbkNvdW50XG4gIHZhciBzdGFydCA9IGZyZXF1ZW5jeVRvSW5kZXgobWluSHosIHNhbXBsZVJhdGUsIGJpbkNvdW50KVxuICB2YXIgZW5kID0gZnJlcXVlbmN5VG9JbmRleChtYXhIeiwgc2FtcGxlUmF0ZSwgYmluQ291bnQpXG4gIHZhciBjb3VudCA9IGVuZCAtIHN0YXJ0XG4gIHZhciBzdW0gPSAwXG4gIGZvciAoOyBzdGFydCA8IGVuZDsgc3RhcnQrKykge1xuICAgIHN1bSArPSBmcmVxdWVuY2llc1tzdGFydF0gLyBkaXZcbiAgfVxuICByZXR1cm4gY291bnQgPT09IDAgPyAwIDogKHN1bSAvIGNvdW50KVxufVxuIiwiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkoezE6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xudmFyIGZyZXF1ZW5jeVRvSW5kZXggPSByZXF1aXJlKCdhdWRpby1mcmVxdWVuY3ktdG8taW5kZXgnKVxuXG5tb2R1bGUuZXhwb3J0cyA9IGFuYWx5c2VyRnJlcXVlbmN5QXZlcmFnZS5iaW5kKG51bGwsIDI1NSlcbm1vZHVsZS5leHBvcnRzLmZsb2F0RGF0YSA9IGFuYWx5c2VyRnJlcXVlbmN5QXZlcmFnZS5iaW5kKG51bGwsIDEpXG5cbmZ1bmN0aW9uIGFuYWx5c2VyRnJlcXVlbmN5QXZlcmFnZSAoZGl2LCBhbmFseXNlciwgZnJlcXVlbmNpZXMsIG1pbkh6LCBtYXhIeikge1xuICB2YXIgc2FtcGxlUmF0ZSA9IGFuYWx5c2VyLmNvbnRleHQuc2FtcGxlUmF0ZVxuICB2YXIgYmluQ291bnQgPSBhbmFseXNlci5mcmVxdWVuY3lCaW5Db3VudFxuICB2YXIgc3RhcnQgPSBmcmVxdWVuY3lUb0luZGV4KG1pbkh6LCBzYW1wbGVSYXRlLCBiaW5Db3VudClcbiAgdmFyIGVuZCA9IGZyZXF1ZW5jeVRvSW5kZXgobWF4SHosIHNhbXBsZVJhdGUsIGJpbkNvdW50KVxuICB2YXIgY291bnQgPSBlbmQgLSBzdGFydFxuICB2YXIgc3VtID0gMFxuICBmb3IgKDsgc3RhcnQgPCBlbmQ7IHN0YXJ0KyspIHtcbiAgICBzdW0gKz0gZnJlcXVlbmNpZXNbc3RhcnRdIC8gZGl2XG4gIH1cbiAgcmV0dXJuIGNvdW50ID09PSAwID8gMCA6IChzdW0gLyBjb3VudClcbn1cblxufSx7XCJhdWRpby1mcmVxdWVuY3ktdG8taW5kZXhcIjoyfV0sMjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG52YXIgY2xhbXAgPSByZXF1aXJlKCdjbGFtcCcpXG5cbm1vZHVsZS5leHBvcnRzID0gZnJlcXVlbmN5VG9JbmRleFxuZnVuY3Rpb24gZnJlcXVlbmN5VG9JbmRleCAoZnJlcXVlbmN5LCBzYW1wbGVSYXRlLCBmcmVxdWVuY3lCaW5Db3VudCkge1xuICB2YXIgbnlxdWlzdCA9IHNhbXBsZVJhdGUgLyAyXG4gIHZhciBpbmRleCA9IE1hdGgucm91bmQoZnJlcXVlbmN5IC8gbnlxdWlzdCAqIGZyZXF1ZW5jeUJpbkNvdW50KVxuICByZXR1cm4gY2xhbXAoaW5kZXgsIDAsIGZyZXF1ZW5jeUJpbkNvdW50KVxufVxuXG59LHtcImNsYW1wXCI6NX1dLDM6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuLy8gc291cmNlZCBmcm9tOlxuLy8gaHR0cDovL3d3dy5sZWFuYmFja3BsYXllci5jb20vdGVzdC9oNW10Lmh0bWxcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9icm9vZmEvbm9kZS1taW1lL2Jsb2IvbWFzdGVyL3R5cGVzLmpzb25cbnZhciBtaW1lVHlwZXMgPSByZXF1aXJlKCcuL21pbWUtdHlwZXMuanNvbicpXG5cbnZhciBtaW1lTG9va3VwID0ge31cbk9iamVjdC5rZXlzKG1pbWVUeXBlcykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gIHZhciBleHRlbnNpb25zID0gbWltZVR5cGVzW2tleV1cbiAgZXh0ZW5zaW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChleHQpIHtcbiAgICBtaW1lTG9va3VwW2V4dF0gPSBrZXlcbiAgfSlcbn0pXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gbG9va3VwIChleHQpIHtcbiAgaWYgKCFleHQpIHRocm93IG5ldyBUeXBlRXJyb3IoJ211c3Qgc3BlY2lmeSBleHRlbnNpb24gc3RyaW5nJylcbiAgaWYgKGV4dC5pbmRleE9mKCcuJykgPT09IDApIHtcbiAgICBleHQgPSBleHQuc3Vic3RyaW5nKDEpXG4gIH1cbiAgcmV0dXJuIG1pbWVMb29rdXBbZXh0LnRvTG93ZXJDYXNlKCldXG59XG5cbn0se1wiLi9taW1lLXR5cGVzLmpzb25cIjo0fV0sNDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5tb2R1bGUuZXhwb3J0cz17XG4gIFwiYXVkaW8vbWlkaVwiOiBbXCJtaWRcIiwgXCJtaWRpXCIsIFwia2FyXCIsIFwicm1pXCJdLFxuICBcImF1ZGlvL21wNFwiOiBbXCJtcDRhXCIsIFwibTRhXCJdLFxuICBcImF1ZGlvL21wZWdcIjogW1wibXBnYVwiLCBcIm1wMlwiLCBcIm1wMmFcIiwgXCJtcDNcIiwgXCJtMmFcIiwgXCJtM2FcIl0sXG4gIFwiYXVkaW8vb2dnXCI6IFtcIm9nYVwiLCBcIm9nZ1wiLCBcInNweFwiXSxcbiAgXCJhdWRpby93ZWJtXCI6IFtcIndlYmFcIl0sXG4gIFwiYXVkaW8veC1tYXRyb3NrYVwiOiBbXCJta2FcIl0sXG4gIFwiYXVkaW8veC1tcGVndXJsXCI6IFtcIm0zdVwiXSxcbiAgXCJhdWRpby93YXZcIjogW1wid2F2XCJdLFxuICBcInZpZGVvLzNncHBcIjogW1wiM2dwXCJdLFxuICBcInZpZGVvLzNncHAyXCI6IFtcIjNnMlwiXSxcbiAgXCJ2aWRlby9tcDRcIjogW1wibXA0XCIsIFwibXA0dlwiLCBcIm1wZzRcIl0sXG4gIFwidmlkZW8vbXBlZ1wiOiBbXCJtcGVnXCIsIFwibXBnXCIsIFwibXBlXCIsIFwibTF2XCIsIFwibTJ2XCJdLFxuICBcInZpZGVvL29nZ1wiOiBbXCJvZ3ZcIl0sXG4gIFwidmlkZW8vcXVpY2t0aW1lXCI6IFtcInF0XCIsIFwibW92XCJdLFxuICBcInZpZGVvL3dlYm1cIjogW1wid2VibVwiXSxcbiAgXCJ2aWRlby94LWY0dlwiOiBbXCJmNHZcIl0sXG4gIFwidmlkZW8veC1mbGlcIjogW1wiZmxpXCJdLFxuICBcInZpZGVvL3gtZmx2XCI6IFtcImZsdlwiXSxcbiAgXCJ2aWRlby94LW00dlwiOiBbXCJtNHZcIl0sXG4gIFwidmlkZW8veC1tYXRyb3NrYVwiOiBbXCJta3ZcIiwgXCJtazNkXCIsIFwibWtzXCJdXG59XG59LHt9XSw1OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbm1vZHVsZS5leHBvcnRzID0gY2xhbXBcblxuZnVuY3Rpb24gY2xhbXAodmFsdWUsIG1pbiwgbWF4KSB7XG4gIHJldHVybiBtaW4gPCBtYXhcbiAgICA/ICh2YWx1ZSA8IG1pbiA/IG1pbiA6IHZhbHVlID4gbWF4ID8gbWF4IDogdmFsdWUpXG4gICAgOiAodmFsdWUgPCBtYXggPyBtYXggOiB2YWx1ZSA+IG1pbiA/IG1pbiA6IHZhbHVlKVxufVxuXG59LHt9XSw2OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG5mdW5jdGlvbiBFdmVudEVtaXR0ZXIoKSB7XG4gIHRoaXMuX2V2ZW50cyA9IHRoaXMuX2V2ZW50cyB8fCB7fTtcbiAgdGhpcy5fbWF4TGlzdGVuZXJzID0gdGhpcy5fbWF4TGlzdGVuZXJzIHx8IHVuZGVmaW5lZDtcbn1cbm1vZHVsZS5leHBvcnRzID0gRXZlbnRFbWl0dGVyO1xuXG4vLyBCYWNrd2FyZHMtY29tcGF0IHdpdGggbm9kZSAwLjEwLnhcbkV2ZW50RW1pdHRlci5FdmVudEVtaXR0ZXIgPSBFdmVudEVtaXR0ZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX2V2ZW50cyA9IHVuZGVmaW5lZDtcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX21heExpc3RlbmVycyA9IHVuZGVmaW5lZDtcblxuLy8gQnkgZGVmYXVsdCBFdmVudEVtaXR0ZXJzIHdpbGwgcHJpbnQgYSB3YXJuaW5nIGlmIG1vcmUgdGhhbiAxMCBsaXN0ZW5lcnMgYXJlXG4vLyBhZGRlZCB0byBpdC4gVGhpcyBpcyBhIHVzZWZ1bCBkZWZhdWx0IHdoaWNoIGhlbHBzIGZpbmRpbmcgbWVtb3J5IGxlYWtzLlxuRXZlbnRFbWl0dGVyLmRlZmF1bHRNYXhMaXN0ZW5lcnMgPSAxMDtcblxuLy8gT2J2aW91c2x5IG5vdCBhbGwgRW1pdHRlcnMgc2hvdWxkIGJlIGxpbWl0ZWQgdG8gMTAuIFRoaXMgZnVuY3Rpb24gYWxsb3dzXG4vLyB0aGF0IHRvIGJlIGluY3JlYXNlZC4gU2V0IHRvIHplcm8gZm9yIHVubGltaXRlZC5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuc2V0TWF4TGlzdGVuZXJzID0gZnVuY3Rpb24obikge1xuICBpZiAoIWlzTnVtYmVyKG4pIHx8IG4gPCAwIHx8IGlzTmFOKG4pKVxuICAgIHRocm93IFR5cGVFcnJvcignbiBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyJyk7XG4gIHRoaXMuX21heExpc3RlbmVycyA9IG47XG4gIHJldHVybiB0aGlzO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24odHlwZSkge1xuICB2YXIgZXIsIGhhbmRsZXIsIGxlbiwgYXJncywgaSwgbGlzdGVuZXJzO1xuXG4gIGlmICghdGhpcy5fZXZlbnRzKVxuICAgIHRoaXMuX2V2ZW50cyA9IHt9O1xuXG4gIC8vIElmIHRoZXJlIGlzIG5vICdlcnJvcicgZXZlbnQgbGlzdGVuZXIgdGhlbiB0aHJvdy5cbiAgaWYgKHR5cGUgPT09ICdlcnJvcicpIHtcbiAgICBpZiAoIXRoaXMuX2V2ZW50cy5lcnJvciB8fFxuICAgICAgICAoaXNPYmplY3QodGhpcy5fZXZlbnRzLmVycm9yKSAmJiAhdGhpcy5fZXZlbnRzLmVycm9yLmxlbmd0aCkpIHtcbiAgICAgIGVyID0gYXJndW1lbnRzWzFdO1xuICAgICAgaWYgKGVyIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgdGhyb3cgZXI7IC8vIFVuaGFuZGxlZCAnZXJyb3InIGV2ZW50XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBBdCBsZWFzdCBnaXZlIHNvbWUga2luZCBvZiBjb250ZXh0IHRvIHRoZSB1c2VyXG4gICAgICAgIHZhciBlcnIgPSBuZXcgRXJyb3IoJ1VuY2F1Z2h0LCB1bnNwZWNpZmllZCBcImVycm9yXCIgZXZlbnQuICgnICsgZXIgKyAnKScpO1xuICAgICAgICBlcnIuY29udGV4dCA9IGVyO1xuICAgICAgICB0aHJvdyBlcnI7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaGFuZGxlciA9IHRoaXMuX2V2ZW50c1t0eXBlXTtcblxuICBpZiAoaXNVbmRlZmluZWQoaGFuZGxlcikpXG4gICAgcmV0dXJuIGZhbHNlO1xuXG4gIGlmIChpc0Z1bmN0aW9uKGhhbmRsZXIpKSB7XG4gICAgc3dpdGNoIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICAvLyBmYXN0IGNhc2VzXG4gICAgICBjYXNlIDE6XG4gICAgICAgIGhhbmRsZXIuY2FsbCh0aGlzKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDI6XG4gICAgICAgIGhhbmRsZXIuY2FsbCh0aGlzLCBhcmd1bWVudHNbMV0pO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgMzpcbiAgICAgICAgaGFuZGxlci5jYWxsKHRoaXMsIGFyZ3VtZW50c1sxXSwgYXJndW1lbnRzWzJdKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICAvLyBzbG93ZXJcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgICAgICBoYW5kbGVyLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChpc09iamVjdChoYW5kbGVyKSkge1xuICAgIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgIGxpc3RlbmVycyA9IGhhbmRsZXIuc2xpY2UoKTtcbiAgICBsZW4gPSBsaXN0ZW5lcnMubGVuZ3RoO1xuICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKylcbiAgICAgIGxpc3RlbmVyc1tpXS5hcHBseSh0aGlzLCBhcmdzKTtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lciA9IGZ1bmN0aW9uKHR5cGUsIGxpc3RlbmVyKSB7XG4gIHZhciBtO1xuXG4gIGlmICghaXNGdW5jdGlvbihsaXN0ZW5lcikpXG4gICAgdGhyb3cgVHlwZUVycm9yKCdsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcblxuICBpZiAoIXRoaXMuX2V2ZW50cylcbiAgICB0aGlzLl9ldmVudHMgPSB7fTtcblxuICAvLyBUbyBhdm9pZCByZWN1cnNpb24gaW4gdGhlIGNhc2UgdGhhdCB0eXBlID09PSBcIm5ld0xpc3RlbmVyXCIhIEJlZm9yZVxuICAvLyBhZGRpbmcgaXQgdG8gdGhlIGxpc3RlbmVycywgZmlyc3QgZW1pdCBcIm5ld0xpc3RlbmVyXCIuXG4gIGlmICh0aGlzLl9ldmVudHMubmV3TGlzdGVuZXIpXG4gICAgdGhpcy5lbWl0KCduZXdMaXN0ZW5lcicsIHR5cGUsXG4gICAgICAgICAgICAgIGlzRnVuY3Rpb24obGlzdGVuZXIubGlzdGVuZXIpID9cbiAgICAgICAgICAgICAgbGlzdGVuZXIubGlzdGVuZXIgOiBsaXN0ZW5lcik7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHNbdHlwZV0pXG4gICAgLy8gT3B0aW1pemUgdGhlIGNhc2Ugb2Ygb25lIGxpc3RlbmVyLiBEb24ndCBuZWVkIHRoZSBleHRyYSBhcnJheSBvYmplY3QuXG4gICAgdGhpcy5fZXZlbnRzW3R5cGVdID0gbGlzdGVuZXI7XG4gIGVsc2UgaWYgKGlzT2JqZWN0KHRoaXMuX2V2ZW50c1t0eXBlXSkpXG4gICAgLy8gSWYgd2UndmUgYWxyZWFkeSBnb3QgYW4gYXJyYXksIGp1c3QgYXBwZW5kLlxuICAgIHRoaXMuX2V2ZW50c1t0eXBlXS5wdXNoKGxpc3RlbmVyKTtcbiAgZWxzZVxuICAgIC8vIEFkZGluZyB0aGUgc2Vjb25kIGVsZW1lbnQsIG5lZWQgdG8gY2hhbmdlIHRvIGFycmF5LlxuICAgIHRoaXMuX2V2ZW50c1t0eXBlXSA9IFt0aGlzLl9ldmVudHNbdHlwZV0sIGxpc3RlbmVyXTtcblxuICAvLyBDaGVjayBmb3IgbGlzdGVuZXIgbGVha1xuICBpZiAoaXNPYmplY3QodGhpcy5fZXZlbnRzW3R5cGVdKSAmJiAhdGhpcy5fZXZlbnRzW3R5cGVdLndhcm5lZCkge1xuICAgIGlmICghaXNVbmRlZmluZWQodGhpcy5fbWF4TGlzdGVuZXJzKSkge1xuICAgICAgbSA9IHRoaXMuX21heExpc3RlbmVycztcbiAgICB9IGVsc2Uge1xuICAgICAgbSA9IEV2ZW50RW1pdHRlci5kZWZhdWx0TWF4TGlzdGVuZXJzO1xuICAgIH1cblxuICAgIGlmIChtICYmIG0gPiAwICYmIHRoaXMuX2V2ZW50c1t0eXBlXS5sZW5ndGggPiBtKSB7XG4gICAgICB0aGlzLl9ldmVudHNbdHlwZV0ud2FybmVkID0gdHJ1ZTtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJyhub2RlKSB3YXJuaW5nOiBwb3NzaWJsZSBFdmVudEVtaXR0ZXIgbWVtb3J5ICcgK1xuICAgICAgICAgICAgICAgICAgICAnbGVhayBkZXRlY3RlZC4gJWQgbGlzdGVuZXJzIGFkZGVkLiAnICtcbiAgICAgICAgICAgICAgICAgICAgJ1VzZSBlbWl0dGVyLnNldE1heExpc3RlbmVycygpIHRvIGluY3JlYXNlIGxpbWl0LicsXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2V2ZW50c1t0eXBlXS5sZW5ndGgpO1xuICAgICAgaWYgKHR5cGVvZiBjb25zb2xlLnRyYWNlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIC8vIG5vdCBzdXBwb3J0ZWQgaW4gSUUgMTBcbiAgICAgICAgY29uc29sZS50cmFjZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbiA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub25jZSA9IGZ1bmN0aW9uKHR5cGUsIGxpc3RlbmVyKSB7XG4gIGlmICghaXNGdW5jdGlvbihsaXN0ZW5lcikpXG4gICAgdGhyb3cgVHlwZUVycm9yKCdsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcblxuICB2YXIgZmlyZWQgPSBmYWxzZTtcblxuICBmdW5jdGlvbiBnKCkge1xuICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgZyk7XG5cbiAgICBpZiAoIWZpcmVkKSB7XG4gICAgICBmaXJlZCA9IHRydWU7XG4gICAgICBsaXN0ZW5lci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH1cbiAgfVxuXG4gIGcubGlzdGVuZXIgPSBsaXN0ZW5lcjtcbiAgdGhpcy5vbih0eXBlLCBnKTtcblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8vIGVtaXRzIGEgJ3JlbW92ZUxpc3RlbmVyJyBldmVudCBpZmYgdGhlIGxpc3RlbmVyIHdhcyByZW1vdmVkXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyID0gZnVuY3Rpb24odHlwZSwgbGlzdGVuZXIpIHtcbiAgdmFyIGxpc3QsIHBvc2l0aW9uLCBsZW5ndGgsIGk7XG5cbiAgaWYgKCFpc0Z1bmN0aW9uKGxpc3RlbmVyKSlcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ2xpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuXG4gIGlmICghdGhpcy5fZXZlbnRzIHx8ICF0aGlzLl9ldmVudHNbdHlwZV0pXG4gICAgcmV0dXJuIHRoaXM7XG5cbiAgbGlzdCA9IHRoaXMuX2V2ZW50c1t0eXBlXTtcbiAgbGVuZ3RoID0gbGlzdC5sZW5ndGg7XG4gIHBvc2l0aW9uID0gLTE7XG5cbiAgaWYgKGxpc3QgPT09IGxpc3RlbmVyIHx8XG4gICAgICAoaXNGdW5jdGlvbihsaXN0Lmxpc3RlbmVyKSAmJiBsaXN0Lmxpc3RlbmVyID09PSBsaXN0ZW5lcikpIHtcbiAgICBkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGVdO1xuICAgIGlmICh0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXIpXG4gICAgICB0aGlzLmVtaXQoJ3JlbW92ZUxpc3RlbmVyJywgdHlwZSwgbGlzdGVuZXIpO1xuXG4gIH0gZWxzZSBpZiAoaXNPYmplY3QobGlzdCkpIHtcbiAgICBmb3IgKGkgPSBsZW5ndGg7IGktLSA+IDA7KSB7XG4gICAgICBpZiAobGlzdFtpXSA9PT0gbGlzdGVuZXIgfHxcbiAgICAgICAgICAobGlzdFtpXS5saXN0ZW5lciAmJiBsaXN0W2ldLmxpc3RlbmVyID09PSBsaXN0ZW5lcikpIHtcbiAgICAgICAgcG9zaXRpb24gPSBpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAocG9zaXRpb24gPCAwKVxuICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICBpZiAobGlzdC5sZW5ndGggPT09IDEpIHtcbiAgICAgIGxpc3QubGVuZ3RoID0gMDtcbiAgICAgIGRlbGV0ZSB0aGlzLl9ldmVudHNbdHlwZV07XG4gICAgfSBlbHNlIHtcbiAgICAgIGxpc3Quc3BsaWNlKHBvc2l0aW9uLCAxKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fZXZlbnRzLnJlbW92ZUxpc3RlbmVyKVxuICAgICAgdGhpcy5lbWl0KCdyZW1vdmVMaXN0ZW5lcicsIHR5cGUsIGxpc3RlbmVyKTtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBmdW5jdGlvbih0eXBlKSB7XG4gIHZhciBrZXksIGxpc3RlbmVycztcblxuICBpZiAoIXRoaXMuX2V2ZW50cylcbiAgICByZXR1cm4gdGhpcztcblxuICAvLyBub3QgbGlzdGVuaW5nIGZvciByZW1vdmVMaXN0ZW5lciwgbm8gbmVlZCB0byBlbWl0XG4gIGlmICghdGhpcy5fZXZlbnRzLnJlbW92ZUxpc3RlbmVyKSB7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApXG4gICAgICB0aGlzLl9ldmVudHMgPSB7fTtcbiAgICBlbHNlIGlmICh0aGlzLl9ldmVudHNbdHlwZV0pXG4gICAgICBkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGVdO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLy8gZW1pdCByZW1vdmVMaXN0ZW5lciBmb3IgYWxsIGxpc3RlbmVycyBvbiBhbGwgZXZlbnRzXG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgZm9yIChrZXkgaW4gdGhpcy5fZXZlbnRzKSB7XG4gICAgICBpZiAoa2V5ID09PSAncmVtb3ZlTGlzdGVuZXInKSBjb250aW51ZTtcbiAgICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKGtleSk7XG4gICAgfVxuICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCdyZW1vdmVMaXN0ZW5lcicpO1xuICAgIHRoaXMuX2V2ZW50cyA9IHt9O1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRzW3R5cGVdO1xuXG4gIGlmIChpc0Z1bmN0aW9uKGxpc3RlbmVycykpIHtcbiAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVycyk7XG4gIH0gZWxzZSBpZiAobGlzdGVuZXJzKSB7XG4gICAgLy8gTElGTyBvcmRlclxuICAgIHdoaWxlIChsaXN0ZW5lcnMubGVuZ3RoKVxuICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnNbbGlzdGVuZXJzLmxlbmd0aCAtIDFdKTtcbiAgfVxuICBkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGVdO1xuXG4gIHJldHVybiB0aGlzO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lcnMgPSBmdW5jdGlvbih0eXBlKSB7XG4gIHZhciByZXQ7XG4gIGlmICghdGhpcy5fZXZlbnRzIHx8ICF0aGlzLl9ldmVudHNbdHlwZV0pXG4gICAgcmV0ID0gW107XG4gIGVsc2UgaWYgKGlzRnVuY3Rpb24odGhpcy5fZXZlbnRzW3R5cGVdKSlcbiAgICByZXQgPSBbdGhpcy5fZXZlbnRzW3R5cGVdXTtcbiAgZWxzZVxuICAgIHJldCA9IHRoaXMuX2V2ZW50c1t0eXBlXS5zbGljZSgpO1xuICByZXR1cm4gcmV0O1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lckNvdW50ID0gZnVuY3Rpb24odHlwZSkge1xuICBpZiAodGhpcy5fZXZlbnRzKSB7XG4gICAgdmFyIGV2bGlzdGVuZXIgPSB0aGlzLl9ldmVudHNbdHlwZV07XG5cbiAgICBpZiAoaXNGdW5jdGlvbihldmxpc3RlbmVyKSlcbiAgICAgIHJldHVybiAxO1xuICAgIGVsc2UgaWYgKGV2bGlzdGVuZXIpXG4gICAgICByZXR1cm4gZXZsaXN0ZW5lci5sZW5ndGg7XG4gIH1cbiAgcmV0dXJuIDA7XG59O1xuXG5FdmVudEVtaXR0ZXIubGlzdGVuZXJDb3VudCA9IGZ1bmN0aW9uKGVtaXR0ZXIsIHR5cGUpIHtcbiAgcmV0dXJuIGVtaXR0ZXIubGlzdGVuZXJDb3VudCh0eXBlKTtcbn07XG5cbmZ1bmN0aW9uIGlzRnVuY3Rpb24oYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnZnVuY3Rpb24nO1xufVxuXG5mdW5jdGlvbiBpc051bWJlcihhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdudW1iZXInO1xufVxuXG5mdW5jdGlvbiBpc09iamVjdChhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdvYmplY3QnICYmIGFyZyAhPT0gbnVsbDtcbn1cblxuZnVuY3Rpb24gaXNVbmRlZmluZWQoYXJnKSB7XG4gIHJldHVybiBhcmcgPT09IHZvaWQgMDtcbn1cblxufSx7fV0sNzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG52YXIgaXNGdW5jdGlvbiA9IHJlcXVpcmUoJ2lzLWZ1bmN0aW9uJylcblxubW9kdWxlLmV4cG9ydHMgPSBmb3JFYWNoXG5cbnZhciB0b1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmdcbnZhciBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHlcblxuZnVuY3Rpb24gZm9yRWFjaChsaXN0LCBpdGVyYXRvciwgY29udGV4dCkge1xuICAgIGlmICghaXNGdW5jdGlvbihpdGVyYXRvcikpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignaXRlcmF0b3IgbXVzdCBiZSBhIGZ1bmN0aW9uJylcbiAgICB9XG5cbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDMpIHtcbiAgICAgICAgY29udGV4dCA9IHRoaXNcbiAgICB9XG4gICAgXG4gICAgaWYgKHRvU3RyaW5nLmNhbGwobGlzdCkgPT09ICdbb2JqZWN0IEFycmF5XScpXG4gICAgICAgIGZvckVhY2hBcnJheShsaXN0LCBpdGVyYXRvciwgY29udGV4dClcbiAgICBlbHNlIGlmICh0eXBlb2YgbGlzdCA9PT0gJ3N0cmluZycpXG4gICAgICAgIGZvckVhY2hTdHJpbmcobGlzdCwgaXRlcmF0b3IsIGNvbnRleHQpXG4gICAgZWxzZVxuICAgICAgICBmb3JFYWNoT2JqZWN0KGxpc3QsIGl0ZXJhdG9yLCBjb250ZXh0KVxufVxuXG5mdW5jdGlvbiBmb3JFYWNoQXJyYXkoYXJyYXksIGl0ZXJhdG9yLCBjb250ZXh0KSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGFycmF5Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGFycmF5LCBpKSkge1xuICAgICAgICAgICAgaXRlcmF0b3IuY2FsbChjb250ZXh0LCBhcnJheVtpXSwgaSwgYXJyYXkpXG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGZvckVhY2hTdHJpbmcoc3RyaW5nLCBpdGVyYXRvciwgY29udGV4dCkge1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBzdHJpbmcubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgLy8gbm8gc3VjaCB0aGluZyBhcyBhIHNwYXJzZSBzdHJpbmcuXG4gICAgICAgIGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgc3RyaW5nLmNoYXJBdChpKSwgaSwgc3RyaW5nKVxuICAgIH1cbn1cblxuZnVuY3Rpb24gZm9yRWFjaE9iamVjdChvYmplY3QsIGl0ZXJhdG9yLCBjb250ZXh0KSB7XG4gICAgZm9yICh2YXIgayBpbiBvYmplY3QpIHtcbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrKSkge1xuICAgICAgICAgICAgaXRlcmF0b3IuY2FsbChjb250ZXh0LCBvYmplY3Rba10sIGssIG9iamVjdClcbiAgICAgICAgfVxuICAgIH1cbn1cblxufSx7XCJpcy1mdW5jdGlvblwiOjExfV0sODpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4oZnVuY3Rpb24gKGdsb2JhbCl7XG52YXIgd2luO1xuXG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHdpbiA9IHdpbmRvdztcbn0gZWxzZSBpZiAodHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHdpbiA9IGdsb2JhbDtcbn0gZWxzZSBpZiAodHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIpe1xuICAgIHdpbiA9IHNlbGY7XG59IGVsc2Uge1xuICAgIHdpbiA9IHt9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHdpbjtcblxufSkuY2FsbCh0aGlzLHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDoge30pXG5cbn0se31dLDk6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihzdHJpbmdzKSB7XG4gIGlmICh0eXBlb2Ygc3RyaW5ncyA9PT0gJ3N0cmluZycpIHN0cmluZ3MgPSBbc3RyaW5nc11cbiAgdmFyIGV4cHJzID0gW10uc2xpY2UuY2FsbChhcmd1bWVudHMsMSlcbiAgdmFyIHBhcnRzID0gW11cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHJpbmdzLmxlbmd0aC0xOyBpKyspIHtcbiAgICBwYXJ0cy5wdXNoKHN0cmluZ3NbaV0sIGV4cHJzW2ldIHx8ICcnKVxuICB9XG4gIHBhcnRzLnB1c2goc3RyaW5nc1tpXSlcbiAgcmV0dXJuIHBhcnRzLmpvaW4oJycpXG59XG5cbn0se31dLDEwOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbm1vZHVsZS5leHBvcnRzID0gaXNOb2RlXG5cbmZ1bmN0aW9uIGlzTm9kZSAodmFsKSB7XG4gIHJldHVybiAoIXZhbCB8fCB0eXBlb2YgdmFsICE9PSAnb2JqZWN0JylcbiAgICA/IGZhbHNlXG4gICAgOiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIHdpbmRvdy5Ob2RlID09PSAnb2JqZWN0JylcbiAgICAgID8gKHZhbCBpbnN0YW5jZW9mIHdpbmRvdy5Ob2RlKVxuICAgICAgOiAodHlwZW9mIHZhbC5ub2RlVHlwZSA9PT0gJ251bWJlcicpICYmXG4gICAgICAgICh0eXBlb2YgdmFsLm5vZGVOYW1lID09PSAnc3RyaW5nJylcbn1cblxufSx7fV0sMTE6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xubW9kdWxlLmV4cG9ydHMgPSBpc0Z1bmN0aW9uXG5cbnZhciB0b1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmdcblxuZnVuY3Rpb24gaXNGdW5jdGlvbiAoZm4pIHtcbiAgdmFyIHN0cmluZyA9IHRvU3RyaW5nLmNhbGwoZm4pXG4gIHJldHVybiBzdHJpbmcgPT09ICdbb2JqZWN0IEZ1bmN0aW9uXScgfHxcbiAgICAodHlwZW9mIGZuID09PSAnZnVuY3Rpb24nICYmIHN0cmluZyAhPT0gJ1tvYmplY3QgUmVnRXhwXScpIHx8XG4gICAgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmXG4gICAgIC8vIElFOCBhbmQgYmVsb3dcbiAgICAgKGZuID09PSB3aW5kb3cuc2V0VGltZW91dCB8fFxuICAgICAgZm4gPT09IHdpbmRvdy5hbGVydCB8fFxuICAgICAgZm4gPT09IHdpbmRvdy5jb25maXJtIHx8XG4gICAgICBmbiA9PT0gd2luZG93LnByb21wdCkpXG59O1xuXG59LHt9XSwxMjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4vKlxub2JqZWN0LWFzc2lnblxuKGMpIFNpbmRyZSBTb3JodXNcbkBsaWNlbnNlIE1JVFxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cbnZhciBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xudmFyIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbnZhciBwcm9wSXNFbnVtZXJhYmxlID0gT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcblxuZnVuY3Rpb24gdG9PYmplY3QodmFsKSB7XG5cdGlmICh2YWwgPT09IG51bGwgfHwgdmFsID09PSB1bmRlZmluZWQpIHtcblx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdPYmplY3QuYXNzaWduIGNhbm5vdCBiZSBjYWxsZWQgd2l0aCBudWxsIG9yIHVuZGVmaW5lZCcpO1xuXHR9XG5cblx0cmV0dXJuIE9iamVjdCh2YWwpO1xufVxuXG5mdW5jdGlvbiBzaG91bGRVc2VOYXRpdmUoKSB7XG5cdHRyeSB7XG5cdFx0aWYgKCFPYmplY3QuYXNzaWduKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gRGV0ZWN0IGJ1Z2d5IHByb3BlcnR5IGVudW1lcmF0aW9uIG9yZGVyIGluIG9sZGVyIFY4IHZlcnNpb25zLlxuXG5cdFx0Ly8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9NDExOFxuXHRcdHZhciB0ZXN0MSA9IG5ldyBTdHJpbmcoJ2FiYycpOyAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1uZXctd3JhcHBlcnNcblx0XHR0ZXN0MVs1XSA9ICdkZSc7XG5cdFx0aWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRlc3QxKVswXSA9PT0gJzUnKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9MzA1NlxuXHRcdHZhciB0ZXN0MiA9IHt9O1xuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgMTA7IGkrKykge1xuXHRcdFx0dGVzdDJbJ18nICsgU3RyaW5nLmZyb21DaGFyQ29kZShpKV0gPSBpO1xuXHRcdH1cblx0XHR2YXIgb3JkZXIyID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGVzdDIpLm1hcChmdW5jdGlvbiAobikge1xuXHRcdFx0cmV0dXJuIHRlc3QyW25dO1xuXHRcdH0pO1xuXHRcdGlmIChvcmRlcjIuam9pbignJykgIT09ICcwMTIzNDU2Nzg5Jykge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTMwNTZcblx0XHR2YXIgdGVzdDMgPSB7fTtcblx0XHQnYWJjZGVmZ2hpamtsbW5vcHFyc3QnLnNwbGl0KCcnKS5mb3JFYWNoKGZ1bmN0aW9uIChsZXR0ZXIpIHtcblx0XHRcdHRlc3QzW2xldHRlcl0gPSBsZXR0ZXI7XG5cdFx0fSk7XG5cdFx0aWYgKE9iamVjdC5rZXlzKE9iamVjdC5hc3NpZ24oe30sIHRlc3QzKSkuam9pbignJykgIT09XG5cdFx0XHRcdCdhYmNkZWZnaGlqa2xtbm9wcXJzdCcpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0Ly8gV2UgZG9uJ3QgZXhwZWN0IGFueSBvZiB0aGUgYWJvdmUgdG8gdGhyb3csIGJ1dCBiZXR0ZXIgdG8gYmUgc2FmZS5cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzaG91bGRVc2VOYXRpdmUoKSA/IE9iamVjdC5hc3NpZ24gOiBmdW5jdGlvbiAodGFyZ2V0LCBzb3VyY2UpIHtcblx0dmFyIGZyb207XG5cdHZhciB0byA9IHRvT2JqZWN0KHRhcmdldCk7XG5cdHZhciBzeW1ib2xzO1xuXG5cdGZvciAodmFyIHMgPSAxOyBzIDwgYXJndW1lbnRzLmxlbmd0aDsgcysrKSB7XG5cdFx0ZnJvbSA9IE9iamVjdChhcmd1bWVudHNbc10pO1xuXG5cdFx0Zm9yICh2YXIga2V5IGluIGZyb20pIHtcblx0XHRcdGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGZyb20sIGtleSkpIHtcblx0XHRcdFx0dG9ba2V5XSA9IGZyb21ba2V5XTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG5cdFx0XHRzeW1ib2xzID0gZ2V0T3duUHJvcGVydHlTeW1ib2xzKGZyb20pO1xuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzeW1ib2xzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdGlmIChwcm9wSXNFbnVtZXJhYmxlLmNhbGwoZnJvbSwgc3ltYm9sc1tpXSkpIHtcblx0XHRcdFx0XHR0b1tzeW1ib2xzW2ldXSA9IGZyb21bc3ltYm9sc1tpXV07XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gdG87XG59O1xuXG59LHt9XSwxMzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG52YXIgdHJpbSA9IHJlcXVpcmUoJ3RyaW0nKVxuICAsIGZvckVhY2ggPSByZXF1aXJlKCdmb3ItZWFjaCcpXG4gICwgaXNBcnJheSA9IGZ1bmN0aW9uKGFyZykge1xuICAgICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhcmcpID09PSAnW29iamVjdCBBcnJheV0nO1xuICAgIH1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaGVhZGVycykge1xuICBpZiAoIWhlYWRlcnMpXG4gICAgcmV0dXJuIHt9XG5cbiAgdmFyIHJlc3VsdCA9IHt9XG5cbiAgZm9yRWFjaChcbiAgICAgIHRyaW0oaGVhZGVycykuc3BsaXQoJ1xcbicpXG4gICAgLCBmdW5jdGlvbiAocm93KSB7XG4gICAgICAgIHZhciBpbmRleCA9IHJvdy5pbmRleE9mKCc6JylcbiAgICAgICAgICAsIGtleSA9IHRyaW0ocm93LnNsaWNlKDAsIGluZGV4KSkudG9Mb3dlckNhc2UoKVxuICAgICAgICAgICwgdmFsdWUgPSB0cmltKHJvdy5zbGljZShpbmRleCArIDEpKVxuXG4gICAgICAgIGlmICh0eXBlb2YocmVzdWx0W2tleV0pID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIHJlc3VsdFtrZXldID0gdmFsdWVcbiAgICAgICAgfSBlbHNlIGlmIChpc0FycmF5KHJlc3VsdFtrZXldKSkge1xuICAgICAgICAgIHJlc3VsdFtrZXldLnB1c2godmFsdWUpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzdWx0W2tleV0gPSBbIHJlc3VsdFtrZXldLCB2YWx1ZSBdXG4gICAgICAgIH1cbiAgICAgIH1cbiAgKVxuXG4gIHJldHVybiByZXN1bHRcbn1cbn0se1wiZm9yLWVhY2hcIjo3LFwidHJpbVwiOjE4fV0sMTQ6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuLy8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG52YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG5cbi8vIGNhY2hlZCBmcm9tIHdoYXRldmVyIGdsb2JhbCBpcyBwcmVzZW50IHNvIHRoYXQgdGVzdCBydW5uZXJzIHRoYXQgc3R1YiBpdFxuLy8gZG9uJ3QgYnJlYWsgdGhpbmdzLiAgQnV0IHdlIG5lZWQgdG8gd3JhcCBpdCBpbiBhIHRyeSBjYXRjaCBpbiBjYXNlIGl0IGlzXG4vLyB3cmFwcGVkIGluIHN0cmljdCBtb2RlIGNvZGUgd2hpY2ggZG9lc24ndCBkZWZpbmUgYW55IGdsb2JhbHMuICBJdCdzIGluc2lkZSBhXG4vLyBmdW5jdGlvbiBiZWNhdXNlIHRyeS9jYXRjaGVzIGRlb3B0aW1pemUgaW4gY2VydGFpbiBlbmdpbmVzLlxuXG52YXIgY2FjaGVkU2V0VGltZW91dDtcbnZhciBjYWNoZWRDbGVhclRpbWVvdXQ7XG5cbmZ1bmN0aW9uIGRlZmF1bHRTZXRUaW1vdXQoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG5mdW5jdGlvbiBkZWZhdWx0Q2xlYXJUaW1lb3V0ICgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuKGZ1bmN0aW9uICgpIHtcbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIHNldFRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIGNsZWFyVGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICB9XG59ICgpKVxuZnVuY3Rpb24gcnVuVGltZW91dChmdW4pIHtcbiAgICBpZiAoY2FjaGVkU2V0VGltZW91dCA9PT0gc2V0VGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgLy8gaWYgc2V0VGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZFNldFRpbWVvdXQgPT09IGRlZmF1bHRTZXRUaW1vdXQgfHwgIWNhY2hlZFNldFRpbWVvdXQpICYmIHNldFRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9IGNhdGNoKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0IHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKG51bGwsIGZ1biwgMCk7XG4gICAgICAgIH0gY2F0Y2goZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvclxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbCh0aGlzLCBmdW4sIDApO1xuICAgICAgICB9XG4gICAgfVxuXG5cbn1cbmZ1bmN0aW9uIHJ1bkNsZWFyVGltZW91dChtYXJrZXIpIHtcbiAgICBpZiAoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgLy8gaWYgY2xlYXJUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBkZWZhdWx0Q2xlYXJUaW1lb3V0IHx8ICFjYWNoZWRDbGVhclRpbWVvdXQpICYmIGNsZWFyVGltZW91dCkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfSBjYXRjaCAoZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgIHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwobnVsbCwgbWFya2VyKTtcbiAgICAgICAgfSBjYXRjaCAoZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvci5cbiAgICAgICAgICAgIC8vIFNvbWUgdmVyc2lvbnMgb2YgSS5FLiBoYXZlIGRpZmZlcmVudCBydWxlcyBmb3IgY2xlYXJUaW1lb3V0IHZzIHNldFRpbWVvdXRcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbCh0aGlzLCBtYXJrZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG5cblxufVxudmFyIHF1ZXVlID0gW107XG52YXIgZHJhaW5pbmcgPSBmYWxzZTtcbnZhciBjdXJyZW50UXVldWU7XG52YXIgcXVldWVJbmRleCA9IC0xO1xuXG5mdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XG4gICAgaWYgKCFkcmFpbmluZyB8fCAhY3VycmVudFF1ZXVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICB9XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBkcmFpblF1ZXVlKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmFpblF1ZXVlKCkge1xuICAgIGlmIChkcmFpbmluZykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciB0aW1lb3V0ID0gcnVuVGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuICAgIGRyYWluaW5nID0gdHJ1ZTtcblxuICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgd2hpbGUobGVuKSB7XG4gICAgICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuICAgICAgICBxdWV1ZSA9IFtdO1xuICAgICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudFF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIH1cbiAgICBjdXJyZW50UXVldWUgPSBudWxsO1xuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgcnVuQ2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xufVxuXG5wcm9jZXNzLm5leHRUaWNrID0gZnVuY3Rpb24gKGZ1bikge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcbiAgICAgICAgcnVuVGltZW91dChkcmFpblF1ZXVlKTtcbiAgICB9XG59O1xuXG4vLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5mdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcbiAgICB0aGlzLmZ1biA9IGZ1bjtcbiAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG59XG5JdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG59O1xucHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJztcbnByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5wcm9jZXNzLmVudiA9IHt9O1xucHJvY2Vzcy5hcmd2ID0gW107XG5wcm9jZXNzLnZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcbnByb2Nlc3MudmVyc2lvbnMgPSB7fTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnByb2Nlc3Mub24gPSBub29wO1xucHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLm9uY2UgPSBub29wO1xucHJvY2Vzcy5vZmYgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG5wcm9jZXNzLmVtaXQgPSBub29wO1xuXG5wcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5cbnByb2Nlc3MuY3dkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJy8nIH07XG5wcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xucHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcblxufSx7fV0sMTU6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuKGZ1bmN0aW9uIChnbG9iYWwpe1xubW9kdWxlLmV4cG9ydHMgPVxuICBnbG9iYWwucGVyZm9ybWFuY2UgJiZcbiAgZ2xvYmFsLnBlcmZvcm1hbmNlLm5vdyA/IGZ1bmN0aW9uIG5vdygpIHtcbiAgICByZXR1cm4gcGVyZm9ybWFuY2Uubm93KClcbiAgfSA6IERhdGUubm93IHx8IGZ1bmN0aW9uIG5vdygpIHtcbiAgICByZXR1cm4gK25ldyBEYXRlXG4gIH1cblxufSkuY2FsbCh0aGlzLHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDoge30pXG5cbn0se31dLDE2OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbnZhciBpc0RvbSA9IHJlcXVpcmUoJ2lzLWRvbScpXG52YXIgbG9va3VwID0gcmVxdWlyZSgnYnJvd3Nlci1tZWRpYS1taW1lLXR5cGUnKVxuXG5tb2R1bGUuZXhwb3J0cy52aWRlbyA9IHNpbXBsZU1lZGlhRWxlbWVudC5iaW5kKG51bGwsICd2aWRlbycpXG5tb2R1bGUuZXhwb3J0cy5hdWRpbyA9IHNpbXBsZU1lZGlhRWxlbWVudC5iaW5kKG51bGwsICdhdWRpbycpXG5cbmZ1bmN0aW9uIHNpbXBsZU1lZGlhRWxlbWVudCAoZWxlbWVudE5hbWUsIHNvdXJjZXMsIG9wdCkge1xuICBvcHQgPSBvcHQgfHwge31cblxuICBpZiAoIUFycmF5LmlzQXJyYXkoc291cmNlcykpIHtcbiAgICBzb3VyY2VzID0gWyBzb3VyY2VzIF1cbiAgfVxuXG4gIHZhciBtZWRpYSA9IG9wdC5lbGVtZW50IHx8IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoZWxlbWVudE5hbWUpXG5cbiAgaWYgKG9wdC5sb29wKSBtZWRpYS5zZXRBdHRyaWJ1dGUoJ2xvb3AnLCAnbG9vcCcpXG4gIGlmIChvcHQubXV0ZWQpIG1lZGlhLnNldEF0dHJpYnV0ZSgnbXV0ZWQnLCAnbXV0ZWQnKVxuICBpZiAob3B0LmF1dG9wbGF5KSBtZWRpYS5zZXRBdHRyaWJ1dGUoJ2F1dG9wbGF5JywgJ2F1dG9wbGF5JylcbiAgaWYgKG9wdC5jb250cm9scykgbWVkaWEuc2V0QXR0cmlidXRlKCdjb250cm9scycsICdjb250cm9scycpXG4gIGlmIChvcHQuY3Jvc3NPcmlnaW4pIG1lZGlhLnNldEF0dHJpYnV0ZSgnY3Jvc3NvcmlnaW4nLCBvcHQuY3Jvc3NPcmlnaW4pXG4gIGlmIChvcHQucHJlbG9hZCkgbWVkaWEuc2V0QXR0cmlidXRlKCdwcmVsb2FkJywgb3B0LnByZWxvYWQpXG4gIGlmIChvcHQucG9zdGVyKSBtZWRpYS5zZXRBdHRyaWJ1dGUoJ3Bvc3RlcicsIG9wdC5wb3N0ZXIpXG4gIGlmICh0eXBlb2Ygb3B0LnZvbHVtZSAhPT0gJ3VuZGVmaW5lZCcpIG1lZGlhLnNldEF0dHJpYnV0ZSgndm9sdW1lJywgb3B0LnZvbHVtZSlcblxuICBzb3VyY2VzID0gc291cmNlcy5maWx0ZXIoQm9vbGVhbilcbiAgc291cmNlcy5mb3JFYWNoKGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICBtZWRpYS5hcHBlbmRDaGlsZChjcmVhdGVTb3VyY2VFbGVtZW50KHNvdXJjZSkpXG4gIH0pXG5cbiAgcmV0dXJuIG1lZGlhXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVNvdXJjZUVsZW1lbnQgKGRhdGEpIHtcbiAgaWYgKGlzRG9tKGRhdGEpKSByZXR1cm4gZGF0YVxuICBpZiAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnKSB7XG4gICAgZGF0YSA9IHsgc3JjOiBkYXRhIH1cbiAgICBpZiAoZGF0YS5zcmMpIHtcbiAgICAgIHZhciBleHQgPSBleHRlbnNpb24oZGF0YS5zcmMpXG4gICAgICBpZiAoZXh0KSBkYXRhLnR5cGUgPSBsb29rdXAoZXh0KVxuICAgIH1cbiAgfVxuXG4gIHZhciBzb3VyY2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzb3VyY2UnKVxuICBpZiAoZGF0YS5zcmMpIHNvdXJjZS5zZXRBdHRyaWJ1dGUoJ3NyYycsIGRhdGEuc3JjKVxuICBpZiAoZGF0YS50eXBlKSBzb3VyY2Uuc2V0QXR0cmlidXRlKCd0eXBlJywgZGF0YS50eXBlKVxuICByZXR1cm4gc291cmNlXG59XG5cbmZ1bmN0aW9uIGV4dGVuc2lvbiAoZGF0YSkge1xuICB2YXIgZXh0SWR4ID0gZGF0YS5sYXN0SW5kZXhPZignLicpXG4gIGlmIChleHRJZHggPD0gMCB8fCBleHRJZHggPT09IGRhdGEubGVuZ3RoIC0gMSkge1xuICAgIHJldHVybiBudWxsXG4gIH1cbiAgcmV0dXJuIGRhdGEuc3Vic3RyaW5nKGV4dElkeCArIDEpXG59XG5cbn0se1wiYnJvd3Nlci1tZWRpYS1taW1lLXR5cGVcIjozLFwiaXMtZG9tXCI6MTB9XSwxNzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCBUSFJFRSApIHtcblx0LyoqXG5cdCAqIEBhdXRob3IgcWlhbyAvIGh0dHBzOi8vZ2l0aHViLmNvbS9xaWFvXG5cdCAqIEBhdXRob3IgbXJkb29iIC8gaHR0cDovL21yZG9vYi5jb21cblx0ICogQGF1dGhvciBhbHRlcmVkcSAvIGh0dHA6Ly9hbHRlcmVkcXVhbGlhLmNvbS9cblx0ICogQGF1dGhvciBXZXN0TGFuZ2xleSAvIGh0dHA6Ly9naXRodWIuY29tL1dlc3RMYW5nbGV5XG5cdCAqIEBhdXRob3IgZXJpY2g2NjYgLyBodHRwOi8vZXJpY2hhaW5lcy5jb21cblx0ICovXG5cbi8vIFRoaXMgc2V0IG9mIGNvbnRyb2xzIHBlcmZvcm1zIG9yYml0aW5nLCBkb2xseWluZyAoem9vbWluZyksIGFuZCBwYW5uaW5nLlxuLy8gVW5saWtlIFRyYWNrYmFsbENvbnRyb2xzLCBpdCBtYWludGFpbnMgdGhlIFwidXBcIiBkaXJlY3Rpb24gb2JqZWN0LnVwICgrWSBieSBkZWZhdWx0KS5cbi8vXG4vLyAgICBPcmJpdCAtIGxlZnQgbW91c2UgLyB0b3VjaDogb25lIGZpbmdlciBtb3ZlXG4vLyAgICBab29tIC0gbWlkZGxlIG1vdXNlLCBvciBtb3VzZXdoZWVsIC8gdG91Y2g6IHR3byBmaW5nZXIgc3ByZWFkIG9yIHNxdWlzaFxuLy8gICAgUGFuIC0gcmlnaHQgbW91c2UsIG9yIGFycm93IGtleXMgLyB0b3VjaDogdGhyZWUgZmludGVyIHN3aXBlXG5cblx0ZnVuY3Rpb24gT3JiaXRDb250cm9scyggb2JqZWN0LCBkb21FbGVtZW50ICkge1xuXG5cdFx0dGhpcy5vYmplY3QgPSBvYmplY3Q7XG5cblx0XHR0aGlzLmRvbUVsZW1lbnQgPSAoIGRvbUVsZW1lbnQgIT09IHVuZGVmaW5lZCApID8gZG9tRWxlbWVudCA6IGRvY3VtZW50O1xuXG5cdFx0Ly8gU2V0IHRvIGZhbHNlIHRvIGRpc2FibGUgdGhpcyBjb250cm9sXG5cdFx0dGhpcy5lbmFibGVkID0gdHJ1ZTtcblxuXHRcdC8vIFwidGFyZ2V0XCIgc2V0cyB0aGUgbG9jYXRpb24gb2YgZm9jdXMsIHdoZXJlIHRoZSBvYmplY3Qgb3JiaXRzIGFyb3VuZFxuXHRcdHRoaXMudGFyZ2V0ID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcblxuXHRcdC8vIEhvdyBmYXIgeW91IGNhbiBkb2xseSBpbiBhbmQgb3V0ICggUGVyc3BlY3RpdmVDYW1lcmEgb25seSApXG5cdFx0dGhpcy5taW5EaXN0YW5jZSA9IDA7XG5cdFx0dGhpcy5tYXhEaXN0YW5jZSA9IEluZmluaXR5O1xuXG5cdFx0Ly8gSG93IGZhciB5b3UgY2FuIHpvb20gaW4gYW5kIG91dCAoIE9ydGhvZ3JhcGhpY0NhbWVyYSBvbmx5IClcblx0XHR0aGlzLm1pblpvb20gPSAwO1xuXHRcdHRoaXMubWF4Wm9vbSA9IEluZmluaXR5O1xuXG5cdFx0Ly8gSG93IGZhciB5b3UgY2FuIG9yYml0IHZlcnRpY2FsbHksIHVwcGVyIGFuZCBsb3dlciBsaW1pdHMuXG5cdFx0Ly8gUmFuZ2UgaXMgMCB0byBNYXRoLlBJIHJhZGlhbnMuXG5cdFx0dGhpcy5taW5Qb2xhckFuZ2xlID0gMDsgLy8gcmFkaWFuc1xuXHRcdHRoaXMubWF4UG9sYXJBbmdsZSA9IE1hdGguUEk7IC8vIHJhZGlhbnNcblxuXHRcdC8vIEhvdyBmYXIgeW91IGNhbiBvcmJpdCBob3Jpem9udGFsbHksIHVwcGVyIGFuZCBsb3dlciBsaW1pdHMuXG5cdFx0Ly8gSWYgc2V0LCBtdXN0IGJlIGEgc3ViLWludGVydmFsIG9mIHRoZSBpbnRlcnZhbCBbIC0gTWF0aC5QSSwgTWF0aC5QSSBdLlxuXHRcdHRoaXMubWluQXppbXV0aEFuZ2xlID0gLSBJbmZpbml0eTsgLy8gcmFkaWFuc1xuXHRcdHRoaXMubWF4QXppbXV0aEFuZ2xlID0gSW5maW5pdHk7IC8vIHJhZGlhbnNcblxuXHRcdC8vIFNldCB0byB0cnVlIHRvIGVuYWJsZSBkYW1waW5nIChpbmVydGlhKVxuXHRcdC8vIElmIGRhbXBpbmcgaXMgZW5hYmxlZCwgeW91IG11c3QgY2FsbCBjb250cm9scy51cGRhdGUoKSBpbiB5b3VyIGFuaW1hdGlvbiBsb29wXG5cdFx0dGhpcy5lbmFibGVEYW1waW5nID0gZmFsc2U7XG5cdFx0dGhpcy5kYW1waW5nRmFjdG9yID0gMC4yNTtcblxuXHRcdC8vIFRoaXMgb3B0aW9uIGFjdHVhbGx5IGVuYWJsZXMgZG9sbHlpbmcgaW4gYW5kIG91dDsgbGVmdCBhcyBcInpvb21cIiBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkuXG5cdFx0Ly8gU2V0IHRvIGZhbHNlIHRvIGRpc2FibGUgem9vbWluZ1xuXHRcdHRoaXMuZW5hYmxlWm9vbSA9IHRydWU7XG5cdFx0dGhpcy56b29tU3BlZWQgPSAxLjA7XG5cblx0XHQvLyBTZXQgdG8gZmFsc2UgdG8gZGlzYWJsZSByb3RhdGluZ1xuXHRcdHRoaXMuZW5hYmxlUm90YXRlID0gdHJ1ZTtcblx0XHR0aGlzLnJvdGF0ZVNwZWVkID0gMS4wO1xuXG5cdFx0Ly8gU2V0IHRvIGZhbHNlIHRvIGRpc2FibGUgcGFubmluZ1xuXHRcdHRoaXMuZW5hYmxlUGFuID0gdHJ1ZTtcblx0XHR0aGlzLmtleVBhblNwZWVkID0gNy4wO1x0Ly8gcGl4ZWxzIG1vdmVkIHBlciBhcnJvdyBrZXkgcHVzaFxuXG5cdFx0Ly8gU2V0IHRvIHRydWUgdG8gYXV0b21hdGljYWxseSByb3RhdGUgYXJvdW5kIHRoZSB0YXJnZXRcblx0XHQvLyBJZiBhdXRvLXJvdGF0ZSBpcyBlbmFibGVkLCB5b3UgbXVzdCBjYWxsIGNvbnRyb2xzLnVwZGF0ZSgpIGluIHlvdXIgYW5pbWF0aW9uIGxvb3Bcblx0XHR0aGlzLmF1dG9Sb3RhdGUgPSBmYWxzZTtcblx0XHR0aGlzLmF1dG9Sb3RhdGVTcGVlZCA9IDIuMDsgLy8gMzAgc2Vjb25kcyBwZXIgcm91bmQgd2hlbiBmcHMgaXMgNjBcblxuXHRcdC8vIFNldCB0byBmYWxzZSB0byBkaXNhYmxlIHVzZSBvZiB0aGUga2V5c1xuXHRcdHRoaXMuZW5hYmxlS2V5cyA9IHRydWU7XG5cblx0XHQvLyBUaGUgZm91ciBhcnJvdyBrZXlzXG5cdFx0dGhpcy5rZXlzID0geyBMRUZUOiAzNywgVVA6IDM4LCBSSUdIVDogMzksIEJPVFRPTTogNDAgfTtcblxuXHRcdC8vIE1vdXNlIGJ1dHRvbnNcblx0XHR0aGlzLm1vdXNlQnV0dG9ucyA9IHsgT1JCSVQ6IFRIUkVFLk1PVVNFLkxFRlQsIFpPT006IFRIUkVFLk1PVVNFLk1JRERMRSwgUEFOOiBUSFJFRS5NT1VTRS5SSUdIVCB9O1xuXG5cdFx0Ly8gZm9yIHJlc2V0XG5cdFx0dGhpcy50YXJnZXQwID0gdGhpcy50YXJnZXQuY2xvbmUoKTtcblx0XHR0aGlzLnBvc2l0aW9uMCA9IHRoaXMub2JqZWN0LnBvc2l0aW9uLmNsb25lKCk7XG5cdFx0dGhpcy56b29tMCA9IHRoaXMub2JqZWN0Lnpvb207XG5cblx0XHQvL1xuXHRcdC8vIHB1YmxpYyBtZXRob2RzXG5cdFx0Ly9cblxuXHRcdHRoaXMuZ2V0UG9sYXJBbmdsZSA9IGZ1bmN0aW9uICgpIHtcblxuXHRcdFx0cmV0dXJuIHNwaGVyaWNhbC5waGk7XG5cblx0XHR9O1xuXG5cdFx0dGhpcy5nZXRBemltdXRoYWxBbmdsZSA9IGZ1bmN0aW9uICgpIHtcblxuXHRcdFx0cmV0dXJuIHNwaGVyaWNhbC50aGV0YTtcblxuXHRcdH07XG5cblx0XHR0aGlzLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuXG5cdFx0XHRzY29wZS50YXJnZXQuY29weSggc2NvcGUudGFyZ2V0MCApO1xuXHRcdFx0c2NvcGUub2JqZWN0LnBvc2l0aW9uLmNvcHkoIHNjb3BlLnBvc2l0aW9uMCApO1xuXHRcdFx0c2NvcGUub2JqZWN0Lnpvb20gPSBzY29wZS56b29tMDtcblxuXHRcdFx0c2NvcGUub2JqZWN0LnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcblx0XHRcdHNjb3BlLmRpc3BhdGNoRXZlbnQoIGNoYW5nZUV2ZW50ICk7XG5cblx0XHRcdHNjb3BlLnVwZGF0ZSgpO1xuXG5cdFx0XHRzdGF0ZSA9IFNUQVRFLk5PTkU7XG5cblx0XHR9O1xuXG5cdFx0Ly8gdGhpcyBtZXRob2QgaXMgZXhwb3NlZCwgYnV0IHBlcmhhcHMgaXQgd291bGQgYmUgYmV0dGVyIGlmIHdlIGNhbiBtYWtlIGl0IHByaXZhdGUuLi5cblx0XHR0aGlzLnVwZGF0ZSA9IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHR2YXIgb2Zmc2V0ID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcblxuXHRcdFx0Ly8gc28gY2FtZXJhLnVwIGlzIHRoZSBvcmJpdCBheGlzXG5cdFx0XHR2YXIgcXVhdCA9IG5ldyBUSFJFRS5RdWF0ZXJuaW9uKCkuc2V0RnJvbVVuaXRWZWN0b3JzKCBvYmplY3QudXAsIG5ldyBUSFJFRS5WZWN0b3IzKCAwLCAxLCAwICkgKTtcblx0XHRcdHZhciBxdWF0SW52ZXJzZSA9IHF1YXQuY2xvbmUoKS5pbnZlcnNlKCk7XG5cblx0XHRcdHZhciBsYXN0UG9zaXRpb24gPSBuZXcgVEhSRUUuVmVjdG9yMygpO1xuXHRcdFx0dmFyIGxhc3RRdWF0ZXJuaW9uID0gbmV3IFRIUkVFLlF1YXRlcm5pb24oKTtcblxuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZSAoKSB7XG5cblx0XHRcdFx0dmFyIHBvc2l0aW9uID0gc2NvcGUub2JqZWN0LnBvc2l0aW9uO1xuXG5cdFx0XHRcdG9mZnNldC5jb3B5KCBwb3NpdGlvbiApLnN1Yiggc2NvcGUudGFyZ2V0ICk7XG5cblx0XHRcdFx0Ly8gcm90YXRlIG9mZnNldCB0byBcInktYXhpcy1pcy11cFwiIHNwYWNlXG5cdFx0XHRcdG9mZnNldC5hcHBseVF1YXRlcm5pb24oIHF1YXQgKTtcblxuXHRcdFx0XHQvLyBhbmdsZSBmcm9tIHotYXhpcyBhcm91bmQgeS1heGlzXG5cdFx0XHRcdHNwaGVyaWNhbC5zZXRGcm9tVmVjdG9yMyggb2Zmc2V0ICk7XG5cblx0XHRcdFx0aWYgKCBzY29wZS5hdXRvUm90YXRlICYmIHN0YXRlID09PSBTVEFURS5OT05FICkge1xuXG5cdFx0XHRcdFx0cm90YXRlTGVmdCggZ2V0QXV0b1JvdGF0aW9uQW5nbGUoKSApO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0XHRzcGhlcmljYWwudGhldGEgKz0gc3BoZXJpY2FsRGVsdGEudGhldGE7XG5cdFx0XHRcdHNwaGVyaWNhbC5waGkgKz0gc3BoZXJpY2FsRGVsdGEucGhpO1xuXG5cdFx0XHRcdC8vIHJlc3RyaWN0IHRoZXRhIHRvIGJlIGJldHdlZW4gZGVzaXJlZCBsaW1pdHNcblx0XHRcdFx0c3BoZXJpY2FsLnRoZXRhID0gTWF0aC5tYXgoIHNjb3BlLm1pbkF6aW11dGhBbmdsZSwgTWF0aC5taW4oIHNjb3BlLm1heEF6aW11dGhBbmdsZSwgc3BoZXJpY2FsLnRoZXRhICkgKTtcblxuXHRcdFx0XHQvLyByZXN0cmljdCBwaGkgdG8gYmUgYmV0d2VlbiBkZXNpcmVkIGxpbWl0c1xuXHRcdFx0XHRzcGhlcmljYWwucGhpID0gTWF0aC5tYXgoIHNjb3BlLm1pblBvbGFyQW5nbGUsIE1hdGgubWluKCBzY29wZS5tYXhQb2xhckFuZ2xlLCBzcGhlcmljYWwucGhpICkgKTtcblxuXHRcdFx0XHRzcGhlcmljYWwubWFrZVNhZmUoKTtcblxuXG5cdFx0XHRcdHNwaGVyaWNhbC5yYWRpdXMgKj0gc2NhbGU7XG5cblx0XHRcdFx0Ly8gcmVzdHJpY3QgcmFkaXVzIHRvIGJlIGJldHdlZW4gZGVzaXJlZCBsaW1pdHNcblx0XHRcdFx0c3BoZXJpY2FsLnJhZGl1cyA9IE1hdGgubWF4KCBzY29wZS5taW5EaXN0YW5jZSwgTWF0aC5taW4oIHNjb3BlLm1heERpc3RhbmNlLCBzcGhlcmljYWwucmFkaXVzICkgKTtcblxuXHRcdFx0XHQvLyBtb3ZlIHRhcmdldCB0byBwYW5uZWQgbG9jYXRpb25cblx0XHRcdFx0c2NvcGUudGFyZ2V0LmFkZCggcGFuT2Zmc2V0ICk7XG5cblx0XHRcdFx0b2Zmc2V0LnNldEZyb21TcGhlcmljYWwoIHNwaGVyaWNhbCApO1xuXG5cdFx0XHRcdC8vIHJvdGF0ZSBvZmZzZXQgYmFjayB0byBcImNhbWVyYS11cC12ZWN0b3ItaXMtdXBcIiBzcGFjZVxuXHRcdFx0XHRvZmZzZXQuYXBwbHlRdWF0ZXJuaW9uKCBxdWF0SW52ZXJzZSApO1xuXG5cdFx0XHRcdHBvc2l0aW9uLmNvcHkoIHNjb3BlLnRhcmdldCApLmFkZCggb2Zmc2V0ICk7XG5cblx0XHRcdFx0c2NvcGUub2JqZWN0Lmxvb2tBdCggc2NvcGUudGFyZ2V0ICk7XG5cblx0XHRcdFx0aWYgKCBzY29wZS5lbmFibGVEYW1waW5nID09PSB0cnVlICkge1xuXG5cdFx0XHRcdFx0c3BoZXJpY2FsRGVsdGEudGhldGEgKj0gKCAxIC0gc2NvcGUuZGFtcGluZ0ZhY3RvciApO1xuXHRcdFx0XHRcdHNwaGVyaWNhbERlbHRhLnBoaSAqPSAoIDEgLSBzY29wZS5kYW1waW5nRmFjdG9yICk7XG5cblx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdHNwaGVyaWNhbERlbHRhLnNldCggMCwgMCwgMCApO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0XHRzY2FsZSA9IDE7XG5cdFx0XHRcdHBhbk9mZnNldC5zZXQoIDAsIDAsIDAgKTtcblxuXHRcdFx0XHQvLyB1cGRhdGUgY29uZGl0aW9uIGlzOlxuXHRcdFx0XHQvLyBtaW4oY2FtZXJhIGRpc3BsYWNlbWVudCwgY2FtZXJhIHJvdGF0aW9uIGluIHJhZGlhbnMpXjIgPiBFUFNcblx0XHRcdFx0Ly8gdXNpbmcgc21hbGwtYW5nbGUgYXBwcm94aW1hdGlvbiBjb3MoeC8yKSA9IDEgLSB4XjIgLyA4XG5cblx0XHRcdFx0aWYgKCB6b29tQ2hhbmdlZCB8fFxuXHRcdFx0XHRcdGxhc3RQb3NpdGlvbi5kaXN0YW5jZVRvU3F1YXJlZCggc2NvcGUub2JqZWN0LnBvc2l0aW9uICkgPiBFUFMgfHxcblx0XHRcdFx0XHQ4ICogKCAxIC0gbGFzdFF1YXRlcm5pb24uZG90KCBzY29wZS5vYmplY3QucXVhdGVybmlvbiApICkgPiBFUFMgKSB7XG5cblx0XHRcdFx0XHRzY29wZS5kaXNwYXRjaEV2ZW50KCBjaGFuZ2VFdmVudCApO1xuXG5cdFx0XHRcdFx0bGFzdFBvc2l0aW9uLmNvcHkoIHNjb3BlLm9iamVjdC5wb3NpdGlvbiApO1xuXHRcdFx0XHRcdGxhc3RRdWF0ZXJuaW9uLmNvcHkoIHNjb3BlLm9iamVjdC5xdWF0ZXJuaW9uICk7XG5cdFx0XHRcdFx0em9vbUNoYW5nZWQgPSBmYWxzZTtcblxuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cblx0XHRcdH07XG5cblx0XHR9KCk7XG5cblx0XHR0aGlzLmRpc3Bvc2UgPSBmdW5jdGlvbigpIHtcblxuXHRcdFx0c2NvcGUuZG9tRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCAnY29udGV4dG1lbnUnLCBvbkNvbnRleHRNZW51LCBmYWxzZSApO1xuXHRcdFx0c2NvcGUuZG9tRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCAnbW91c2Vkb3duJywgb25Nb3VzZURvd24sIGZhbHNlICk7XG5cdFx0XHRzY29wZS5kb21FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoICd3aGVlbCcsIG9uTW91c2VXaGVlbCwgZmFsc2UgKTtcblxuXHRcdFx0c2NvcGUuZG9tRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCAndG91Y2hzdGFydCcsIG9uVG91Y2hTdGFydCwgZmFsc2UgKTtcblx0XHRcdHNjb3BlLmRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lciggJ3RvdWNoZW5kJywgb25Ub3VjaEVuZCwgZmFsc2UgKTtcblx0XHRcdHNjb3BlLmRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lciggJ3RvdWNobW92ZScsIG9uVG91Y2hNb3ZlLCBmYWxzZSApO1xuXG5cdFx0XHRkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCAnbW91c2Vtb3ZlJywgb25Nb3VzZU1vdmUsIGZhbHNlICk7XG5cdFx0XHRkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCAnbW91c2V1cCcsIG9uTW91c2VVcCwgZmFsc2UgKTtcblxuXHRcdFx0d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoICdrZXlkb3duJywgb25LZXlEb3duLCBmYWxzZSApO1xuXG5cdFx0XHQvL3Njb3BlLmRpc3BhdGNoRXZlbnQoIHsgdHlwZTogJ2Rpc3Bvc2UnIH0gKTsgLy8gc2hvdWxkIHRoaXMgYmUgYWRkZWQgaGVyZT9cblxuXHRcdH07XG5cblx0XHQvL1xuXHRcdC8vIGludGVybmFsc1xuXHRcdC8vXG5cblx0XHR2YXIgc2NvcGUgPSB0aGlzO1xuXG5cdFx0dmFyIGNoYW5nZUV2ZW50ID0geyB0eXBlOiAnY2hhbmdlJyB9O1xuXHRcdHZhciBzdGFydEV2ZW50ID0geyB0eXBlOiAnc3RhcnQnIH07XG5cdFx0dmFyIGVuZEV2ZW50ID0geyB0eXBlOiAnZW5kJyB9O1xuXG5cdFx0dmFyIFNUQVRFID0geyBOT05FIDogLSAxLCBST1RBVEUgOiAwLCBET0xMWSA6IDEsIFBBTiA6IDIsIFRPVUNIX1JPVEFURSA6IDMsIFRPVUNIX0RPTExZIDogNCwgVE9VQ0hfUEFOIDogNSB9O1xuXG5cdFx0dmFyIHN0YXRlID0gU1RBVEUuTk9ORTtcblxuXHRcdHZhciBFUFMgPSAwLjAwMDAwMTtcblxuXHRcdC8vIGN1cnJlbnQgcG9zaXRpb24gaW4gc3BoZXJpY2FsIGNvb3JkaW5hdGVzXG5cdFx0dmFyIHNwaGVyaWNhbCA9IG5ldyBUSFJFRS5TcGhlcmljYWwoKTtcblx0XHR2YXIgc3BoZXJpY2FsRGVsdGEgPSBuZXcgVEhSRUUuU3BoZXJpY2FsKCk7XG5cblx0XHR2YXIgc2NhbGUgPSAxO1xuXHRcdHZhciBwYW5PZmZzZXQgPSBuZXcgVEhSRUUuVmVjdG9yMygpO1xuXHRcdHZhciB6b29tQ2hhbmdlZCA9IGZhbHNlO1xuXG5cdFx0dmFyIHJvdGF0ZVN0YXJ0ID0gbmV3IFRIUkVFLlZlY3RvcjIoKTtcblx0XHR2YXIgcm90YXRlRW5kID0gbmV3IFRIUkVFLlZlY3RvcjIoKTtcblx0XHR2YXIgcm90YXRlRGVsdGEgPSBuZXcgVEhSRUUuVmVjdG9yMigpO1xuXG5cdFx0dmFyIHBhblN0YXJ0ID0gbmV3IFRIUkVFLlZlY3RvcjIoKTtcblx0XHR2YXIgcGFuRW5kID0gbmV3IFRIUkVFLlZlY3RvcjIoKTtcblx0XHR2YXIgcGFuRGVsdGEgPSBuZXcgVEhSRUUuVmVjdG9yMigpO1xuXG5cdFx0dmFyIGRvbGx5U3RhcnQgPSBuZXcgVEhSRUUuVmVjdG9yMigpO1xuXHRcdHZhciBkb2xseUVuZCA9IG5ldyBUSFJFRS5WZWN0b3IyKCk7XG5cdFx0dmFyIGRvbGx5RGVsdGEgPSBuZXcgVEhSRUUuVmVjdG9yMigpO1xuXG5cdFx0ZnVuY3Rpb24gZ2V0QXV0b1JvdGF0aW9uQW5nbGUoKSB7XG5cblx0XHRcdHJldHVybiAyICogTWF0aC5QSSAvIDYwIC8gNjAgKiBzY29wZS5hdXRvUm90YXRlU3BlZWQ7XG5cblx0XHR9XG5cblx0XHRmdW5jdGlvbiBnZXRab29tU2NhbGUoKSB7XG5cblx0XHRcdHJldHVybiBNYXRoLnBvdyggMC45NSwgc2NvcGUuem9vbVNwZWVkICk7XG5cblx0XHR9XG5cblx0XHRmdW5jdGlvbiByb3RhdGVMZWZ0KCBhbmdsZSApIHtcblxuXHRcdFx0c3BoZXJpY2FsRGVsdGEudGhldGEgLT0gYW5nbGU7XG5cblx0XHR9XG5cblx0XHRmdW5jdGlvbiByb3RhdGVVcCggYW5nbGUgKSB7XG5cblx0XHRcdHNwaGVyaWNhbERlbHRhLnBoaSAtPSBhbmdsZTtcblxuXHRcdH1cblxuXHRcdHZhciBwYW5MZWZ0ID0gZnVuY3Rpb24oKSB7XG5cblx0XHRcdHZhciB2ID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcblxuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uIHBhbkxlZnQoIGRpc3RhbmNlLCBvYmplY3RNYXRyaXggKSB7XG5cblx0XHRcdFx0di5zZXRGcm9tTWF0cml4Q29sdW1uKCBvYmplY3RNYXRyaXgsIDAgKTsgLy8gZ2V0IFggY29sdW1uIG9mIG9iamVjdE1hdHJpeFxuXHRcdFx0XHR2Lm11bHRpcGx5U2NhbGFyKCAtIGRpc3RhbmNlICk7XG5cblx0XHRcdFx0cGFuT2Zmc2V0LmFkZCggdiApO1xuXG5cdFx0XHR9O1xuXG5cdFx0fSgpO1xuXG5cdFx0dmFyIHBhblVwID0gZnVuY3Rpb24oKSB7XG5cblx0XHRcdHZhciB2ID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcblxuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uIHBhblVwKCBkaXN0YW5jZSwgb2JqZWN0TWF0cml4ICkge1xuXG5cdFx0XHRcdHYuc2V0RnJvbU1hdHJpeENvbHVtbiggb2JqZWN0TWF0cml4LCAxICk7IC8vIGdldCBZIGNvbHVtbiBvZiBvYmplY3RNYXRyaXhcblx0XHRcdFx0di5tdWx0aXBseVNjYWxhciggZGlzdGFuY2UgKTtcblxuXHRcdFx0XHRwYW5PZmZzZXQuYWRkKCB2ICk7XG5cblx0XHRcdH07XG5cblx0XHR9KCk7XG5cblx0XHQvLyBkZWx0YVggYW5kIGRlbHRhWSBhcmUgaW4gcGl4ZWxzOyByaWdodCBhbmQgZG93biBhcmUgcG9zaXRpdmVcblx0XHR2YXIgcGFuID0gZnVuY3Rpb24oKSB7XG5cblx0XHRcdHZhciBvZmZzZXQgPSBuZXcgVEhSRUUuVmVjdG9yMygpO1xuXG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24gcGFuICggZGVsdGFYLCBkZWx0YVkgKSB7XG5cblx0XHRcdFx0dmFyIGVsZW1lbnQgPSBzY29wZS5kb21FbGVtZW50ID09PSBkb2N1bWVudCA/IHNjb3BlLmRvbUVsZW1lbnQuYm9keSA6IHNjb3BlLmRvbUVsZW1lbnQ7XG5cblx0XHRcdFx0aWYgKCBzY29wZS5vYmplY3QgaW5zdGFuY2VvZiBUSFJFRS5QZXJzcGVjdGl2ZUNhbWVyYSApIHtcblxuXHRcdFx0XHRcdC8vIHBlcnNwZWN0aXZlXG5cdFx0XHRcdFx0dmFyIHBvc2l0aW9uID0gc2NvcGUub2JqZWN0LnBvc2l0aW9uO1xuXHRcdFx0XHRcdG9mZnNldC5jb3B5KCBwb3NpdGlvbiApLnN1Yiggc2NvcGUudGFyZ2V0ICk7XG5cdFx0XHRcdFx0dmFyIHRhcmdldERpc3RhbmNlID0gb2Zmc2V0Lmxlbmd0aCgpO1xuXG5cdFx0XHRcdFx0Ly8gaGFsZiBvZiB0aGUgZm92IGlzIGNlbnRlciB0byB0b3Agb2Ygc2NyZWVuXG5cdFx0XHRcdFx0dGFyZ2V0RGlzdGFuY2UgKj0gTWF0aC50YW4oICggc2NvcGUub2JqZWN0LmZvdiAvIDIgKSAqIE1hdGguUEkgLyAxODAuMCApO1xuXG5cdFx0XHRcdFx0Ly8gd2UgYWN0dWFsbHkgZG9uJ3QgdXNlIHNjcmVlbldpZHRoLCBzaW5jZSBwZXJzcGVjdGl2ZSBjYW1lcmEgaXMgZml4ZWQgdG8gc2NyZWVuIGhlaWdodFxuXHRcdFx0XHRcdHBhbkxlZnQoIDIgKiBkZWx0YVggKiB0YXJnZXREaXN0YW5jZSAvIGVsZW1lbnQuY2xpZW50SGVpZ2h0LCBzY29wZS5vYmplY3QubWF0cml4ICk7XG5cdFx0XHRcdFx0cGFuVXAoIDIgKiBkZWx0YVkgKiB0YXJnZXREaXN0YW5jZSAvIGVsZW1lbnQuY2xpZW50SGVpZ2h0LCBzY29wZS5vYmplY3QubWF0cml4ICk7XG5cblx0XHRcdFx0fSBlbHNlIGlmICggc2NvcGUub2JqZWN0IGluc3RhbmNlb2YgVEhSRUUuT3J0aG9ncmFwaGljQ2FtZXJhICkge1xuXG5cdFx0XHRcdFx0Ly8gb3J0aG9ncmFwaGljXG5cdFx0XHRcdFx0cGFuTGVmdCggZGVsdGFYICogKCBzY29wZS5vYmplY3QucmlnaHQgLSBzY29wZS5vYmplY3QubGVmdCApIC8gc2NvcGUub2JqZWN0Lnpvb20gLyBlbGVtZW50LmNsaWVudFdpZHRoLCBzY29wZS5vYmplY3QubWF0cml4ICk7XG5cdFx0XHRcdFx0cGFuVXAoIGRlbHRhWSAqICggc2NvcGUub2JqZWN0LnRvcCAtIHNjb3BlLm9iamVjdC5ib3R0b20gKSAvIHNjb3BlLm9iamVjdC56b29tIC8gZWxlbWVudC5jbGllbnRIZWlnaHQsIHNjb3BlLm9iamVjdC5tYXRyaXggKTtcblxuXHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0Ly8gY2FtZXJhIG5laXRoZXIgb3J0aG9ncmFwaGljIG5vciBwZXJzcGVjdGl2ZVxuXHRcdFx0XHRcdGNvbnNvbGUud2FybiggJ1dBUk5JTkc6IE9yYml0Q29udHJvbHMuanMgZW5jb3VudGVyZWQgYW4gdW5rbm93biBjYW1lcmEgdHlwZSAtIHBhbiBkaXNhYmxlZC4nICk7XG5cdFx0XHRcdFx0c2NvcGUuZW5hYmxlUGFuID0gZmFsc2U7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHR9O1xuXG5cdFx0fSgpO1xuXG5cdFx0ZnVuY3Rpb24gZG9sbHlJbiggZG9sbHlTY2FsZSApIHtcblxuXHRcdFx0aWYgKCBzY29wZS5vYmplY3QgaW5zdGFuY2VvZiBUSFJFRS5QZXJzcGVjdGl2ZUNhbWVyYSApIHtcblxuXHRcdFx0XHRzY2FsZSAvPSBkb2xseVNjYWxlO1xuXG5cdFx0XHR9IGVsc2UgaWYgKCBzY29wZS5vYmplY3QgaW5zdGFuY2VvZiBUSFJFRS5PcnRob2dyYXBoaWNDYW1lcmEgKSB7XG5cblx0XHRcdFx0c2NvcGUub2JqZWN0Lnpvb20gPSBNYXRoLm1heCggc2NvcGUubWluWm9vbSwgTWF0aC5taW4oIHNjb3BlLm1heFpvb20sIHNjb3BlLm9iamVjdC56b29tICogZG9sbHlTY2FsZSApICk7XG5cdFx0XHRcdHNjb3BlLm9iamVjdC51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG5cdFx0XHRcdHpvb21DaGFuZ2VkID0gdHJ1ZTtcblxuXHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRjb25zb2xlLndhcm4oICdXQVJOSU5HOiBPcmJpdENvbnRyb2xzLmpzIGVuY291bnRlcmVkIGFuIHVua25vd24gY2FtZXJhIHR5cGUgLSBkb2xseS96b29tIGRpc2FibGVkLicgKTtcblx0XHRcdFx0c2NvcGUuZW5hYmxlWm9vbSA9IGZhbHNlO1xuXG5cdFx0XHR9XG5cblx0XHR9XG5cblx0XHRmdW5jdGlvbiBkb2xseU91dCggZG9sbHlTY2FsZSApIHtcblxuXHRcdFx0aWYgKCBzY29wZS5vYmplY3QgaW5zdGFuY2VvZiBUSFJFRS5QZXJzcGVjdGl2ZUNhbWVyYSApIHtcblxuXHRcdFx0XHRzY2FsZSAqPSBkb2xseVNjYWxlO1xuXG5cdFx0XHR9IGVsc2UgaWYgKCBzY29wZS5vYmplY3QgaW5zdGFuY2VvZiBUSFJFRS5PcnRob2dyYXBoaWNDYW1lcmEgKSB7XG5cblx0XHRcdFx0c2NvcGUub2JqZWN0Lnpvb20gPSBNYXRoLm1heCggc2NvcGUubWluWm9vbSwgTWF0aC5taW4oIHNjb3BlLm1heFpvb20sIHNjb3BlLm9iamVjdC56b29tIC8gZG9sbHlTY2FsZSApICk7XG5cdFx0XHRcdHNjb3BlLm9iamVjdC51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG5cdFx0XHRcdHpvb21DaGFuZ2VkID0gdHJ1ZTtcblxuXHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRjb25zb2xlLndhcm4oICdXQVJOSU5HOiBPcmJpdENvbnRyb2xzLmpzIGVuY291bnRlcmVkIGFuIHVua25vd24gY2FtZXJhIHR5cGUgLSBkb2xseS96b29tIGRpc2FibGVkLicgKTtcblx0XHRcdFx0c2NvcGUuZW5hYmxlWm9vbSA9IGZhbHNlO1xuXG5cdFx0XHR9XG5cblx0XHR9XG5cblx0XHQvL1xuXHRcdC8vIGV2ZW50IGNhbGxiYWNrcyAtIHVwZGF0ZSB0aGUgb2JqZWN0IHN0YXRlXG5cdFx0Ly9cblxuXHRcdGZ1bmN0aW9uIGhhbmRsZU1vdXNlRG93blJvdGF0ZSggZXZlbnQgKSB7XG5cblx0XHRcdC8vY29uc29sZS5sb2coICdoYW5kbGVNb3VzZURvd25Sb3RhdGUnICk7XG5cblx0XHRcdHJvdGF0ZVN0YXJ0LnNldCggZXZlbnQuY2xpZW50WCwgZXZlbnQuY2xpZW50WSApO1xuXG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gaGFuZGxlTW91c2VEb3duRG9sbHkoIGV2ZW50ICkge1xuXG5cdFx0XHQvL2NvbnNvbGUubG9nKCAnaGFuZGxlTW91c2VEb3duRG9sbHknICk7XG5cblx0XHRcdGRvbGx5U3RhcnQuc2V0KCBldmVudC5jbGllbnRYLCBldmVudC5jbGllbnRZICk7XG5cblx0XHR9XG5cblx0XHRmdW5jdGlvbiBoYW5kbGVNb3VzZURvd25QYW4oIGV2ZW50ICkge1xuXG5cdFx0XHQvL2NvbnNvbGUubG9nKCAnaGFuZGxlTW91c2VEb3duUGFuJyApO1xuXG5cdFx0XHRwYW5TdGFydC5zZXQoIGV2ZW50LmNsaWVudFgsIGV2ZW50LmNsaWVudFkgKTtcblxuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIGhhbmRsZU1vdXNlTW92ZVJvdGF0ZSggZXZlbnQgKSB7XG5cblx0XHRcdC8vY29uc29sZS5sb2coICdoYW5kbGVNb3VzZU1vdmVSb3RhdGUnICk7XG5cblx0XHRcdHJvdGF0ZUVuZC5zZXQoIGV2ZW50LmNsaWVudFgsIGV2ZW50LmNsaWVudFkgKTtcblx0XHRcdHJvdGF0ZURlbHRhLnN1YlZlY3RvcnMoIHJvdGF0ZUVuZCwgcm90YXRlU3RhcnQgKTtcblxuXHRcdFx0dmFyIGVsZW1lbnQgPSBzY29wZS5kb21FbGVtZW50ID09PSBkb2N1bWVudCA/IHNjb3BlLmRvbUVsZW1lbnQuYm9keSA6IHNjb3BlLmRvbUVsZW1lbnQ7XG5cblx0XHRcdC8vIHJvdGF0aW5nIGFjcm9zcyB3aG9sZSBzY3JlZW4gZ29lcyAzNjAgZGVncmVlcyBhcm91bmRcblx0XHRcdHJvdGF0ZUxlZnQoIDIgKiBNYXRoLlBJICogcm90YXRlRGVsdGEueCAvIGVsZW1lbnQuY2xpZW50V2lkdGggKiBzY29wZS5yb3RhdGVTcGVlZCApO1xuXG5cdFx0XHQvLyByb3RhdGluZyB1cCBhbmQgZG93biBhbG9uZyB3aG9sZSBzY3JlZW4gYXR0ZW1wdHMgdG8gZ28gMzYwLCBidXQgbGltaXRlZCB0byAxODBcblx0XHRcdHJvdGF0ZVVwKCAyICogTWF0aC5QSSAqIHJvdGF0ZURlbHRhLnkgLyBlbGVtZW50LmNsaWVudEhlaWdodCAqIHNjb3BlLnJvdGF0ZVNwZWVkICk7XG5cblx0XHRcdHJvdGF0ZVN0YXJ0LmNvcHkoIHJvdGF0ZUVuZCApO1xuXG5cdFx0XHRzY29wZS51cGRhdGUoKTtcblxuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIGhhbmRsZU1vdXNlTW92ZURvbGx5KCBldmVudCApIHtcblxuXHRcdFx0Ly9jb25zb2xlLmxvZyggJ2hhbmRsZU1vdXNlTW92ZURvbGx5JyApO1xuXG5cdFx0XHRkb2xseUVuZC5zZXQoIGV2ZW50LmNsaWVudFgsIGV2ZW50LmNsaWVudFkgKTtcblxuXHRcdFx0ZG9sbHlEZWx0YS5zdWJWZWN0b3JzKCBkb2xseUVuZCwgZG9sbHlTdGFydCApO1xuXG5cdFx0XHRpZiAoIGRvbGx5RGVsdGEueSA+IDAgKSB7XG5cblx0XHRcdFx0ZG9sbHlJbiggZ2V0Wm9vbVNjYWxlKCkgKTtcblxuXHRcdFx0fSBlbHNlIGlmICggZG9sbHlEZWx0YS55IDwgMCApIHtcblxuXHRcdFx0XHRkb2xseU91dCggZ2V0Wm9vbVNjYWxlKCkgKTtcblxuXHRcdFx0fVxuXG5cdFx0XHRkb2xseVN0YXJ0LmNvcHkoIGRvbGx5RW5kICk7XG5cblx0XHRcdHNjb3BlLnVwZGF0ZSgpO1xuXG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gaGFuZGxlTW91c2VNb3ZlUGFuKCBldmVudCApIHtcblxuXHRcdFx0Ly9jb25zb2xlLmxvZyggJ2hhbmRsZU1vdXNlTW92ZVBhbicgKTtcblxuXHRcdFx0cGFuRW5kLnNldCggZXZlbnQuY2xpZW50WCwgZXZlbnQuY2xpZW50WSApO1xuXG5cdFx0XHRwYW5EZWx0YS5zdWJWZWN0b3JzKCBwYW5FbmQsIHBhblN0YXJ0ICk7XG5cblx0XHRcdHBhbiggcGFuRGVsdGEueCwgcGFuRGVsdGEueSApO1xuXG5cdFx0XHRwYW5TdGFydC5jb3B5KCBwYW5FbmQgKTtcblxuXHRcdFx0c2NvcGUudXBkYXRlKCk7XG5cblx0XHR9XG5cblx0XHRmdW5jdGlvbiBoYW5kbGVNb3VzZVVwKCBldmVudCApIHtcblxuXHRcdFx0Ly9jb25zb2xlLmxvZyggJ2hhbmRsZU1vdXNlVXAnICk7XG5cblx0XHR9XG5cblx0XHRmdW5jdGlvbiBoYW5kbGVNb3VzZVdoZWVsKCBldmVudCApIHtcblxuXHRcdFx0Ly9jb25zb2xlLmxvZyggJ2hhbmRsZU1vdXNlV2hlZWwnICk7XG5cblx0XHRcdGlmICggZXZlbnQuZGVsdGFZIDwgMCApIHtcblxuXHRcdFx0XHRkb2xseU91dCggZ2V0Wm9vbVNjYWxlKCkgKTtcblxuXHRcdFx0fSBlbHNlIGlmICggZXZlbnQuZGVsdGFZID4gMCApIHtcblxuXHRcdFx0XHRkb2xseUluKCBnZXRab29tU2NhbGUoKSApO1xuXG5cdFx0XHR9XG5cblx0XHRcdHNjb3BlLnVwZGF0ZSgpO1xuXG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gaGFuZGxlS2V5RG93biggZXZlbnQgKSB7XG5cblx0XHRcdC8vY29uc29sZS5sb2coICdoYW5kbGVLZXlEb3duJyApO1xuXG5cdFx0XHRzd2l0Y2ggKCBldmVudC5rZXlDb2RlICkge1xuXG5cdFx0XHRcdGNhc2Ugc2NvcGUua2V5cy5VUDpcblx0XHRcdFx0XHRwYW4oIDAsIHNjb3BlLmtleVBhblNwZWVkICk7XG5cdFx0XHRcdFx0c2NvcGUudXBkYXRlKCk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSBzY29wZS5rZXlzLkJPVFRPTTpcblx0XHRcdFx0XHRwYW4oIDAsIC0gc2NvcGUua2V5UGFuU3BlZWQgKTtcblx0XHRcdFx0XHRzY29wZS51cGRhdGUoKTtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIHNjb3BlLmtleXMuTEVGVDpcblx0XHRcdFx0XHRwYW4oIHNjb3BlLmtleVBhblNwZWVkLCAwICk7XG5cdFx0XHRcdFx0c2NvcGUudXBkYXRlKCk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSBzY29wZS5rZXlzLlJJR0hUOlxuXHRcdFx0XHRcdHBhbiggLSBzY29wZS5rZXlQYW5TcGVlZCwgMCApO1xuXHRcdFx0XHRcdHNjb3BlLnVwZGF0ZSgpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHR9XG5cblx0XHR9XG5cblx0XHRmdW5jdGlvbiBoYW5kbGVUb3VjaFN0YXJ0Um90YXRlKCBldmVudCApIHtcblxuXHRcdFx0Ly9jb25zb2xlLmxvZyggJ2hhbmRsZVRvdWNoU3RhcnRSb3RhdGUnICk7XG5cblx0XHRcdHJvdGF0ZVN0YXJ0LnNldCggZXZlbnQudG91Y2hlc1sgMCBdLnBhZ2VYLCBldmVudC50b3VjaGVzWyAwIF0ucGFnZVkgKTtcblxuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIGhhbmRsZVRvdWNoU3RhcnREb2xseSggZXZlbnQgKSB7XG5cblx0XHRcdC8vY29uc29sZS5sb2coICdoYW5kbGVUb3VjaFN0YXJ0RG9sbHknICk7XG5cblx0XHRcdHZhciBkeCA9IGV2ZW50LnRvdWNoZXNbIDAgXS5wYWdlWCAtIGV2ZW50LnRvdWNoZXNbIDEgXS5wYWdlWDtcblx0XHRcdHZhciBkeSA9IGV2ZW50LnRvdWNoZXNbIDAgXS5wYWdlWSAtIGV2ZW50LnRvdWNoZXNbIDEgXS5wYWdlWTtcblxuXHRcdFx0dmFyIGRpc3RhbmNlID0gTWF0aC5zcXJ0KCBkeCAqIGR4ICsgZHkgKiBkeSApO1xuXG5cdFx0XHRkb2xseVN0YXJ0LnNldCggMCwgZGlzdGFuY2UgKTtcblxuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIGhhbmRsZVRvdWNoU3RhcnRQYW4oIGV2ZW50ICkge1xuXG5cdFx0XHQvL2NvbnNvbGUubG9nKCAnaGFuZGxlVG91Y2hTdGFydFBhbicgKTtcblxuXHRcdFx0cGFuU3RhcnQuc2V0KCBldmVudC50b3VjaGVzWyAwIF0ucGFnZVgsIGV2ZW50LnRvdWNoZXNbIDAgXS5wYWdlWSApO1xuXG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gaGFuZGxlVG91Y2hNb3ZlUm90YXRlKCBldmVudCApIHtcblxuXHRcdFx0Ly9jb25zb2xlLmxvZyggJ2hhbmRsZVRvdWNoTW92ZVJvdGF0ZScgKTtcblxuXHRcdFx0cm90YXRlRW5kLnNldCggZXZlbnQudG91Y2hlc1sgMCBdLnBhZ2VYLCBldmVudC50b3VjaGVzWyAwIF0ucGFnZVkgKTtcblx0XHRcdHJvdGF0ZURlbHRhLnN1YlZlY3RvcnMoIHJvdGF0ZUVuZCwgcm90YXRlU3RhcnQgKTtcblxuXHRcdFx0dmFyIGVsZW1lbnQgPSBzY29wZS5kb21FbGVtZW50ID09PSBkb2N1bWVudCA/IHNjb3BlLmRvbUVsZW1lbnQuYm9keSA6IHNjb3BlLmRvbUVsZW1lbnQ7XG5cblx0XHRcdC8vIHJvdGF0aW5nIGFjcm9zcyB3aG9sZSBzY3JlZW4gZ29lcyAzNjAgZGVncmVlcyBhcm91bmRcblx0XHRcdHJvdGF0ZUxlZnQoIDIgKiBNYXRoLlBJICogcm90YXRlRGVsdGEueCAvIGVsZW1lbnQuY2xpZW50V2lkdGggKiBzY29wZS5yb3RhdGVTcGVlZCApO1xuXG5cdFx0XHQvLyByb3RhdGluZyB1cCBhbmQgZG93biBhbG9uZyB3aG9sZSBzY3JlZW4gYXR0ZW1wdHMgdG8gZ28gMzYwLCBidXQgbGltaXRlZCB0byAxODBcblx0XHRcdHJvdGF0ZVVwKCAyICogTWF0aC5QSSAqIHJvdGF0ZURlbHRhLnkgLyBlbGVtZW50LmNsaWVudEhlaWdodCAqIHNjb3BlLnJvdGF0ZVNwZWVkICk7XG5cblx0XHRcdHJvdGF0ZVN0YXJ0LmNvcHkoIHJvdGF0ZUVuZCApO1xuXG5cdFx0XHRzY29wZS51cGRhdGUoKTtcblxuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIGhhbmRsZVRvdWNoTW92ZURvbGx5KCBldmVudCApIHtcblxuXHRcdFx0Ly9jb25zb2xlLmxvZyggJ2hhbmRsZVRvdWNoTW92ZURvbGx5JyApO1xuXG5cdFx0XHR2YXIgZHggPSBldmVudC50b3VjaGVzWyAwIF0ucGFnZVggLSBldmVudC50b3VjaGVzWyAxIF0ucGFnZVg7XG5cdFx0XHR2YXIgZHkgPSBldmVudC50b3VjaGVzWyAwIF0ucGFnZVkgLSBldmVudC50b3VjaGVzWyAxIF0ucGFnZVk7XG5cblx0XHRcdHZhciBkaXN0YW5jZSA9IE1hdGguc3FydCggZHggKiBkeCArIGR5ICogZHkgKTtcblxuXHRcdFx0ZG9sbHlFbmQuc2V0KCAwLCBkaXN0YW5jZSApO1xuXG5cdFx0XHRkb2xseURlbHRhLnN1YlZlY3RvcnMoIGRvbGx5RW5kLCBkb2xseVN0YXJ0ICk7XG5cblx0XHRcdGlmICggZG9sbHlEZWx0YS55ID4gMCApIHtcblxuXHRcdFx0XHRkb2xseU91dCggZ2V0Wm9vbVNjYWxlKCkgKTtcblxuXHRcdFx0fSBlbHNlIGlmICggZG9sbHlEZWx0YS55IDwgMCApIHtcblxuXHRcdFx0XHRkb2xseUluKCBnZXRab29tU2NhbGUoKSApO1xuXG5cdFx0XHR9XG5cblx0XHRcdGRvbGx5U3RhcnQuY29weSggZG9sbHlFbmQgKTtcblxuXHRcdFx0c2NvcGUudXBkYXRlKCk7XG5cblx0XHR9XG5cblx0XHRmdW5jdGlvbiBoYW5kbGVUb3VjaE1vdmVQYW4oIGV2ZW50ICkge1xuXG5cdFx0XHQvL2NvbnNvbGUubG9nKCAnaGFuZGxlVG91Y2hNb3ZlUGFuJyApO1xuXG5cdFx0XHRwYW5FbmQuc2V0KCBldmVudC50b3VjaGVzWyAwIF0ucGFnZVgsIGV2ZW50LnRvdWNoZXNbIDAgXS5wYWdlWSApO1xuXG5cdFx0XHRwYW5EZWx0YS5zdWJWZWN0b3JzKCBwYW5FbmQsIHBhblN0YXJ0ICk7XG5cblx0XHRcdHBhbiggcGFuRGVsdGEueCwgcGFuRGVsdGEueSApO1xuXG5cdFx0XHRwYW5TdGFydC5jb3B5KCBwYW5FbmQgKTtcblxuXHRcdFx0c2NvcGUudXBkYXRlKCk7XG5cblx0XHR9XG5cblx0XHRmdW5jdGlvbiBoYW5kbGVUb3VjaEVuZCggZXZlbnQgKSB7XG5cblx0XHRcdC8vY29uc29sZS5sb2coICdoYW5kbGVUb3VjaEVuZCcgKTtcblxuXHRcdH1cblxuXHRcdC8vXG5cdFx0Ly8gZXZlbnQgaGFuZGxlcnMgLSBGU006IGxpc3RlbiBmb3IgZXZlbnRzIGFuZCByZXNldCBzdGF0ZVxuXHRcdC8vXG5cblx0XHRmdW5jdGlvbiBvbk1vdXNlRG93biggZXZlbnQgKSB7XG5cblx0XHRcdGlmICggc2NvcGUuZW5hYmxlZCA9PT0gZmFsc2UgKSByZXR1cm47XG5cblx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRcdGlmICggZXZlbnQuYnV0dG9uID09PSBzY29wZS5tb3VzZUJ1dHRvbnMuT1JCSVQgKSB7XG5cblx0XHRcdFx0aWYgKCBzY29wZS5lbmFibGVSb3RhdGUgPT09IGZhbHNlICkgcmV0dXJuO1xuXG5cdFx0XHRcdGhhbmRsZU1vdXNlRG93blJvdGF0ZSggZXZlbnQgKTtcblxuXHRcdFx0XHRzdGF0ZSA9IFNUQVRFLlJPVEFURTtcblxuXHRcdFx0fSBlbHNlIGlmICggZXZlbnQuYnV0dG9uID09PSBzY29wZS5tb3VzZUJ1dHRvbnMuWk9PTSApIHtcblxuXHRcdFx0XHRpZiAoIHNjb3BlLmVuYWJsZVpvb20gPT09IGZhbHNlICkgcmV0dXJuO1xuXG5cdFx0XHRcdGhhbmRsZU1vdXNlRG93bkRvbGx5KCBldmVudCApO1xuXG5cdFx0XHRcdHN0YXRlID0gU1RBVEUuRE9MTFk7XG5cblx0XHRcdH0gZWxzZSBpZiAoIGV2ZW50LmJ1dHRvbiA9PT0gc2NvcGUubW91c2VCdXR0b25zLlBBTiApIHtcblxuXHRcdFx0XHRpZiAoIHNjb3BlLmVuYWJsZVBhbiA9PT0gZmFsc2UgKSByZXR1cm47XG5cblx0XHRcdFx0aGFuZGxlTW91c2VEb3duUGFuKCBldmVudCApO1xuXG5cdFx0XHRcdHN0YXRlID0gU1RBVEUuUEFOO1xuXG5cdFx0XHR9XG5cblx0XHRcdGlmICggc3RhdGUgIT09IFNUQVRFLk5PTkUgKSB7XG5cblx0XHRcdFx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggJ21vdXNlbW92ZScsIG9uTW91c2VNb3ZlLCBmYWxzZSApO1xuXHRcdFx0XHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCAnbW91c2V1cCcsIG9uTW91c2VVcCwgZmFsc2UgKTtcblxuXHRcdFx0XHRzY29wZS5kaXNwYXRjaEV2ZW50KCBzdGFydEV2ZW50ICk7XG5cblx0XHRcdH1cblxuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIG9uTW91c2VNb3ZlKCBldmVudCApIHtcblxuXHRcdFx0aWYgKCBzY29wZS5lbmFibGVkID09PSBmYWxzZSApIHJldHVybjtcblxuXHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuXHRcdFx0aWYgKCBzdGF0ZSA9PT0gU1RBVEUuUk9UQVRFICkge1xuXG5cdFx0XHRcdGlmICggc2NvcGUuZW5hYmxlUm90YXRlID09PSBmYWxzZSApIHJldHVybjtcblxuXHRcdFx0XHRoYW5kbGVNb3VzZU1vdmVSb3RhdGUoIGV2ZW50ICk7XG5cblx0XHRcdH0gZWxzZSBpZiAoIHN0YXRlID09PSBTVEFURS5ET0xMWSApIHtcblxuXHRcdFx0XHRpZiAoIHNjb3BlLmVuYWJsZVpvb20gPT09IGZhbHNlICkgcmV0dXJuO1xuXG5cdFx0XHRcdGhhbmRsZU1vdXNlTW92ZURvbGx5KCBldmVudCApO1xuXG5cdFx0XHR9IGVsc2UgaWYgKCBzdGF0ZSA9PT0gU1RBVEUuUEFOICkge1xuXG5cdFx0XHRcdGlmICggc2NvcGUuZW5hYmxlUGFuID09PSBmYWxzZSApIHJldHVybjtcblxuXHRcdFx0XHRoYW5kbGVNb3VzZU1vdmVQYW4oIGV2ZW50ICk7XG5cblx0XHRcdH1cblxuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIG9uTW91c2VVcCggZXZlbnQgKSB7XG5cblx0XHRcdGlmICggc2NvcGUuZW5hYmxlZCA9PT0gZmFsc2UgKSByZXR1cm47XG5cblx0XHRcdGhhbmRsZU1vdXNlVXAoIGV2ZW50ICk7XG5cblx0XHRcdGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoICdtb3VzZW1vdmUnLCBvbk1vdXNlTW92ZSwgZmFsc2UgKTtcblx0XHRcdGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoICdtb3VzZXVwJywgb25Nb3VzZVVwLCBmYWxzZSApO1xuXG5cdFx0XHRzY29wZS5kaXNwYXRjaEV2ZW50KCBlbmRFdmVudCApO1xuXG5cdFx0XHRzdGF0ZSA9IFNUQVRFLk5PTkU7XG5cblx0XHR9XG5cblx0XHRmdW5jdGlvbiBvbk1vdXNlV2hlZWwoIGV2ZW50ICkge1xuXG5cdFx0XHRpZiAoIHNjb3BlLmVuYWJsZWQgPT09IGZhbHNlIHx8IHNjb3BlLmVuYWJsZVpvb20gPT09IGZhbHNlIHx8ICggc3RhdGUgIT09IFNUQVRFLk5PTkUgJiYgc3RhdGUgIT09IFNUQVRFLlJPVEFURSApICkgcmV0dXJuO1xuXG5cdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cblx0XHRcdGhhbmRsZU1vdXNlV2hlZWwoIGV2ZW50ICk7XG5cblx0XHRcdHNjb3BlLmRpc3BhdGNoRXZlbnQoIHN0YXJ0RXZlbnQgKTsgLy8gbm90IHN1cmUgd2h5IHRoZXNlIGFyZSBoZXJlLi4uXG5cdFx0XHRzY29wZS5kaXNwYXRjaEV2ZW50KCBlbmRFdmVudCApO1xuXG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gb25LZXlEb3duKCBldmVudCApIHtcblxuXHRcdFx0aWYgKCBzY29wZS5lbmFibGVkID09PSBmYWxzZSB8fCBzY29wZS5lbmFibGVLZXlzID09PSBmYWxzZSB8fCBzY29wZS5lbmFibGVQYW4gPT09IGZhbHNlICkgcmV0dXJuO1xuXG5cdFx0XHRoYW5kbGVLZXlEb3duKCBldmVudCApO1xuXG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gb25Ub3VjaFN0YXJ0KCBldmVudCApIHtcblxuXHRcdFx0aWYgKCBzY29wZS5lbmFibGVkID09PSBmYWxzZSApIHJldHVybjtcblxuXHRcdFx0c3dpdGNoICggZXZlbnQudG91Y2hlcy5sZW5ndGggKSB7XG5cblx0XHRcdFx0Y2FzZSAxOlx0Ly8gb25lLWZpbmdlcmVkIHRvdWNoOiByb3RhdGVcblxuXHRcdFx0XHRcdGlmICggc2NvcGUuZW5hYmxlUm90YXRlID09PSBmYWxzZSApIHJldHVybjtcblxuXHRcdFx0XHRcdGhhbmRsZVRvdWNoU3RhcnRSb3RhdGUoIGV2ZW50ICk7XG5cblx0XHRcdFx0XHRzdGF0ZSA9IFNUQVRFLlRPVUNIX1JPVEFURTtcblxuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgMjpcdC8vIHR3by1maW5nZXJlZCB0b3VjaDogZG9sbHlcblxuXHRcdFx0XHRcdGlmICggc2NvcGUuZW5hYmxlWm9vbSA9PT0gZmFsc2UgKSByZXR1cm47XG5cblx0XHRcdFx0XHRoYW5kbGVUb3VjaFN0YXJ0RG9sbHkoIGV2ZW50ICk7XG5cblx0XHRcdFx0XHRzdGF0ZSA9IFNUQVRFLlRPVUNIX0RPTExZO1xuXG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAzOiAvLyB0aHJlZS1maW5nZXJlZCB0b3VjaDogcGFuXG5cblx0XHRcdFx0XHRpZiAoIHNjb3BlLmVuYWJsZVBhbiA9PT0gZmFsc2UgKSByZXR1cm47XG5cblx0XHRcdFx0XHRoYW5kbGVUb3VjaFN0YXJ0UGFuKCBldmVudCApO1xuXG5cdFx0XHRcdFx0c3RhdGUgPSBTVEFURS5UT1VDSF9QQU47XG5cblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRkZWZhdWx0OlxuXG5cdFx0XHRcdFx0c3RhdGUgPSBTVEFURS5OT05FO1xuXG5cdFx0XHR9XG5cblx0XHRcdGlmICggc3RhdGUgIT09IFNUQVRFLk5PTkUgKSB7XG5cblx0XHRcdFx0c2NvcGUuZGlzcGF0Y2hFdmVudCggc3RhcnRFdmVudCApO1xuXG5cdFx0XHR9XG5cblx0XHR9XG5cblx0XHRmdW5jdGlvbiBvblRvdWNoTW92ZSggZXZlbnQgKSB7XG5cblx0XHRcdGlmICggc2NvcGUuZW5hYmxlZCA9PT0gZmFsc2UgKSByZXR1cm47XG5cblx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblxuXHRcdFx0c3dpdGNoICggZXZlbnQudG91Y2hlcy5sZW5ndGggKSB7XG5cblx0XHRcdFx0Y2FzZSAxOiAvLyBvbmUtZmluZ2VyZWQgdG91Y2g6IHJvdGF0ZVxuXG5cdFx0XHRcdFx0aWYgKCBzY29wZS5lbmFibGVSb3RhdGUgPT09IGZhbHNlICkgcmV0dXJuO1xuXHRcdFx0XHRcdGlmICggc3RhdGUgIT09IFNUQVRFLlRPVUNIX1JPVEFURSApIHJldHVybjsgLy8gaXMgdGhpcyBuZWVkZWQ/Li4uXG5cblx0XHRcdFx0XHRoYW5kbGVUb3VjaE1vdmVSb3RhdGUoIGV2ZW50ICk7XG5cblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDI6IC8vIHR3by1maW5nZXJlZCB0b3VjaDogZG9sbHlcblxuXHRcdFx0XHRcdGlmICggc2NvcGUuZW5hYmxlWm9vbSA9PT0gZmFsc2UgKSByZXR1cm47XG5cdFx0XHRcdFx0aWYgKCBzdGF0ZSAhPT0gU1RBVEUuVE9VQ0hfRE9MTFkgKSByZXR1cm47IC8vIGlzIHRoaXMgbmVlZGVkPy4uLlxuXG5cdFx0XHRcdFx0aGFuZGxlVG91Y2hNb3ZlRG9sbHkoIGV2ZW50ICk7XG5cblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDM6IC8vIHRocmVlLWZpbmdlcmVkIHRvdWNoOiBwYW5cblxuXHRcdFx0XHRcdGlmICggc2NvcGUuZW5hYmxlUGFuID09PSBmYWxzZSApIHJldHVybjtcblx0XHRcdFx0XHRpZiAoIHN0YXRlICE9PSBTVEFURS5UT1VDSF9QQU4gKSByZXR1cm47IC8vIGlzIHRoaXMgbmVlZGVkPy4uLlxuXG5cdFx0XHRcdFx0aGFuZGxlVG91Y2hNb3ZlUGFuKCBldmVudCApO1xuXG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0ZGVmYXVsdDpcblxuXHRcdFx0XHRcdHN0YXRlID0gU1RBVEUuTk9ORTtcblxuXHRcdFx0fVxuXG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gb25Ub3VjaEVuZCggZXZlbnQgKSB7XG5cblx0XHRcdGlmICggc2NvcGUuZW5hYmxlZCA9PT0gZmFsc2UgKSByZXR1cm47XG5cblx0XHRcdGhhbmRsZVRvdWNoRW5kKCBldmVudCApO1xuXG5cdFx0XHRzY29wZS5kaXNwYXRjaEV2ZW50KCBlbmRFdmVudCApO1xuXG5cdFx0XHRzdGF0ZSA9IFNUQVRFLk5PTkU7XG5cblx0XHR9XG5cblx0XHRmdW5jdGlvbiBvbkNvbnRleHRNZW51KCBldmVudCApIHtcblxuXHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuXHRcdH1cblxuXHRcdC8vXG5cblx0XHRzY29wZS5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoICdjb250ZXh0bWVudScsIG9uQ29udGV4dE1lbnUsIGZhbHNlICk7XG5cblx0XHRzY29wZS5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoICdtb3VzZWRvd24nLCBvbk1vdXNlRG93biwgZmFsc2UgKTtcblx0XHRzY29wZS5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoICd3aGVlbCcsIG9uTW91c2VXaGVlbCwgZmFsc2UgKTtcblxuXHRcdHNjb3BlLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggJ3RvdWNoc3RhcnQnLCBvblRvdWNoU3RhcnQsIGZhbHNlICk7XG5cdFx0c2NvcGUuZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCAndG91Y2hlbmQnLCBvblRvdWNoRW5kLCBmYWxzZSApO1xuXHRcdHNjb3BlLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggJ3RvdWNobW92ZScsIG9uVG91Y2hNb3ZlLCBmYWxzZSApO1xuXG5cdFx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoICdrZXlkb3duJywgb25LZXlEb3duLCBmYWxzZSApO1xuXG5cdFx0Ly8gZm9yY2UgYW4gdXBkYXRlIGF0IHN0YXJ0XG5cblx0XHR0aGlzLnVwZGF0ZSgpO1xuXG5cdH07XG5cblx0T3JiaXRDb250cm9scy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBUSFJFRS5FdmVudERpc3BhdGNoZXIucHJvdG90eXBlICk7XG5cdE9yYml0Q29udHJvbHMucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gT3JiaXRDb250cm9scztcblxuXHRPYmplY3QuZGVmaW5lUHJvcGVydGllcyggT3JiaXRDb250cm9scy5wcm90b3R5cGUsIHtcblxuXHRcdGNlbnRlcjoge1xuXG5cdFx0XHRnZXQ6IGZ1bmN0aW9uICgpIHtcblxuXHRcdFx0XHRjb25zb2xlLndhcm4oICdUSFJFRS5PcmJpdENvbnRyb2xzOiAuY2VudGVyIGhhcyBiZWVuIHJlbmFtZWQgdG8gLnRhcmdldCcgKTtcblx0XHRcdFx0cmV0dXJuIHRoaXMudGFyZ2V0O1xuXG5cdFx0XHR9XG5cblx0XHR9LFxuXG5cdFx0Ly8gYmFja3dhcmQgY29tcGF0aWJpbGl0eVxuXG5cdFx0bm9ab29tOiB7XG5cblx0XHRcdGdldDogZnVuY3Rpb24gKCkge1xuXG5cdFx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLk9yYml0Q29udHJvbHM6IC5ub1pvb20gaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIC5lbmFibGVab29tIGluc3RlYWQuJyApO1xuXHRcdFx0XHRyZXR1cm4gISB0aGlzLmVuYWJsZVpvb207XG5cblx0XHRcdH0sXG5cblx0XHRcdHNldDogZnVuY3Rpb24gKCB2YWx1ZSApIHtcblxuXHRcdFx0XHRjb25zb2xlLndhcm4oICdUSFJFRS5PcmJpdENvbnRyb2xzOiAubm9ab29tIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSAuZW5hYmxlWm9vbSBpbnN0ZWFkLicgKTtcblx0XHRcdFx0dGhpcy5lbmFibGVab29tID0gISB2YWx1ZTtcblxuXHRcdFx0fVxuXG5cdFx0fSxcblxuXHRcdG5vUm90YXRlOiB7XG5cblx0XHRcdGdldDogZnVuY3Rpb24gKCkge1xuXG5cdFx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLk9yYml0Q29udHJvbHM6IC5ub1JvdGF0ZSBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgLmVuYWJsZVJvdGF0ZSBpbnN0ZWFkLicgKTtcblx0XHRcdFx0cmV0dXJuICEgdGhpcy5lbmFibGVSb3RhdGU7XG5cblx0XHRcdH0sXG5cblx0XHRcdHNldDogZnVuY3Rpb24gKCB2YWx1ZSApIHtcblxuXHRcdFx0XHRjb25zb2xlLndhcm4oICdUSFJFRS5PcmJpdENvbnRyb2xzOiAubm9Sb3RhdGUgaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIC5lbmFibGVSb3RhdGUgaW5zdGVhZC4nICk7XG5cdFx0XHRcdHRoaXMuZW5hYmxlUm90YXRlID0gISB2YWx1ZTtcblxuXHRcdFx0fVxuXG5cdFx0fSxcblxuXHRcdG5vUGFuOiB7XG5cblx0XHRcdGdldDogZnVuY3Rpb24gKCkge1xuXG5cdFx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLk9yYml0Q29udHJvbHM6IC5ub1BhbiBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgLmVuYWJsZVBhbiBpbnN0ZWFkLicgKTtcblx0XHRcdFx0cmV0dXJuICEgdGhpcy5lbmFibGVQYW47XG5cblx0XHRcdH0sXG5cblx0XHRcdHNldDogZnVuY3Rpb24gKCB2YWx1ZSApIHtcblxuXHRcdFx0XHRjb25zb2xlLndhcm4oICdUSFJFRS5PcmJpdENvbnRyb2xzOiAubm9QYW4gaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIC5lbmFibGVQYW4gaW5zdGVhZC4nICk7XG5cdFx0XHRcdHRoaXMuZW5hYmxlUGFuID0gISB2YWx1ZTtcblxuXHRcdFx0fVxuXG5cdFx0fSxcblxuXHRcdG5vS2V5czoge1xuXG5cdFx0XHRnZXQ6IGZ1bmN0aW9uICgpIHtcblxuXHRcdFx0XHRjb25zb2xlLndhcm4oICdUSFJFRS5PcmJpdENvbnRyb2xzOiAubm9LZXlzIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSAuZW5hYmxlS2V5cyBpbnN0ZWFkLicgKTtcblx0XHRcdFx0cmV0dXJuICEgdGhpcy5lbmFibGVLZXlzO1xuXG5cdFx0XHR9LFxuXG5cdFx0XHRzZXQ6IGZ1bmN0aW9uICggdmFsdWUgKSB7XG5cblx0XHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuT3JiaXRDb250cm9sczogLm5vS2V5cyBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgLmVuYWJsZUtleXMgaW5zdGVhZC4nICk7XG5cdFx0XHRcdHRoaXMuZW5hYmxlS2V5cyA9ICEgdmFsdWU7XG5cblx0XHRcdH1cblxuXHRcdH0sXG5cblx0XHRzdGF0aWNNb3ZpbmcgOiB7XG5cblx0XHRcdGdldDogZnVuY3Rpb24gKCkge1xuXG5cdFx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLk9yYml0Q29udHJvbHM6IC5zdGF0aWNNb3ZpbmcgaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIC5lbmFibGVEYW1waW5nIGluc3RlYWQuJyApO1xuXHRcdFx0XHRyZXR1cm4gISB0aGlzLmVuYWJsZURhbXBpbmc7XG5cblx0XHRcdH0sXG5cblx0XHRcdHNldDogZnVuY3Rpb24gKCB2YWx1ZSApIHtcblxuXHRcdFx0XHRjb25zb2xlLndhcm4oICdUSFJFRS5PcmJpdENvbnRyb2xzOiAuc3RhdGljTW92aW5nIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSAuZW5hYmxlRGFtcGluZyBpbnN0ZWFkLicgKTtcblx0XHRcdFx0dGhpcy5lbmFibGVEYW1waW5nID0gISB2YWx1ZTtcblxuXHRcdFx0fVxuXG5cdFx0fSxcblxuXHRcdGR5bmFtaWNEYW1waW5nRmFjdG9yIDoge1xuXG5cdFx0XHRnZXQ6IGZ1bmN0aW9uICgpIHtcblxuXHRcdFx0XHRjb25zb2xlLndhcm4oICdUSFJFRS5PcmJpdENvbnRyb2xzOiAuZHluYW1pY0RhbXBpbmdGYWN0b3IgaGFzIGJlZW4gcmVuYW1lZC4gVXNlIC5kYW1waW5nRmFjdG9yIGluc3RlYWQuJyApO1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5kYW1waW5nRmFjdG9yO1xuXG5cdFx0XHR9LFxuXG5cdFx0XHRzZXQ6IGZ1bmN0aW9uICggdmFsdWUgKSB7XG5cblx0XHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuT3JiaXRDb250cm9sczogLmR5bmFtaWNEYW1waW5nRmFjdG9yIGhhcyBiZWVuIHJlbmFtZWQuIFVzZSAuZGFtcGluZ0ZhY3RvciBpbnN0ZWFkLicgKTtcblx0XHRcdFx0dGhpcy5kYW1waW5nRmFjdG9yID0gdmFsdWU7XG5cblx0XHRcdH1cblxuXHRcdH1cblxuXHR9ICk7XG5cblx0cmV0dXJuIE9yYml0Q29udHJvbHM7XG59O1xuXG59LHt9XSwxODpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cbmV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHRyaW07XG5cbmZ1bmN0aW9uIHRyaW0oc3RyKXtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC9eXFxzKnxcXHMqJC9nLCAnJyk7XG59XG5cbmV4cG9ydHMubGVmdCA9IGZ1bmN0aW9uKHN0cil7XG4gIHJldHVybiBzdHIucmVwbGFjZSgvXlxccyovLCAnJyk7XG59O1xuXG5leHBvcnRzLnJpZ2h0ID0gZnVuY3Rpb24oc3RyKXtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC9cXHMqJC8sICcnKTtcbn07XG5cbn0se31dLDE5OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbnZhciBBdWRpb0NvbnRleHQgPSB3aW5kb3cuQXVkaW9Db250ZXh0IHx8IHdpbmRvdy53ZWJraXRBdWRpb0NvbnRleHRcblxubW9kdWxlLmV4cG9ydHMgPSBXZWJBdWRpb0FuYWx5c2VyXG5cbmZ1bmN0aW9uIFdlYkF1ZGlvQW5hbHlzZXIoYXVkaW8sIGN0eCwgb3B0cykge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgV2ViQXVkaW9BbmFseXNlcikpIHJldHVybiBuZXcgV2ViQXVkaW9BbmFseXNlcihhdWRpbywgY3R4LCBvcHRzKVxuICBpZiAoIShjdHggaW5zdGFuY2VvZiBBdWRpb0NvbnRleHQpKSAob3B0cyA9IGN0eCksIChjdHggPSBudWxsKVxuXG4gIG9wdHMgPSBvcHRzIHx8IHt9XG4gIHRoaXMuY3R4ID0gY3R4ID0gY3R4IHx8IG5ldyBBdWRpb0NvbnRleHRcblxuICBpZiAoIShhdWRpbyBpbnN0YW5jZW9mIEF1ZGlvTm9kZSkpIHtcbiAgICBhdWRpbyA9IChhdWRpbyBpbnN0YW5jZW9mIEF1ZGlvIHx8IGF1ZGlvIGluc3RhbmNlb2YgSFRNTEF1ZGlvRWxlbWVudClcbiAgICAgID8gY3R4LmNyZWF0ZU1lZGlhRWxlbWVudFNvdXJjZShhdWRpbylcbiAgICAgIDogY3R4LmNyZWF0ZU1lZGlhU3RyZWFtU291cmNlKGF1ZGlvKVxuICB9XG5cbiAgdGhpcy5hbmFseXNlciA9IGN0eC5jcmVhdGVBbmFseXNlcigpXG4gIHRoaXMuc3RlcmVvICAgPSAhIW9wdHMuc3RlcmVvXG4gIHRoaXMuYXVkaWJsZSAgPSBvcHRzLmF1ZGlibGUgIT09IGZhbHNlXG4gIHRoaXMud2F2ZWRhdGEgPSBudWxsXG4gIHRoaXMuZnJlcWRhdGEgPSBudWxsXG4gIHRoaXMuc3BsaXR0ZXIgPSBudWxsXG4gIHRoaXMubWVyZ2VyICAgPSBudWxsXG4gIHRoaXMuc291cmNlICAgPSBhdWRpb1xuXG4gIGlmICghdGhpcy5zdGVyZW8pIHtcbiAgICB0aGlzLm91dHB1dCA9IHRoaXMuc291cmNlXG4gICAgdGhpcy5zb3VyY2UuY29ubmVjdCh0aGlzLmFuYWx5c2VyKVxuICAgIGlmICh0aGlzLmF1ZGlibGUpXG4gICAgICB0aGlzLmFuYWx5c2VyLmNvbm5lY3QoY3R4LmRlc3RpbmF0aW9uKVxuICB9IGVsc2Uge1xuICAgIHRoaXMuYW5hbHlzZXIgPSBbdGhpcy5hbmFseXNlcl1cbiAgICB0aGlzLmFuYWx5c2VyLnB1c2goY3R4LmNyZWF0ZUFuYWx5c2VyKCkpXG5cbiAgICB0aGlzLnNwbGl0dGVyID0gY3R4LmNyZWF0ZUNoYW5uZWxTcGxpdHRlcigyKVxuICAgIHRoaXMubWVyZ2VyICAgPSBjdHguY3JlYXRlQ2hhbm5lbE1lcmdlcigyKVxuICAgIHRoaXMub3V0cHV0ICAgPSB0aGlzLm1lcmdlclxuXG4gICAgdGhpcy5zb3VyY2UuY29ubmVjdCh0aGlzLnNwbGl0dGVyKVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCAyOyBpKyspIHtcbiAgICAgIHRoaXMuc3BsaXR0ZXIuY29ubmVjdCh0aGlzLmFuYWx5c2VyW2ldLCBpLCAwKVxuICAgICAgdGhpcy5hbmFseXNlcltpXS5jb25uZWN0KHRoaXMubWVyZ2VyLCAwLCBpKVxuICAgIH1cblxuICAgIGlmICh0aGlzLmF1ZGlibGUpXG4gICAgICB0aGlzLm1lcmdlci5jb25uZWN0KGN0eC5kZXN0aW5hdGlvbilcbiAgfVxufVxuXG5XZWJBdWRpb0FuYWx5c2VyLnByb3RvdHlwZS53YXZlZm9ybSA9IGZ1bmN0aW9uKG91dHB1dCwgY2hhbm5lbCkge1xuICBpZiAoIW91dHB1dCkgb3V0cHV0ID0gdGhpcy53YXZlZGF0YSB8fCAoXG4gICAgdGhpcy53YXZlZGF0YSA9IG5ldyBVaW50OEFycmF5KCh0aGlzLmFuYWx5c2VyWzBdIHx8IHRoaXMuYW5hbHlzZXIpLmZyZXF1ZW5jeUJpbkNvdW50KVxuICApXG5cbiAgdmFyIGFuYWx5c2VyID0gdGhpcy5zdGVyZW9cbiAgICA/IHRoaXMuYW5hbHlzZXJbY2hhbm5lbCB8fCAwXVxuICAgIDogdGhpcy5hbmFseXNlclxuXG4gIGFuYWx5c2VyLmdldEJ5dGVUaW1lRG9tYWluRGF0YShvdXRwdXQpXG5cbiAgcmV0dXJuIG91dHB1dFxufVxuXG5XZWJBdWRpb0FuYWx5c2VyLnByb3RvdHlwZS5mcmVxdWVuY2llcyA9IGZ1bmN0aW9uKG91dHB1dCwgY2hhbm5lbCkge1xuICBpZiAoIW91dHB1dCkgb3V0cHV0ID0gdGhpcy5mcmVxZGF0YSB8fCAoXG4gICAgdGhpcy5mcmVxZGF0YSA9IG5ldyBVaW50OEFycmF5KCh0aGlzLmFuYWx5c2VyWzBdIHx8IHRoaXMuYW5hbHlzZXIpLmZyZXF1ZW5jeUJpbkNvdW50KVxuICApXG5cbiAgdmFyIGFuYWx5c2VyID0gdGhpcy5zdGVyZW9cbiAgICA/IHRoaXMuYW5hbHlzZXJbY2hhbm5lbCB8fCAwXVxuICAgIDogdGhpcy5hbmFseXNlclxuXG4gIGFuYWx5c2VyLmdldEJ5dGVGcmVxdWVuY3lEYXRhKG91dHB1dClcblxuICByZXR1cm4gb3V0cHV0XG59XG5cbn0se31dLDIwOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbnZhciBidWZmZXIgPSByZXF1aXJlKCcuL2xpYi9idWZmZXItc291cmNlJylcbnZhciBtZWRpYSA9IHJlcXVpcmUoJy4vbGliL21lZGlhLXNvdXJjZScpXG5cbm1vZHVsZS5leHBvcnRzID0gd2ViQXVkaW9QbGF5ZXJcbmZ1bmN0aW9uIHdlYkF1ZGlvUGxheWVyIChzcmMsIG9wdCkge1xuICBpZiAoIXNyYykgdGhyb3cgbmV3IFR5cGVFcnJvcignbXVzdCBzcGVjaWZ5IGEgc3JjIHBhcmFtZXRlcicpXG4gIG9wdCA9IG9wdCB8fCB7fVxuICBpZiAob3B0LmJ1ZmZlcikgcmV0dXJuIGJ1ZmZlcihzcmMsIG9wdClcbiAgZWxzZSByZXR1cm4gbWVkaWEoc3JjLCBvcHQpXG59XG5cbn0se1wiLi9saWIvYnVmZmVyLXNvdXJjZVwiOjIyLFwiLi9saWIvbWVkaWEtc291cmNlXCI6MjV9XSwyMTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5tb2R1bGUuZXhwb3J0cyA9IGNyZWF0ZUF1ZGlvQ29udGV4dFxuZnVuY3Rpb24gY3JlYXRlQXVkaW9Db250ZXh0ICgpIHtcbiAgdmFyIEF1ZGlvQ3RvciA9IHdpbmRvdy5BdWRpb0NvbnRleHQgfHwgd2luZG93LndlYmtpdEF1ZGlvQ29udGV4dFxuICByZXR1cm4gbmV3IEF1ZGlvQ3RvcigpXG59XG5cbn0se31dLDIyOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbihmdW5jdGlvbiAocHJvY2Vzcyl7XG52YXIgY2FuUGxheVNyYyA9IHJlcXVpcmUoJy4vY2FuLXBsYXktc3JjJylcbnZhciBjcmVhdGVBdWRpb0NvbnRleHQgPSByZXF1aXJlKCcuL2F1ZGlvLWNvbnRleHQnKVxudmFyIHhockF1ZGlvID0gcmVxdWlyZSgnLi94aHItYXVkaW8nKVxudmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50cycpLkV2ZW50RW1pdHRlclxudmFyIHJpZ2h0Tm93ID0gcmVxdWlyZSgncmlnaHQtbm93JylcbnZhciByZXN1bWUgPSByZXF1aXJlKCcuL3Jlc3VtZS1jb250ZXh0JylcblxubW9kdWxlLmV4cG9ydHMgPSBjcmVhdGVCdWZmZXJTb3VyY2VcbmZ1bmN0aW9uIGNyZWF0ZUJ1ZmZlclNvdXJjZSAoc3JjLCBvcHQpIHtcbiAgb3B0ID0gb3B0IHx8IHt9XG4gIHZhciBlbWl0dGVyID0gbmV3IEV2ZW50RW1pdHRlcigpXG4gIHZhciBhdWRpb0NvbnRleHQgPSBvcHQuY29udGV4dCB8fCBjcmVhdGVBdWRpb0NvbnRleHQoKVxuXG4gIC8vIGEgcGFzcy10aHJvdWdoIG5vZGUgc28gdXNlciBqdXN0IG5lZWRzIHRvXG4gIC8vIGNvbm5lY3QoKSBvbmNlXG4gIHZhciBidWZmZXJOb2RlLCBidWZmZXIsIGR1cmF0aW9uXG4gIHZhciBub2RlID0gYXVkaW9Db250ZXh0LmNyZWF0ZUdhaW4oKVxuICB2YXIgYXVkaW9TdGFydFRpbWUgPSBudWxsXG4gIHZhciBhdWRpb1BhdXNlVGltZSA9IG51bGxcbiAgdmFyIGF1ZGlvQ3VycmVudFRpbWUgPSAwXG4gIHZhciBwbGF5aW5nID0gZmFsc2VcbiAgdmFyIGxvb3AgPSBvcHQubG9vcFxuXG4gIGVtaXR0ZXIucGxheSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAocGxheWluZykgcmV0dXJuXG4gICAgcGxheWluZyA9IHRydWVcblxuICAgIGlmIChvcHQuYXV0b1Jlc3VtZSAhPT0gZmFsc2UpIHJlc3VtZShlbWl0dGVyLmNvbnRleHQpXG4gICAgZGlzcG9zZUJ1ZmZlcigpXG4gICAgYnVmZmVyTm9kZSA9IGF1ZGlvQ29udGV4dC5jcmVhdGVCdWZmZXJTb3VyY2UoKVxuICAgIGJ1ZmZlck5vZGUuY29ubmVjdChlbWl0dGVyLm5vZGUpXG4gICAgYnVmZmVyTm9kZS5vbmVuZGVkID0gZW5kZWRcbiAgICBpZiAoYnVmZmVyKSB7XG4gICAgICAvLyBNaWdodCBiZSBudWxsIHVuZGVmaW5lZCBpZiB3ZSBhcmUgc3RpbGwgbG9hZGluZ1xuICAgICAgYnVmZmVyTm9kZS5idWZmZXIgPSBidWZmZXJcbiAgICB9XG4gICAgaWYgKGxvb3ApIHtcbiAgICAgIGJ1ZmZlck5vZGUubG9vcCA9IHRydWVcbiAgICAgIGlmICh0eXBlb2Ygb3B0Lmxvb3BTdGFydCA9PT0gJ251bWJlcicpIGJ1ZmZlck5vZGUubG9vcFN0YXJ0ID0gb3B0Lmxvb3BTdGFydFxuICAgICAgaWYgKHR5cGVvZiBvcHQubG9vcEVuZCA9PT0gJ251bWJlcicpIGJ1ZmZlck5vZGUubG9vcEVuZCA9IG9wdC5sb29wRW5kXG4gICAgfVxuXG4gICAgaWYgKGR1cmF0aW9uICYmIGF1ZGlvQ3VycmVudFRpbWUgPiBkdXJhdGlvbikge1xuICAgICAgLy8gZm9yIHdoZW4gaXQgbG9vcHMuLi5cbiAgICAgIGF1ZGlvQ3VycmVudFRpbWUgPSBhdWRpb0N1cnJlbnRUaW1lICUgZHVyYXRpb25cbiAgICB9XG4gICAgdmFyIG5leHRUaW1lID0gYXVkaW9DdXJyZW50VGltZVxuXG4gICAgYnVmZmVyTm9kZS5zdGFydCgwLCBuZXh0VGltZSlcbiAgICBhdWRpb1N0YXJ0VGltZSA9IHJpZ2h0Tm93KClcbiAgfVxuXG4gIGVtaXR0ZXIucGF1c2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCFwbGF5aW5nKSByZXR1cm5cbiAgICBwbGF5aW5nID0gZmFsc2VcbiAgICAvLyBEb24ndCBsZXQgdGhlIFwiZW5kXCIgZXZlbnRcbiAgICAvLyBnZXQgdHJpZ2dlcmVkIG9uIG1hbnVhbCBwYXVzZS5cbiAgICBidWZmZXJOb2RlLm9uZW5kZWQgPSBudWxsXG4gICAgYnVmZmVyTm9kZS5zdG9wKDApXG4gICAgYXVkaW9QYXVzZVRpbWUgPSByaWdodE5vdygpXG4gICAgYXVkaW9DdXJyZW50VGltZSArPSAoYXVkaW9QYXVzZVRpbWUgLSBhdWRpb1N0YXJ0VGltZSkgLyAxMDAwXG4gIH1cblxuICBlbWl0dGVyLnN0b3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgZW1pdHRlci5wYXVzZSgpXG4gICAgZW5kZWQoKVxuICB9XG5cbiAgZW1pdHRlci5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xuICAgIGRpc3Bvc2VCdWZmZXIoKVxuICAgIGJ1ZmZlciA9IG51bGxcbiAgfVxuXG4gIGVtaXR0ZXIubm9kZSA9IG5vZGVcbiAgZW1pdHRlci5jb250ZXh0ID0gYXVkaW9Db250ZXh0XG5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZW1pdHRlciwge1xuICAgIGR1cmF0aW9uOiB7XG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGR1cmF0aW9uXG4gICAgICB9XG4gICAgfSxcbiAgICBwbGF5aW5nOiB7XG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHBsYXlpbmdcbiAgICAgIH1cbiAgICB9LFxuICAgIGJ1ZmZlcjoge1xuICAgICAgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBidWZmZXJcbiAgICAgIH1cbiAgICB9LFxuICAgIHZvbHVtZToge1xuICAgICAgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBub2RlLmdhaW4udmFsdWVcbiAgICAgIH0sXG4gICAgICBzZXQ6IGZ1bmN0aW9uIChuKSB7XG4gICAgICAgIG5vZGUuZ2Fpbi52YWx1ZSA9IG5cbiAgICAgIH1cbiAgICB9XG4gIH0pXG5cbiAgLy8gc2V0IGluaXRpYWwgdm9sdW1lXG4gIGlmICh0eXBlb2Ygb3B0LnZvbHVtZSA9PT0gJ251bWJlcicpIHtcbiAgICBlbWl0dGVyLnZvbHVtZSA9IG9wdC52b2x1bWVcbiAgfVxuXG4gIC8vIGZpbHRlciBkb3duIHRvIGEgbGlzdCBvZiBwbGF5YWJsZSBzb3VyY2VzXG4gIHZhciBzb3VyY2VzID0gQXJyYXkuaXNBcnJheShzcmMpID8gc3JjIDogWyBzcmMgXVxuICBzb3VyY2VzID0gc291cmNlcy5maWx0ZXIoQm9vbGVhbilcbiAgdmFyIHBsYXlhYmxlID0gc291cmNlcy5zb21lKGNhblBsYXlTcmMpXG4gIGlmIChwbGF5YWJsZSkge1xuICAgIHZhciBzb3VyY2UgPSBzb3VyY2VzLmZpbHRlcihjYW5QbGF5U3JjKVswXVxuICAgIC8vIFN1cHBvcnQgdGhlIHNhbWUgc291cmNlIHR5cGVzIGFzIGluXG4gICAgLy8gTWVkaWFFbGVtZW50IG1vZGUuLi5cbiAgICBpZiAodHlwZW9mIHNvdXJjZS5nZXRBdHRyaWJ1dGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHNvdXJjZSA9IHNvdXJjZS5nZXRBdHRyaWJ1dGUoJ3NyYycpXG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygc291cmNlLnNyYyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHNvdXJjZSA9IHNvdXJjZS5zcmNcbiAgICB9XG4gICAgLy8gV2UgaGF2ZSBhdCBsZWFzdCBvbmUgcGxheWFibGUgc291cmNlLlxuICAgIC8vIEZvciBub3cganVzdCBwbGF5IHRoZSBmaXJzdCxcbiAgICAvLyBpZGVhbGx5IHRoaXMgbW9kdWxlIGNvdWxkIGF0dGVtcHQgZWFjaCBvbmUuXG4gICAgc3RhcnRMb2FkKHNvdXJjZSlcbiAgfSBlbHNlIHtcbiAgICAvLyBubyBzb3VyY2VzIGNhbiBiZSBwbGF5ZWQuLi5cbiAgICBwcm9jZXNzLm5leHRUaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgIGVtaXR0ZXIuZW1pdCgnZXJyb3InLCBjYW5QbGF5U3JjLmNyZWF0ZUVycm9yKHNvdXJjZXMpKVxuICAgIH0pXG4gIH1cbiAgcmV0dXJuIGVtaXR0ZXJcblxuICBmdW5jdGlvbiBzdGFydExvYWQgKHNyYykge1xuICAgIHhockF1ZGlvKGF1ZGlvQ29udGV4dCwgc3JjLCBmdW5jdGlvbiBhdWRpb0RlY29kZWQgKGVyciwgZGVjb2RlZCkge1xuICAgICAgaWYgKGVycikgcmV0dXJuIGVtaXR0ZXIuZW1pdCgnZXJyb3InLCBlcnIpXG4gICAgICBidWZmZXIgPSBkZWNvZGVkIC8vIHN0b3JlIGZvciBsYXRlciB1c2VcbiAgICAgIGlmIChidWZmZXJOb2RlKSB7XG4gICAgICAgIC8vIGlmIHBsYXkoKSB3YXMgY2FsbGVkIGVhcmx5XG4gICAgICAgIGJ1ZmZlck5vZGUuYnVmZmVyID0gYnVmZmVyXG4gICAgICB9XG4gICAgICBkdXJhdGlvbiA9IGJ1ZmZlci5kdXJhdGlvblxuICAgICAgbm9kZS5idWZmZXIgPSBidWZmZXJcbiAgICAgIGVtaXR0ZXIuZW1pdCgnbG9hZCcpXG4gICAgfSwgZnVuY3Rpb24gYXVkaW9Qcm9ncmVzcyAoYW1vdW50LCB0b3RhbCkge1xuICAgICAgZW1pdHRlci5lbWl0KCdwcm9ncmVzcycsIGFtb3VudCwgdG90YWwpXG4gICAgfSwgZnVuY3Rpb24gYXVkaW9EZWNvZGluZyAoKSB7XG4gICAgICBlbWl0dGVyLmVtaXQoJ2RlY29kaW5nJylcbiAgICB9KVxuICB9XG5cbiAgZnVuY3Rpb24gZW5kZWQgKCkge1xuICAgIGVtaXR0ZXIuZW1pdCgnZW5kJylcbiAgICBwbGF5aW5nID0gZmFsc2VcbiAgICBhdWRpb0N1cnJlbnRUaW1lID0gMFxuICB9XG5cbiAgZnVuY3Rpb24gZGlzcG9zZUJ1ZmZlciAoKSB7XG4gICAgaWYgKGJ1ZmZlck5vZGUpIGJ1ZmZlck5vZGUuZGlzY29ubmVjdCgpXG4gIH1cbn1cblxufSkuY2FsbCh0aGlzLHJlcXVpcmUoJ19wcm9jZXNzJykpXG5cbn0se1wiLi9hdWRpby1jb250ZXh0XCI6MjEsXCIuL2Nhbi1wbGF5LXNyY1wiOjIzLFwiLi9yZXN1bWUtY29udGV4dFwiOjI2LFwiLi94aHItYXVkaW9cIjoyNyxcIl9wcm9jZXNzXCI6MTQsXCJldmVudHNcIjo2LFwicmlnaHQtbm93XCI6MTV9XSwyMzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG52YXIgbG9va3VwID0gcmVxdWlyZSgnYnJvd3Nlci1tZWRpYS1taW1lLXR5cGUnKVxudmFyIGF1ZGlvXG5cbm1vZHVsZS5leHBvcnRzID0gaXNTcmNQbGF5YWJsZVxuZnVuY3Rpb24gaXNTcmNQbGF5YWJsZSAoc3JjKSB7XG4gIGlmICghc3JjKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdzcmMgY2Fubm90IGJlIGVtcHR5JylcbiAgdmFyIHR5cGVcbiAgaWYgKHR5cGVvZiBzcmMuZ2V0QXR0cmlidXRlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgLy8gPHNvdXJjZT4gZWxlbWVudFxuICAgIHR5cGUgPSBzcmMuZ2V0QXR0cmlidXRlKCd0eXBlJylcbiAgfSBlbHNlIGlmICh0eXBlb2Ygc3JjID09PSAnc3RyaW5nJykge1xuICAgIC8vICdmb28ubXAzJyBzdHJpbmdcbiAgICB2YXIgZXh0ID0gZXh0ZW5zaW9uKHNyYylcbiAgICBpZiAoZXh0KSB0eXBlID0gbG9va3VwKGV4dClcbiAgfSBlbHNlIHtcbiAgICAvLyB7IHNyYzogJ2Zvby5tcDMnLCB0eXBlOiAnYXVkaW8vbXBlZzsgY29kZWNzLi4nfVxuICAgIHR5cGUgPSBzcmMudHlwZVxuICB9XG5cbiAgLy8gV2UgaGF2ZSBhbiB1bmtub3duIGZpbGUgZXh0ZW5zaW9uIG9yXG4gIC8vIGEgPHNvdXJjZT4gdGFnIHdpdGhvdXQgYW4gZXhwbGljaXQgdHlwZSxcbiAgLy8ganVzdCBsZXQgdGhlIGJyb3dzZXIgaGFuZGxlIGl0IVxuICBpZiAoIXR5cGUpIHJldHVybiB0cnVlXG5cbiAgLy8gaGFuZGxlIFwibm9cIiBlZGdlIGNhc2Ugd2l0aCBzdXBlciBsZWdhY3kgYnJvd3NlcnMuLi5cbiAgLy8gaHR0cHM6Ly9ncm91cHMuZ29vZ2xlLmNvbS9mb3J1bS8jIXRvcGljL2dvb2dsZS13ZWItdG9vbGtpdC1jb250cmlidXRvcnMvYThVeTBiWHExSG9cbiAgaWYgKCFhdWRpbykgYXVkaW8gPSBuZXcgd2luZG93LkF1ZGlvKClcbiAgdmFyIGNhbnBsYXkgPSBhdWRpby5jYW5QbGF5VHlwZSh0eXBlKS5yZXBsYWNlKC9uby8sICcnKVxuICByZXR1cm4gQm9vbGVhbihjYW5wbGF5KVxufVxuXG5tb2R1bGUuZXhwb3J0cy5jcmVhdGVFcnJvciA9IGNyZWF0ZUVycm9yXG5mdW5jdGlvbiBjcmVhdGVFcnJvciAoc291cmNlcykge1xuICAvLyBBbGwgc291cmNlcyBhcmUgdW5wbGF5YWJsZVxuICB2YXIgZXJyID0gbmV3IEVycm9yKCdUaGlzIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBhbnkgb2YgdGhlIGZvbGxvd2luZyBzb3VyY2VzOlxcbiAgICAnICtcbiAgICAgIHNvdXJjZXMuam9pbignLCAnKSArICdcXG4nICtcbiAgICAgICdUcnkgdXNpbmcgYW4gYXJyYXkgb2YgT0dHLCBNUDMgYW5kIFdBVi4nKVxuICBlcnIudHlwZSA9ICdBVURJT19GT1JNQVQnXG4gIHJldHVybiBlcnJcbn1cblxuZnVuY3Rpb24gZXh0ZW5zaW9uIChkYXRhKSB7XG4gIHZhciBleHRJZHggPSBkYXRhLmxhc3RJbmRleE9mKCcuJylcbiAgaWYgKGV4dElkeCA8PSAwIHx8IGV4dElkeCA9PT0gZGF0YS5sZW5ndGggLSAxKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZFxuICB9XG4gIHJldHVybiBkYXRhLnN1YnN0cmluZyhleHRJZHggKyAxKVxufVxuXG59LHtcImJyb3dzZXItbWVkaWEtbWltZS10eXBlXCI6M31dLDI0OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbm1vZHVsZS5leHBvcnRzID0gYWRkT25jZVxuZnVuY3Rpb24gYWRkT25jZSAoZWxlbWVudCwgZXZlbnQsIGZuKSB7XG4gIGZ1bmN0aW9uIHRtcCAoZXYpIHtcbiAgICBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIHRtcCwgZmFsc2UpXG4gICAgZm4oZXYsIGVsZW1lbnQpXG4gIH1cbiAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCB0bXAsIGZhbHNlKVxufVxufSx7fV0sMjU6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuKGZ1bmN0aW9uIChwcm9jZXNzKXtcbnZhciBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudHMnKS5FdmVudEVtaXR0ZXJcbnZhciBjcmVhdGVBdWRpbyA9IHJlcXVpcmUoJ3NpbXBsZS1tZWRpYS1lbGVtZW50JykuYXVkaW9cbnZhciBhc3NpZ24gPSByZXF1aXJlKCdvYmplY3QtYXNzaWduJylcblxudmFyIHJlc3VtZSA9IHJlcXVpcmUoJy4vcmVzdW1lLWNvbnRleHQnKVxudmFyIGNyZWF0ZUF1ZGlvQ29udGV4dCA9IHJlcXVpcmUoJy4vYXVkaW8tY29udGV4dCcpXG52YXIgY2FuUGxheVNyYyA9IHJlcXVpcmUoJy4vY2FuLXBsYXktc3JjJylcbnZhciBhZGRPbmNlID0gcmVxdWlyZSgnLi9ldmVudC1hZGQtb25jZScpXG5cbm1vZHVsZS5leHBvcnRzID0gY3JlYXRlTWVkaWFTb3VyY2VcbmZ1bmN0aW9uIGNyZWF0ZU1lZGlhU291cmNlIChzcmMsIG9wdCkge1xuICBvcHQgPSBhc3NpZ24oe30sIG9wdClcbiAgdmFyIGVtaXR0ZXIgPSBuZXcgRXZlbnRFbWl0dGVyKClcblxuICAvLyBEZWZhdWx0IHRvIEF1ZGlvIGluc3RlYWQgb2YgSFRNTEF1ZGlvRWxlbWVudFxuICAvLyBUaGVyZSBpcyBub3QgbXVjaCBkaWZmZXJlbmNlIGV4Y2VwdCBpbiB0aGUgZm9sbG93aW5nOlxuICAvLyAgICB4IGluc3RhbmNlb2YgQXVkaW9cbiAgLy8gICAgeCBpbnN0YW5jZW9mIEhUTUxBdWRpb0VsZW1lbnRcbiAgLy8gQW5kIGluIG15IGV4cGVyaWVuY2UgQXVkaW8gaGFzIGJldHRlciBzdXBwb3J0IG9uIHZhcmlvdXNcbiAgLy8gcGxhdGZvcm1zIGxpa2UgQ29jb29uSlMuXG4gIC8vIFBsZWFzZSBvcGVuIGFuIGlzc3VlIGlmIHRoZXJlIGlzIGEgY29uY2VybiB3aXRoIHRoaXMuXG4gIGlmICghb3B0LmVsZW1lbnQpIG9wdC5lbGVtZW50ID0gbmV3IHdpbmRvdy5BdWRpbygpXG5cbiAgdmFyIGRlc2lyZWRWb2x1bWUgPSBvcHQudm9sdW1lXG4gIGRlbGV0ZSBvcHQudm9sdW1lIC8vIG1ha2Ugc3VyZSA8YXVkaW8+IHRhZyByZWNlaXZlcyBmdWxsIHZvbHVtZVxuICB2YXIgYXVkaW8gPSBjcmVhdGVBdWRpbyhzcmMsIG9wdClcbiAgdmFyIGF1ZGlvQ29udGV4dCA9IG9wdC5jb250ZXh0IHx8IGNyZWF0ZUF1ZGlvQ29udGV4dCgpXG4gIHZhciBub2RlID0gYXVkaW9Db250ZXh0LmNyZWF0ZUdhaW4oKVxuICB2YXIgbWVkaWFOb2RlID0gYXVkaW9Db250ZXh0LmNyZWF0ZU1lZGlhRWxlbWVudFNvdXJjZShhdWRpbylcbiAgbWVkaWFOb2RlLmNvbm5lY3Qobm9kZSlcblxuICBhdWRpby5hZGRFdmVudExpc3RlbmVyKCdlbmRlZCcsIGZ1bmN0aW9uICgpIHtcbiAgICBlbWl0dGVyLmVtaXQoJ2VuZCcpXG4gIH0pXG4gIGF1ZGlvLmFkZEV2ZW50TGlzdGVuZXIoJ3BsYXknLCBmdW5jdGlvbiAoKSB7XG4gICAgY29uc29sZS5sb2coXCJQTEFZXCIpXG4gIH0pXG5cbiAgdmFyIGxvb3BTdGFydCA9IG9wdC5sb29wU3RhcnRcbiAgdmFyIGxvb3BFbmQgPSBvcHQubG9vcEVuZFxuICB2YXIgaGFzTG9vcFN0YXJ0ID0gdHlwZW9mIGxvb3BTdGFydCA9PT0gJ251bWJlcicgJiYgaXNGaW5pdGUobG9vcFN0YXJ0KVxuICB2YXIgaGFzTG9vcEVuZCA9IHR5cGVvZiBsb29wRW5kID09PSAnbnVtYmVyJyAmJiBpc0Zpbml0ZShsb29wRW5kKVxuICB2YXIgaXNMb29wUmVhZHkgPSBmYWxzZVxuICBpZiAoaGFzTG9vcFN0YXJ0IHx8IGhhc0xvb3BFbmQpIHtcbiAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uIHVwZGF0ZSAoKSB7XG4gICAgICAvLyBhdWRpbyBoYXNuJ3QgYmVlbiBsb2FkZWQgeWV0Li4uXG4gICAgICBpZiAodHlwZW9mIGF1ZGlvLmR1cmF0aW9uICE9PSAnbnVtYmVyJykgcmV0dXJuXG4gICAgICB2YXIgY3VycmVudFRpbWUgPSBhdWRpby5jdXJyZW50VGltZVxuXG4gICAgICAvLyB3aGVyZSB0byBlbmQgdGhlIGJ1ZmZlclxuICAgICAgdmFyIGVuZFRpbWUgPSBoYXNMb29wRW5kID8gTWF0aC5taW4oYXVkaW8uZHVyYXRpb24sIGxvb3BFbmQpIDogYXVkaW8uZHVyYXRpb25cblxuICAgICAgaWYgKGN1cnJlbnRUaW1lID4gKGxvb3BTdGFydCB8fCAwKSkge1xuICAgICAgICBpc0xvb3BSZWFkeSA9IHRydWVcbiAgICAgIH1cblxuICAgICAgLy8ganVtcCBhaGVhZCB0byBsb29wIHN0YXJ0IHBvaW50XG4gICAgICBpZiAoaGFzTG9vcFN0YXJ0ICYmIGlzTG9vcFJlYWR5ICYmIGN1cnJlbnRUaW1lIDwgbG9vcFN0YXJ0KSB7XG4gICAgICAgIGF1ZGlvLmN1cnJlbnRUaW1lID0gbG9vcFN0YXJ0XG4gICAgICB9XG5cbiAgICAgIC8vIGlmIHdlJ3ZlIGhpdCB0aGUgZW5kIG9mIHRoZSBidWZmZXJcbiAgICAgIGlmIChjdXJyZW50VGltZSA+PSBlbmRUaW1lKSB7XG4gICAgICAgIC8vIGlmIHRoZXJlIGlzIG5vIGxvb3AgZW5kIHBvaW50LCBsZXQgbmF0aXZlIGxvb3BpbmcgdGFrZSBvdmVyXG4gICAgICAgIC8vIGlmIHdlIGhhdmUgYSBsb29wIGVuZCBwb2ludCwganVtcCBiYWNrIHRvIHN0YXJ0IHBvaW50IG9yIHplcm9cbiAgICAgICAgaWYgKGhhc0xvb3BFbmQpIHtcbiAgICAgICAgICBhdWRpby5jdXJyZW50VGltZSA9IGhhc0xvb3BTdGFydCA/IGxvb3BTdGFydCA6IDBcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSh1cGRhdGUpXG4gICAgfSk7XG4gIH1cblxuICBlbWl0dGVyLmVsZW1lbnQgPSBhdWRpb1xuICBlbWl0dGVyLmNvbnRleHQgPSBhdWRpb0NvbnRleHRcbiAgZW1pdHRlci5ub2RlID0gbm9kZVxuICBlbWl0dGVyLnBhdXNlID0gYXVkaW8ucGF1c2UuYmluZChhdWRpbylcbiAgZW1pdHRlci5wbGF5ID0gZnVuY3Rpb24gKCkge1xuICAgIGlmIChvcHQuYXV0b1Jlc3VtZSAhPT0gZmFsc2UpIHJlc3VtZShlbWl0dGVyLmNvbnRleHQpXG4gICAgcmV0dXJuIGF1ZGlvLnBsYXkoKVxuICB9XG5cbiAgLy8gVGhpcyBleGlzdHMgY3VycmVudGx5IGZvciBwYXJpdHkgd2l0aCBCdWZmZXIgc291cmNlXG4gIC8vIE9wZW4gdG8gc3VnZ2VzdGlvbnMgZm9yIHdoYXQgdGhpcyBzaG91bGQgZGlzcG9zZS4uLlxuICBlbWl0dGVyLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7fVxuXG4gIGVtaXR0ZXIuc3RvcCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgd2FzUGxheWluZyA9IGVtaXR0ZXIucGxheWluZ1xuICAgIGF1ZGlvLnBhdXNlKClcbiAgICBhdWRpby5jdXJyZW50VGltZSA9IDBcbiAgICBpc0xvb3BSZWFkeSA9IGZhbHNlXG4gICAgaWYgKHdhc1BsYXlpbmcpIHtcbiAgICAgIGVtaXR0ZXIuZW1pdCgnZW5kJylcbiAgICB9XG4gIH1cblxuICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlbWl0dGVyLCB7XG4gICAgZHVyYXRpb246IHtcbiAgICAgIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gYXVkaW8uZHVyYXRpb25cbiAgICAgIH1cbiAgICB9LFxuICAgIGN1cnJlbnRUaW1lOiB7XG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGF1ZGlvLmN1cnJlbnRUaW1lXG4gICAgICB9XG4gICAgfSxcbiAgICBwbGF5aW5nOiB7XG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICFhdWRpby5wYXVzZWRcbiAgICAgIH1cbiAgICB9LFxuICAgIHZvbHVtZToge1xuICAgICAgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBub2RlLmdhaW4udmFsdWVcbiAgICAgIH0sXG4gICAgICBzZXQ6IGZ1bmN0aW9uIChuKSB7XG4gICAgICAgIG5vZGUuZ2Fpbi52YWx1ZSA9IG5cbiAgICAgIH1cbiAgICB9XG4gIH0pXG5cbiAgLy8gU2V0IGluaXRpYWwgdm9sdW1lXG4gIGlmICh0eXBlb2YgZGVzaXJlZFZvbHVtZSA9PT0gJ251bWJlcicpIHtcbiAgICBlbWl0dGVyLnZvbHVtZSA9IGRlc2lyZWRWb2x1bWVcbiAgfVxuXG4gIC8vIENoZWNrIGlmIGFsbCBzb3VyY2VzIGFyZSB1bnBsYXlhYmxlLFxuICAvLyBpZiBzbyB3ZSBlbWl0IGFuIGVycm9yIHNpbmNlIHRoZSBicm93c2VyXG4gIC8vIG1pZ2h0IG5vdC5cbiAgdmFyIHNvdXJjZXMgPSBBcnJheS5pc0FycmF5KHNyYykgPyBzcmMgOiBbIHNyYyBdXG4gIHNvdXJjZXMgPSBzb3VyY2VzLmZpbHRlcihCb29sZWFuKVxuICB2YXIgcGxheWFibGUgPSBzb3VyY2VzLnNvbWUoY2FuUGxheVNyYylcbiAgaWYgKHBsYXlhYmxlKSB7XG4gICAgLy8gQXQgbGVhc3Qgb25lIHNvdXJjZSBpcyBwcm9iYWJseS9tYXliZSBwbGF5YWJsZVxuICAgIHN0YXJ0TG9hZCgpXG4gIH0gZWxzZSB7XG4gICAgLy8gZW1pdCBlcnJvciBvbiBuZXh0IHRpY2sgc28gdXNlciBjYW4gY2F0Y2ggaXRcbiAgICBwcm9jZXNzLm5leHRUaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgIGVtaXR0ZXIuZW1pdCgnZXJyb3InLCBjYW5QbGF5U3JjLmNyZWF0ZUVycm9yKHNvdXJjZXMpKVxuICAgIH0pXG4gIH1cblxuICByZXR1cm4gZW1pdHRlclxuXG4gIGZ1bmN0aW9uIHN0YXJ0TG9hZCAoKSB7XG4gICAgLy8gVGhlIGZpbGUgZXJyb3JzIChsaWtlIGRlY29kaW5nIC8gNDA0cykgYXBwZWFyIG9uIDxzb3VyY2U+XG4gICAgdmFyIHNyY0VsZW1lbnRzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXVkaW8uY2hpbGRyZW4pXG4gICAgdmFyIHJlbWFpbmluZ1NyY0Vycm9ycyA9IHNyY0VsZW1lbnRzLmxlbmd0aFxuICAgIHZhciBoYXNFcnJvcmVkID0gZmFsc2VcbiAgICB2YXIgc291cmNlRXJyb3IgPSBmdW5jdGlvbiAoZXJyLCBlbCkge1xuICAgICAgaWYgKGhhc0Vycm9yZWQpIHJldHVyblxuICAgICAgcmVtYWluaW5nU3JjRXJyb3JzLS1cbiAgICAgIGNvbnNvbGUud2FybignRXJyb3IgbG9hZGluZyBzb3VyY2U6ICcgKyBlbC5nZXRBdHRyaWJ1dGUoJ3NyYycpKVxuICAgICAgaWYgKHJlbWFpbmluZ1NyY0Vycm9ycyA8PSAwKSB7XG4gICAgICAgIGhhc0Vycm9yZWQgPSB0cnVlXG4gICAgICAgIHNyY0VsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCBzb3VyY2VFcnJvciwgZmFsc2UpXG4gICAgICAgIH0pXG4gICAgICAgIGVtaXR0ZXIuZW1pdCgnZXJyb3InLCBuZXcgRXJyb3IoJ0NvdWxkIG5vdCBwbGF5IGFueSBvZiB0aGUgc3VwcGxpZWQgc291cmNlcycpKVxuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBkb25lID0gZnVuY3Rpb24gKCkge1xuICAgICAgZW1pdHRlci5lbWl0KCdsb2FkJylcbiAgICB9XG5cbiAgICBpZiAoYXVkaW8ucmVhZHlTdGF0ZSA+PSBhdWRpby5IQVZFX0VOT1VHSF9EQVRBKSB7XG4gICAgICBwcm9jZXNzLm5leHRUaWNrKGRvbmUpXG4gICAgfSBlbHNlIHtcbiAgICAgIGFkZE9uY2UoYXVkaW8sICdjYW5wbGF5JywgZG9uZSlcbiAgICAgIGFkZE9uY2UoYXVkaW8sICdlcnJvcicsIGZ1bmN0aW9uIChldikge1xuICAgICAgICBlbWl0dGVyLmVtaXQobmV3IEVycm9yKCdVbmtub3duIGVycm9yIHdoaWxlIGxvYWRpbmcgPGF1ZGlvPicpKVxuICAgICAgfSlcbiAgICAgIHNyY0VsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgIGFkZE9uY2UoZWwsICdlcnJvcicsIHNvdXJjZUVycm9yKVxuICAgICAgfSlcbiAgICB9XG5cbiAgICAvLyBPbiBtb3N0IGJyb3dzZXJzIHRoZSBsb2FkaW5nIGJlZ2luc1xuICAgIC8vIGltbWVkaWF0ZWx5LiBIb3dldmVyLCBvbiBpT1MgOS4yIFNhZmFyaSxcbiAgICAvLyB5b3UgbmVlZCB0byBjYWxsIGxvYWQoKSBmb3IgZXZlbnRzXG4gICAgLy8gdG8gYmUgdHJpZ2dlcmVkLlxuICAgIGF1ZGlvLmxvYWQoKVxuICB9XG59XG5cbn0pLmNhbGwodGhpcyxyZXF1aXJlKCdfcHJvY2VzcycpKVxuXG59LHtcIi4vYXVkaW8tY29udGV4dFwiOjIxLFwiLi9jYW4tcGxheS1zcmNcIjoyMyxcIi4vZXZlbnQtYWRkLW9uY2VcIjoyNCxcIi4vcmVzdW1lLWNvbnRleHRcIjoyNixcIl9wcm9jZXNzXCI6MTQsXCJldmVudHNcIjo2LFwib2JqZWN0LWFzc2lnblwiOjEyLFwic2ltcGxlLW1lZGlhLWVsZW1lbnRcIjoxNn1dLDI2OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGF1ZGlvQ29udGV4dCkge1xuICBpZiAoYXVkaW9Db250ZXh0LnN0YXRlID09PSAnc3VzcGVuZGVkJyAmJlxuICAgICAgdHlwZW9mIGF1ZGlvQ29udGV4dC5yZXN1bWUgPT09ICdmdW5jdGlvbicpIHtcbiAgICBhdWRpb0NvbnRleHQucmVzdW1lKClcbiAgfVxufVxuXG59LHt9XSwyNzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG52YXIgeGhyID0gcmVxdWlyZSgneGhyJylcbnZhciB4aHJQcm9ncmVzcyA9IHJlcXVpcmUoJ3hoci1wcm9ncmVzcycpXG5cbm1vZHVsZS5leHBvcnRzID0geGhyQXVkaW9cbmZ1bmN0aW9uIHhockF1ZGlvIChhdWRpb0NvbnRleHQsIHNyYywgY2IsIHByb2dyZXNzLCBkZWNvZGluZykge1xuICB2YXIgeGhyT2JqZWN0ID0geGhyKHtcbiAgICB1cmk6IHNyYyxcbiAgICByZXNwb25zZVR5cGU6ICdhcnJheWJ1ZmZlcidcbiAgfSwgZnVuY3Rpb24gKGVyciwgcmVzcCwgYXJyYXlCdWYpIHtcbiAgICBpZiAoIS9eMi8udGVzdChyZXNwLnN0YXR1c0NvZGUpKSB7XG4gICAgICBlcnIgPSBuZXcgRXJyb3IoJ3N0YXR1cyBjb2RlICcgKyByZXNwLnN0YXR1c0NvZGUgKyAnIHJlcXVlc3RpbmcgJyArIHNyYylcbiAgICB9XG4gICAgaWYgKGVycikgcmV0dXJuIGNiKGVycilcbiAgICBkZWNvZGUoYXJyYXlCdWYpXG4gIH0pXG5cbiAgeGhyUHJvZ3Jlc3MoeGhyT2JqZWN0KVxuICAgIC5vbignZGF0YScsIGZ1bmN0aW9uIChhbW91bnQsIHRvdGFsKSB7XG4gICAgICBwcm9ncmVzcyhhbW91bnQsIHRvdGFsKVxuICAgIH0pXG5cbiAgZnVuY3Rpb24gZGVjb2RlIChhcnJheUJ1Zikge1xuICAgIGRlY29kaW5nKClcbiAgICBhdWRpb0NvbnRleHQuZGVjb2RlQXVkaW9EYXRhKGFycmF5QnVmLCBmdW5jdGlvbiAoZGVjb2RlZCkge1xuICAgICAgY2IobnVsbCwgZGVjb2RlZClcbiAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgZXJyID0gbmV3IEVycm9yKCdFcnJvciBkZWNvZGluZyBhdWRpbyBkYXRhJylcbiAgICAgIGVyci50eXBlID0gJ0RFQ09ERV9BVURJT19EQVRBJ1xuICAgICAgY2IoZXJyKVxuICAgIH0pXG4gIH1cbn1cblxufSx7XCJ4aHJcIjoyOSxcInhoci1wcm9ncmVzc1wiOjI4fV0sMjg6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xudmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50cycpLkV2ZW50RW1pdHRlclxuXG5tb2R1bGUuZXhwb3J0cyA9IHByb2dyZXNzXG5cbmZ1bmN0aW9uIHByb2dyZXNzKHhocikge1xuICB2YXIgZW1pdHRlciA9IG5ldyBFdmVudEVtaXR0ZXJcbiAgdmFyIGZpbmlzaGVkID0gZmFsc2VcblxuICBpZiAoeGhyLmF0dGFjaEV2ZW50KSB7XG4gICAgeGhyLmF0dGFjaEV2ZW50KCdvbnJlYWR5c3RhdGVjaGFuZ2UnLCBkb25lKVxuICAgIHJldHVybiBlbWl0dGVyXG4gIH1cblxuICB4aHIuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGRvbmUsIGZhbHNlKVxuICB4aHIuYWRkRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCBwcm9ncmVzcywgZmFsc2UpXG4gIGZ1bmN0aW9uIHByb2dyZXNzKGV2ZW50KSB7XG4gICAgdmFyIHZhbHVlID0gZXZlbnQubGVuZ3RoQ29tcHV0YWJsZVxuICAgICAgPyBldmVudC5sb2FkZWQgLyBldmVudC50b3RhbFxuICAgICAgOiAwXG5cbiAgICBpZiAoIWZpbmlzaGVkKSBlbWl0dGVyLmVtaXQoJ2RhdGEnXG4gICAgICAsIHZhbHVlXG4gICAgICAsIGV2ZW50LnRvdGFsIHx8IG51bGxcbiAgICApXG5cbiAgICBmaW5pc2hlZCA9IHZhbHVlID09PSAxXG4gIH1cblxuICBmdW5jdGlvbiBkb25lKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LnR5cGUgIT09ICdsb2FkJyAmJiAhL14ocmVhZHl8Y29tcGxldGUpJC9nLnRlc3QoXG4gICAgICAoZXZlbnQuY3VycmVudFRhcmdldCB8fCBldmVudC5zcmNFbGVtZW50KS5yZWFkeVN0YXRlXG4gICAgKSkgcmV0dXJuXG5cbiAgICBpZiAoZmluaXNoZWQpIHJldHVyblxuICAgIGlmICh4aHIucmVtb3ZlRXZlbnRMaXN0ZW5lcikge1xuICAgICAgeGhyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBkb25lLCBmYWxzZSlcbiAgICAgIHhoci5yZW1vdmVFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIHByb2dyZXNzLCBmYWxzZSlcbiAgICB9IGVsc2VcbiAgICBpZiAoeGhyLmRldGF0Y2hFdmVudCkge1xuICAgICAgeGhyLmRldGF0Y2hFdmVudCgnb25yZWFkeXN0YXRlY2hhbmdlJywgZG9uZSlcbiAgICB9XG5cbiAgICBlbWl0dGVyLmVtaXQoJ2RhdGEnLCAxLCBldmVudC50b3RhbCB8fCBudWxsKVxuICAgIGVtaXR0ZXIuZW1pdCgnZG9uZScpXG4gICAgZmluaXNoZWQgPSB0cnVlXG4gIH1cblxuICByZXR1cm4gZW1pdHRlclxufVxuXG59LHtcImV2ZW50c1wiOjZ9XSwyOTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcbnZhciB3aW5kb3cgPSByZXF1aXJlKFwiZ2xvYmFsL3dpbmRvd1wiKVxudmFyIGlzRnVuY3Rpb24gPSByZXF1aXJlKFwiaXMtZnVuY3Rpb25cIilcbnZhciBwYXJzZUhlYWRlcnMgPSByZXF1aXJlKFwicGFyc2UtaGVhZGVyc1wiKVxudmFyIHh0ZW5kID0gcmVxdWlyZShcInh0ZW5kXCIpXG5cbm1vZHVsZS5leHBvcnRzID0gY3JlYXRlWEhSXG5jcmVhdGVYSFIuWE1MSHR0cFJlcXVlc3QgPSB3aW5kb3cuWE1MSHR0cFJlcXVlc3QgfHwgbm9vcFxuY3JlYXRlWEhSLlhEb21haW5SZXF1ZXN0ID0gXCJ3aXRoQ3JlZGVudGlhbHNcIiBpbiAobmV3IGNyZWF0ZVhIUi5YTUxIdHRwUmVxdWVzdCgpKSA/IGNyZWF0ZVhIUi5YTUxIdHRwUmVxdWVzdCA6IHdpbmRvdy5YRG9tYWluUmVxdWVzdFxuXG5mb3JFYWNoQXJyYXkoW1wiZ2V0XCIsIFwicHV0XCIsIFwicG9zdFwiLCBcInBhdGNoXCIsIFwiaGVhZFwiLCBcImRlbGV0ZVwiXSwgZnVuY3Rpb24obWV0aG9kKSB7XG4gICAgY3JlYXRlWEhSW21ldGhvZCA9PT0gXCJkZWxldGVcIiA/IFwiZGVsXCIgOiBtZXRob2RdID0gZnVuY3Rpb24odXJpLCBvcHRpb25zLCBjYWxsYmFjaykge1xuICAgICAgICBvcHRpb25zID0gaW5pdFBhcmFtcyh1cmksIG9wdGlvbnMsIGNhbGxiYWNrKVxuICAgICAgICBvcHRpb25zLm1ldGhvZCA9IG1ldGhvZC50b1VwcGVyQ2FzZSgpXG4gICAgICAgIHJldHVybiBfY3JlYXRlWEhSKG9wdGlvbnMpXG4gICAgfVxufSlcblxuZnVuY3Rpb24gZm9yRWFjaEFycmF5KGFycmF5LCBpdGVyYXRvcikge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaXRlcmF0b3IoYXJyYXlbaV0pXG4gICAgfVxufVxuXG5mdW5jdGlvbiBpc0VtcHR5KG9iail7XG4gICAgZm9yKHZhciBpIGluIG9iail7XG4gICAgICAgIGlmKG9iai5oYXNPd25Qcm9wZXJ0eShpKSkgcmV0dXJuIGZhbHNlXG4gICAgfVxuICAgIHJldHVybiB0cnVlXG59XG5cbmZ1bmN0aW9uIGluaXRQYXJhbXModXJpLCBvcHRpb25zLCBjYWxsYmFjaykge1xuICAgIHZhciBwYXJhbXMgPSB1cmlcblxuICAgIGlmIChpc0Z1bmN0aW9uKG9wdGlvbnMpKSB7XG4gICAgICAgIGNhbGxiYWNrID0gb3B0aW9uc1xuICAgICAgICBpZiAodHlwZW9mIHVyaSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgcGFyYW1zID0ge3VyaTp1cml9XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBwYXJhbXMgPSB4dGVuZChvcHRpb25zLCB7dXJpOiB1cml9KVxuICAgIH1cblxuICAgIHBhcmFtcy5jYWxsYmFjayA9IGNhbGxiYWNrXG4gICAgcmV0dXJuIHBhcmFtc1xufVxuXG5mdW5jdGlvbiBjcmVhdGVYSFIodXJpLCBvcHRpb25zLCBjYWxsYmFjaykge1xuICAgIG9wdGlvbnMgPSBpbml0UGFyYW1zKHVyaSwgb3B0aW9ucywgY2FsbGJhY2spXG4gICAgcmV0dXJuIF9jcmVhdGVYSFIob3B0aW9ucylcbn1cblxuZnVuY3Rpb24gX2NyZWF0ZVhIUihvcHRpb25zKSB7XG4gICAgaWYodHlwZW9mIG9wdGlvbnMuY2FsbGJhY2sgPT09IFwidW5kZWZpbmVkXCIpe1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJjYWxsYmFjayBhcmd1bWVudCBtaXNzaW5nXCIpXG4gICAgfVxuXG4gICAgdmFyIGNhbGxlZCA9IGZhbHNlXG4gICAgdmFyIGNhbGxiYWNrID0gZnVuY3Rpb24gY2JPbmNlKGVyciwgcmVzcG9uc2UsIGJvZHkpe1xuICAgICAgICBpZighY2FsbGVkKXtcbiAgICAgICAgICAgIGNhbGxlZCA9IHRydWVcbiAgICAgICAgICAgIG9wdGlvbnMuY2FsbGJhY2soZXJyLCByZXNwb25zZSwgYm9keSlcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlYWR5c3RhdGVjaGFuZ2UoKSB7XG4gICAgICAgIGlmICh4aHIucmVhZHlTdGF0ZSA9PT0gNCkge1xuICAgICAgICAgICAgc2V0VGltZW91dChsb2FkRnVuYywgMClcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldEJvZHkoKSB7XG4gICAgICAgIC8vIENocm9tZSB3aXRoIHJlcXVlc3RUeXBlPWJsb2IgdGhyb3dzIGVycm9ycyBhcnJvdW5kIHdoZW4gZXZlbiB0ZXN0aW5nIGFjY2VzcyB0byByZXNwb25zZVRleHRcbiAgICAgICAgdmFyIGJvZHkgPSB1bmRlZmluZWRcblxuICAgICAgICBpZiAoeGhyLnJlc3BvbnNlKSB7XG4gICAgICAgICAgICBib2R5ID0geGhyLnJlc3BvbnNlXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBib2R5ID0geGhyLnJlc3BvbnNlVGV4dCB8fCBnZXRYbWwoeGhyKVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzSnNvbikge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBib2R5ID0gSlNPTi5wYXJzZShib2R5KVxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBib2R5XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZXJyb3JGdW5jKGV2dCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dFRpbWVyKVxuICAgICAgICBpZighKGV2dCBpbnN0YW5jZW9mIEVycm9yKSl7XG4gICAgICAgICAgICBldnQgPSBuZXcgRXJyb3IoXCJcIiArIChldnQgfHwgXCJVbmtub3duIFhNTEh0dHBSZXF1ZXN0IEVycm9yXCIpIClcbiAgICAgICAgfVxuICAgICAgICBldnQuc3RhdHVzQ29kZSA9IDBcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGV2dCwgZmFpbHVyZVJlc3BvbnNlKVxuICAgIH1cblxuICAgIC8vIHdpbGwgbG9hZCB0aGUgZGF0YSAmIHByb2Nlc3MgdGhlIHJlc3BvbnNlIGluIGEgc3BlY2lhbCByZXNwb25zZSBvYmplY3RcbiAgICBmdW5jdGlvbiBsb2FkRnVuYygpIHtcbiAgICAgICAgaWYgKGFib3J0ZWQpIHJldHVyblxuICAgICAgICB2YXIgc3RhdHVzXG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0VGltZXIpXG4gICAgICAgIGlmKG9wdGlvbnMudXNlWERSICYmIHhoci5zdGF0dXM9PT11bmRlZmluZWQpIHtcbiAgICAgICAgICAgIC8vSUU4IENPUlMgR0VUIHN1Y2Nlc3NmdWwgcmVzcG9uc2UgZG9lc24ndCBoYXZlIGEgc3RhdHVzIGZpZWxkLCBidXQgYm9keSBpcyBmaW5lXG4gICAgICAgICAgICBzdGF0dXMgPSAyMDBcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0YXR1cyA9ICh4aHIuc3RhdHVzID09PSAxMjIzID8gMjA0IDogeGhyLnN0YXR1cylcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVzcG9uc2UgPSBmYWlsdXJlUmVzcG9uc2VcbiAgICAgICAgdmFyIGVyciA9IG51bGxcblxuICAgICAgICBpZiAoc3RhdHVzICE9PSAwKXtcbiAgICAgICAgICAgIHJlc3BvbnNlID0ge1xuICAgICAgICAgICAgICAgIGJvZHk6IGdldEJvZHkoKSxcbiAgICAgICAgICAgICAgICBzdGF0dXNDb2RlOiBzdGF0dXMsXG4gICAgICAgICAgICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICAgICAgICAgICAgaGVhZGVyczoge30sXG4gICAgICAgICAgICAgICAgdXJsOiB1cmksXG4gICAgICAgICAgICAgICAgcmF3UmVxdWVzdDogeGhyXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZih4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKXsgLy9yZW1lbWJlciB4aHIgY2FuIGluIGZhY3QgYmUgWERSIGZvciBDT1JTIGluIElFXG4gICAgICAgICAgICAgICAgcmVzcG9uc2UuaGVhZGVycyA9IHBhcnNlSGVhZGVycyh4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlcnIgPSBuZXcgRXJyb3IoXCJJbnRlcm5hbCBYTUxIdHRwUmVxdWVzdCBFcnJvclwiKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjYWxsYmFjayhlcnIsIHJlc3BvbnNlLCByZXNwb25zZS5ib2R5KVxuICAgIH1cblxuICAgIHZhciB4aHIgPSBvcHRpb25zLnhociB8fCBudWxsXG5cbiAgICBpZiAoIXhocikge1xuICAgICAgICBpZiAob3B0aW9ucy5jb3JzIHx8IG9wdGlvbnMudXNlWERSKSB7XG4gICAgICAgICAgICB4aHIgPSBuZXcgY3JlYXRlWEhSLlhEb21haW5SZXF1ZXN0KClcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICB4aHIgPSBuZXcgY3JlYXRlWEhSLlhNTEh0dHBSZXF1ZXN0KClcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhciBrZXlcbiAgICB2YXIgYWJvcnRlZFxuICAgIHZhciB1cmkgPSB4aHIudXJsID0gb3B0aW9ucy51cmkgfHwgb3B0aW9ucy51cmxcbiAgICB2YXIgbWV0aG9kID0geGhyLm1ldGhvZCA9IG9wdGlvbnMubWV0aG9kIHx8IFwiR0VUXCJcbiAgICB2YXIgYm9keSA9IG9wdGlvbnMuYm9keSB8fCBvcHRpb25zLmRhdGFcbiAgICB2YXIgaGVhZGVycyA9IHhoci5oZWFkZXJzID0gb3B0aW9ucy5oZWFkZXJzIHx8IHt9XG4gICAgdmFyIHN5bmMgPSAhIW9wdGlvbnMuc3luY1xuICAgIHZhciBpc0pzb24gPSBmYWxzZVxuICAgIHZhciB0aW1lb3V0VGltZXJcbiAgICB2YXIgZmFpbHVyZVJlc3BvbnNlID0ge1xuICAgICAgICBib2R5OiB1bmRlZmluZWQsXG4gICAgICAgIGhlYWRlcnM6IHt9LFxuICAgICAgICBzdGF0dXNDb2RlOiAwLFxuICAgICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgICAgdXJsOiB1cmksXG4gICAgICAgIHJhd1JlcXVlc3Q6IHhoclxuICAgIH1cblxuICAgIGlmIChcImpzb25cIiBpbiBvcHRpb25zICYmIG9wdGlvbnMuanNvbiAhPT0gZmFsc2UpIHtcbiAgICAgICAgaXNKc29uID0gdHJ1ZVxuICAgICAgICBoZWFkZXJzW1wiYWNjZXB0XCJdIHx8IGhlYWRlcnNbXCJBY2NlcHRcIl0gfHwgKGhlYWRlcnNbXCJBY2NlcHRcIl0gPSBcImFwcGxpY2F0aW9uL2pzb25cIikgLy9Eb24ndCBvdmVycmlkZSBleGlzdGluZyBhY2NlcHQgaGVhZGVyIGRlY2xhcmVkIGJ5IHVzZXJcbiAgICAgICAgaWYgKG1ldGhvZCAhPT0gXCJHRVRcIiAmJiBtZXRob2QgIT09IFwiSEVBRFwiKSB7XG4gICAgICAgICAgICBoZWFkZXJzW1wiY29udGVudC10eXBlXCJdIHx8IGhlYWRlcnNbXCJDb250ZW50LVR5cGVcIl0gfHwgKGhlYWRlcnNbXCJDb250ZW50LVR5cGVcIl0gPSBcImFwcGxpY2F0aW9uL2pzb25cIikgLy9Eb24ndCBvdmVycmlkZSBleGlzdGluZyBhY2NlcHQgaGVhZGVyIGRlY2xhcmVkIGJ5IHVzZXJcbiAgICAgICAgICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeShvcHRpb25zLmpzb24gPT09IHRydWUgPyBib2R5IDogb3B0aW9ucy5qc29uKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IHJlYWR5c3RhdGVjaGFuZ2VcbiAgICB4aHIub25sb2FkID0gbG9hZEZ1bmNcbiAgICB4aHIub25lcnJvciA9IGVycm9yRnVuY1xuICAgIC8vIElFOSBtdXN0IGhhdmUgb25wcm9ncmVzcyBiZSBzZXQgdG8gYSB1bmlxdWUgZnVuY3Rpb24uXG4gICAgeGhyLm9ucHJvZ3Jlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIElFIG11c3QgZGllXG4gICAgfVxuICAgIHhoci5vbmFib3J0ID0gZnVuY3Rpb24oKXtcbiAgICAgICAgYWJvcnRlZCA9IHRydWU7XG4gICAgfVxuICAgIHhoci5vbnRpbWVvdXQgPSBlcnJvckZ1bmNcbiAgICB4aHIub3BlbihtZXRob2QsIHVyaSwgIXN5bmMsIG9wdGlvbnMudXNlcm5hbWUsIG9wdGlvbnMucGFzc3dvcmQpXG4gICAgLy9oYXMgdG8gYmUgYWZ0ZXIgb3BlblxuICAgIGlmKCFzeW5jKSB7XG4gICAgICAgIHhoci53aXRoQ3JlZGVudGlhbHMgPSAhIW9wdGlvbnMud2l0aENyZWRlbnRpYWxzXG4gICAgfVxuICAgIC8vIENhbm5vdCBzZXQgdGltZW91dCB3aXRoIHN5bmMgcmVxdWVzdFxuICAgIC8vIG5vdCBzZXR0aW5nIHRpbWVvdXQgb24gdGhlIHhociBvYmplY3QsIGJlY2F1c2Ugb2Ygb2xkIHdlYmtpdHMgZXRjLiBub3QgaGFuZGxpbmcgdGhhdCBjb3JyZWN0bHlcbiAgICAvLyBib3RoIG5wbSdzIHJlcXVlc3QgYW5kIGpxdWVyeSAxLnggdXNlIHRoaXMga2luZCBvZiB0aW1lb3V0LCBzbyB0aGlzIGlzIGJlaW5nIGNvbnNpc3RlbnRcbiAgICBpZiAoIXN5bmMgJiYgb3B0aW9ucy50aW1lb3V0ID4gMCApIHtcbiAgICAgICAgdGltZW91dFRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICAgICAgaWYgKGFib3J0ZWQpIHJldHVyblxuICAgICAgICAgICAgYWJvcnRlZCA9IHRydWUvL0lFOSBtYXkgc3RpbGwgY2FsbCByZWFkeXN0YXRlY2hhbmdlXG4gICAgICAgICAgICB4aHIuYWJvcnQoXCJ0aW1lb3V0XCIpXG4gICAgICAgICAgICB2YXIgZSA9IG5ldyBFcnJvcihcIlhNTEh0dHBSZXF1ZXN0IHRpbWVvdXRcIilcbiAgICAgICAgICAgIGUuY29kZSA9IFwiRVRJTUVET1VUXCJcbiAgICAgICAgICAgIGVycm9yRnVuYyhlKVxuICAgICAgICB9LCBvcHRpb25zLnRpbWVvdXQgKVxuICAgIH1cblxuICAgIGlmICh4aHIuc2V0UmVxdWVzdEhlYWRlcikge1xuICAgICAgICBmb3Ioa2V5IGluIGhlYWRlcnMpe1xuICAgICAgICAgICAgaWYoaGVhZGVycy5oYXNPd25Qcm9wZXJ0eShrZXkpKXtcbiAgICAgICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihrZXksIGhlYWRlcnNba2V5XSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAob3B0aW9ucy5oZWFkZXJzICYmICFpc0VtcHR5KG9wdGlvbnMuaGVhZGVycykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSGVhZGVycyBjYW5ub3QgYmUgc2V0IG9uIGFuIFhEb21haW5SZXF1ZXN0IG9iamVjdFwiKVxuICAgIH1cblxuICAgIGlmIChcInJlc3BvbnNlVHlwZVwiIGluIG9wdGlvbnMpIHtcbiAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9IG9wdGlvbnMucmVzcG9uc2VUeXBlXG4gICAgfVxuXG4gICAgaWYgKFwiYmVmb3JlU2VuZFwiIGluIG9wdGlvbnMgJiZcbiAgICAgICAgdHlwZW9mIG9wdGlvbnMuYmVmb3JlU2VuZCA9PT0gXCJmdW5jdGlvblwiXG4gICAgKSB7XG4gICAgICAgIG9wdGlvbnMuYmVmb3JlU2VuZCh4aHIpXG4gICAgfVxuXG4gICAgLy8gTWljcm9zb2Z0IEVkZ2UgYnJvd3NlciBzZW5kcyBcInVuZGVmaW5lZFwiIHdoZW4gc2VuZCBpcyBjYWxsZWQgd2l0aCB1bmRlZmluZWQgdmFsdWUuXG4gICAgLy8gWE1MSHR0cFJlcXVlc3Qgc3BlYyBzYXlzIHRvIHBhc3MgbnVsbCBhcyBib2R5IHRvIGluZGljYXRlIG5vIGJvZHlcbiAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL25hdWd0dXIveGhyL2lzc3Vlcy8xMDAuXG4gICAgeGhyLnNlbmQoYm9keSB8fCBudWxsKVxuXG4gICAgcmV0dXJuIHhoclxuXG5cbn1cblxuZnVuY3Rpb24gZ2V0WG1sKHhocikge1xuICAgIGlmICh4aHIucmVzcG9uc2VUeXBlID09PSBcImRvY3VtZW50XCIpIHtcbiAgICAgICAgcmV0dXJuIHhoci5yZXNwb25zZVhNTFxuICAgIH1cbiAgICB2YXIgZmlyZWZveEJ1Z1Rha2VuRWZmZWN0ID0geGhyLnJlc3BvbnNlWE1MICYmIHhoci5yZXNwb25zZVhNTC5kb2N1bWVudEVsZW1lbnQubm9kZU5hbWUgPT09IFwicGFyc2VyZXJyb3JcIlxuICAgIGlmICh4aHIucmVzcG9uc2VUeXBlID09PSBcIlwiICYmICFmaXJlZm94QnVnVGFrZW5FZmZlY3QpIHtcbiAgICAgICAgcmV0dXJuIHhoci5yZXNwb25zZVhNTFxuICAgIH1cblxuICAgIHJldHVybiBudWxsXG59XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG59LHtcImdsb2JhbC93aW5kb3dcIjo4LFwiaXMtZnVuY3Rpb25cIjoxMSxcInBhcnNlLWhlYWRlcnNcIjoxMyxcInh0ZW5kXCI6MzB9XSwzMDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5tb2R1bGUuZXhwb3J0cyA9IGV4dGVuZFxuXG52YXIgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuXG5mdW5jdGlvbiBleHRlbmQoKSB7XG4gICAgdmFyIHRhcmdldCA9IHt9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldXG5cbiAgICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldFxufVxuXG59LHt9XSwzMTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4ndXNlIHN0cmljdCc7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfVXRpbHMgPSByZXF1aXJlKCcuL3V0aWwvVXRpbHMnKTtcblxudmFyIF9VdGlsczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9VdGlscyk7XG5cbnZhciBfRXZlbnRzTWFuYWdlciA9IHJlcXVpcmUoJy4vZXZlbnRzL0V2ZW50c01hbmFnZXInKTtcblxudmFyIF9FdmVudHNNYW5hZ2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0V2ZW50c01hbmFnZXIpO1xuXG52YXIgX0V2ZW50cyA9IHJlcXVpcmUoJy4vZXZlbnRzL0V2ZW50cycpO1xuXG52YXIgX0V2ZW50czIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9FdmVudHMpO1xuXG52YXIgX1JhZk1hbmFnZXIgPSByZXF1aXJlKCcuL21hbmFnZXJzL1JhZk1hbmFnZXInKTtcblxudmFyIF9SYWZNYW5hZ2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1JhZk1hbmFnZXIpO1xuXG52YXIgX0ludGVyYWN0aW9uTWFuYWdlciA9IHJlcXVpcmUoJy4vbWFuYWdlcnMvSW50ZXJhY3Rpb25NYW5hZ2VyJyk7XG5cbnZhciBfSW50ZXJhY3Rpb25NYW5hZ2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0ludGVyYWN0aW9uTWFuYWdlcik7XG5cbnZhciBfU291bmRNYW5hZ2VyID0gcmVxdWlyZSgnLi9tYW5hZ2Vycy9Tb3VuZE1hbmFnZXInKTtcblxudmFyIF9Tb3VuZE1hbmFnZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU291bmRNYW5hZ2VyKTtcblxudmFyIF9LZXlib2FyZENvbnRyb2xsZXIgPSByZXF1aXJlKCcuL2NvbnRyb2xsZXJzL0tleWJvYXJkQ29udHJvbGxlcicpO1xuXG52YXIgX0tleWJvYXJkQ29udHJvbGxlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9LZXlib2FyZENvbnRyb2xsZXIpO1xuXG52YXIgX0VmZmVjdENvbnRyb2xsZXIgPSByZXF1aXJlKCcuL2NvbnRyb2xsZXJzL0VmZmVjdENvbnRyb2xsZXInKTtcblxudmFyIF9FZmZlY3RDb250cm9sbGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0VmZmVjdENvbnRyb2xsZXIpO1xuXG52YXIgX1NoYXBlQ29udHJvbGxlciA9IHJlcXVpcmUoJy4vY29udHJvbGxlcnMvU2hhcGVDb250cm9sbGVyJyk7XG5cbnZhciBfU2hhcGVDb250cm9sbGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1NoYXBlQ29udHJvbGxlcik7XG5cbnZhciBfU3VwZXJzaGFwZSA9IHJlcXVpcmUoJy4vYXBwL1N1cGVyc2hhcGUnKTtcblxudmFyIF9TdXBlcnNoYXBlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1N1cGVyc2hhcGUpO1xuXG52YXIgX0JhY2tncm91bmQgPSByZXF1aXJlKCcuL2FwcC9CYWNrZ3JvdW5kJyk7XG5cbnZhciBfQmFja2dyb3VuZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9CYWNrZ3JvdW5kKTtcblxudmFyIF9DaXJjbGVzID0gcmVxdWlyZSgnLi9hcHAvQ2lyY2xlcycpO1xuXG52YXIgX0NpcmNsZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2lyY2xlcyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBjcmVhdGVBcHAgPSByZXF1aXJlKCcuL3V0aWwvY3JlYXRlQXBwJyk7XG5cbi8vIEV2ZW50c1xuXG5cbi8vIE1hbmFnZXJzXG5cblxuLy8gQ29udHJvbGxlcnNcblxuXG4vLyBPYmplY3RzM0RcblxuXG52YXIgZ2xzbGlmeSA9IHJlcXVpcmUoJ2dsc2xpZnknKTtcblxuLyoqXG4gKiBNT05PR1JJRCBERVZYIFhQXG4gKlxuICogTWFpblxuICovXG5cbnZhciBNYWluID0gZnVuY3Rpb24gKCkge1xuXHRmdW5jdGlvbiBNYWluKCkge1xuXHRcdF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNYWluKTtcblxuXHRcdC8vIEdsb2JhbFxuXHRcdHdpbmRvdy52alBsYXlpbmcgPSBmYWxzZTtcblxuXHRcdC8vIEJpbmRpbmdzXG5cdFx0dGhpcy5yZW5kZXIgPSB0aGlzLnJlbmRlci5iaW5kKHRoaXMpO1xuXHRcdHRoaXMub25Nb3VzZURvd24gPSB0aGlzLm9uTW91c2VEb3duLmJpbmQodGhpcyk7XG5cdFx0dGhpcy5vbk1vdXNlVXAgPSB0aGlzLm9uTW91c2VVcC5iaW5kKHRoaXMpO1xuXHRcdHRoaXMub25QbGF5RWZmZWN0ID0gdGhpcy5vblBsYXlFZmZlY3QuYmluZCh0aGlzKTtcblx0XHR0aGlzLm9uU3BsaXRFZmZlY3QgPSB0aGlzLm9uU3BsaXRFZmZlY3QuYmluZCh0aGlzKTtcblx0XHR0aGlzLm9uU291bmRFbmRlZCA9IHRoaXMub25Tb3VuZEVuZGVkLmJpbmQodGhpcyk7XG5cdFx0dGhpcy5vblJlc3VtZVZqaW5nID0gdGhpcy5vblJlc3VtZVZqaW5nLmJpbmQodGhpcyk7XG5cdFx0dGhpcy5vblBhdXNlVmppbmcgPSB0aGlzLm9uUGF1c2VWamluZy5iaW5kKHRoaXMpO1xuXG5cdFx0Ly8gUHJvcHNcblx0XHR0aGlzLnRpbWUgPSBEYXRlLm5vdygpO1xuXHRcdHRoaXMuc21vb3RoUm90YXRpb25YID0gMDtcblx0XHR0aGlzLnNtb290aFJvdGF0aW9uWSA9IDA7XG5cblx0XHQvLyBET00gZWxlbWVudHNcblx0XHR0aGlzLiR1aSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy51aScpO1xuXHRcdHRoaXMuJGhlbHBlciA9IHRoaXMuJHVpLnF1ZXJ5U2VsZWN0b3IoJy5oZWxwZXInKTtcblx0XHR0aGlzLiRjcmVkaXRzID0gdGhpcy4kdWkucXVlcnlTZWxlY3RvcignLmNyZWRpdHMnKTtcblx0XHR0aGlzLiRicmFuZCA9IHRoaXMuJHVpLnF1ZXJ5U2VsZWN0b3IoJy5icmFuZCcpO1xuXHRcdHRoaXMuJGxvZ28gPSB0aGlzLiR1aS5xdWVyeVNlbGVjdG9yKCcubG9nbycpO1xuXHRcdHRoaXMuJGNyb3NzZXMgPSB0aGlzLiR1aS5xdWVyeVNlbGVjdG9yQWxsKCcuY3Jvc3MnKTtcblxuXHRcdC8vIENyZWF0ZSBBcHBcblx0XHR3aW5kb3cuYXBwID0gY3JlYXRlQXBwKHsgZGVidWc6IGZhbHNlIH0pO1xuXG5cdFx0Ly8gQ2FtZXJhIFxuXHRcdHdpbmRvdy5hcHAuY2FtZXJhLnBvc2l0aW9uLnogPSAxMjAwO1xuXHRcdHdpbmRvdy5hcHAuY2FtZXJhLmxvb2tBdChuZXcgVEhSRUUuVmVjdG9yMygwLCAwLCAwKSk7XG5cblx0XHQvLyBDU1MzRCBDYW1lcmEgXG5cdFx0d2luZG93LmFwcC5jc3MzRENhbWVyYS5wb3NpdGlvbi56ID0gMTIwMDtcblx0XHR3aW5kb3cuYXBwLmNzczNEQ2FtZXJhLmxvb2tBdChuZXcgVEhSRUUuVmVjdG9yMygwLCAwLCAwKSk7XG5cblx0XHQvLyBQb3N0Rlhcblx0XHR0aGlzLkZYQUFQYXNzID0gbmV3IFdBR05FUi5GWEFBUGFzcygpO1xuXHRcdHRoaXMucG9zdEZYUGFzcyA9IG5ldyBXQUdORVIuUGFzcygpO1xuXHRcdHRoaXMucG9zdEZYUGFzcy5zaGFkZXIgPSBXQUdORVIucHJvY2Vzc1NoYWRlcihXQUdORVIuYmFzaWNWcywgZ2xzbGlmeShbXCIjZGVmaW5lIEdMU0xJRlkgMVxcbnVuaWZvcm0gc2FtcGxlcjJEIHRJbnB1dDtcXG5cXG52YXJ5aW5nIHZlYzIgdlV2O1xcblxcbnVuaWZvcm0gZmxvYXQgZGl2aWRlO1xcbnVuaWZvcm0gZmxvYXQgbWlycm9yWDsgXFxudW5pZm9ybSBmbG9hdCBtaXJyb3JZOyBcXG51bmlmb3JtIGZsb2F0IG1vcnBoO1xcblxcbnZvaWQgbWFpbigpIHtcXG4gICAgXFxuICAgIHZlYzIgdXYgPSB2VXY7XFxuICAgIFxcbiAgICAvLyBNaXJyb3IgeFxcbiAgICBpZiAobWlycm9yWCA+IDAuKSB7XFxuICAgICAgICB1di54ID0gYWJzKHZVdi54LS41KSsuNTtcXG4gICAgfVxcbiAgICBcXG4gICAgLy8gTWlycm9yIHlcXG4gICAgaWYgKG1pcnJvclkgPiAwLikge1xcbiAgICAgICAgdXYueSA9IGFicyh2VXYueS0uNSkrLjU7XFxuICAgIH1cXG5cXG4gICAgLy8gU3BsaXRcXG4gICAgdXYgKj0gZGl2aWRlOyB1diA9IG1vZCh1dix2ZWMyKDEuKSk7XFxuICAgIC8vIGlmICh1di54ID4gMC41ICYmIHV2LnkgPiAwLjUpIHV2ICo9IDIuOyB1diA9IG1vZCh1dix2ZWMyKDEuKSk7XFxuICAgIC8vIGlmICh2VXYueCA+IDAuNSAmJiB2VXYueSA+IDAuNSkgdXYgKj0gMi47IHV2ID0gbW9kKHV2LHZlYzIoMS4pKTtcXG4gICAgXFxuICAgIC8vIGlmICh2VXYueCA+IDAuNSAmJiB2VXYueSA+IDAuNSkgdXYgKj0gMi47IHV2ID0gbW9kKHV2LHZlYzIoMS4pKTtcXG4gICAgLy8gaWYgKHZVdi54IDw9IDAuNSAmJiB2VXYueSA8PSAwLjUpIHV2ICo9IDIuOyB1diA9IG1vZCh1dix2ZWMyKDEuKSk7XFxuICAgIC8vIGlmICh2VXYueCA+IDAuNSAmJiB2VXYueSA+IDAuNzUgJiYgdlV2LnggPD0gMC43NSkgdXYgKj0gMi47IHV2ID0gbW9kKHV2LHZlYzIoMS4pKTtcXG4gICAgLy8gaWYgKHZVdi55IDwgMC41ICYmIHZVdi55ID49IDAuMjUgJiYgdlV2LnggPD0gMC4yNSkgdXYgKj0gMi47IHV2ID0gbW9kKHV2LHZlYzIoMS4pKTtcXG5cXG4gICAgdmVjNCBjb2xvciA9IHRleHR1cmUyRCh0SW5wdXQsIHV2KTtcXG5cXG4gICAgLy8gTW9ycGhcXG4gICAgaWYgKG1vcnBoID4gMC4pIHtcXG4gICAgICAgIGNvbG9yID0gdGV4dHVyZTJEKHRJbnB1dCwgdmVjMihzaW4odlV2LnggKiAzLjE0KSwgc2luKHZVdi55ICogMy4xNCkpKTtcXG4gICAgfVxcblxcbiAgICBnbF9GcmFnQ29sb3IgPSBjb2xvcjtcXG5cXG59XCJdKSk7XG5cdFx0dGhpcy5wb3N0RlhQYXNzLnNoYWRlci51bmlmb3Jtcy5kaXZpZGUudmFsdWUgPSAxO1xuXHRcdHRoaXMucG9zdEZYUGFzcy5zaGFkZXIudW5pZm9ybXMubWlycm9yWC52YWx1ZSA9IDA7XG5cdFx0dGhpcy5wb3N0RlhQYXNzLnNoYWRlci51bmlmb3Jtcy5taXJyb3JZLnZhbHVlID0gMDtcblx0XHR0aGlzLnBvc3RGWFBhc3Muc2hhZGVyLnVuaWZvcm1zLm1vcnBoLnZhbHVlID0gMDtcblxuXHRcdC8vIE1hbmFnZXJzXG5cdFx0X1JhZk1hbmFnZXIyLmRlZmF1bHQuc3RhcnQoKTtcblx0XHRfSW50ZXJhY3Rpb25NYW5hZ2VyMi5kZWZhdWx0LnN0YXJ0KCk7XG5cdFx0X1NvdW5kTWFuYWdlcjIuZGVmYXVsdC5zdGFydCgpO1xuXG5cdFx0Ly8gQ29udHJvbGxlcnNcblx0XHRfS2V5Ym9hcmRDb250cm9sbGVyMi5kZWZhdWx0LnN0YXJ0KCk7XG5cdFx0X0VmZmVjdENvbnRyb2xsZXIyLmRlZmF1bHQuc3RhcnQoKTtcblx0XHRfU2hhcGVDb250cm9sbGVyMi5kZWZhdWx0LnN0YXJ0KCk7XG5cblx0XHQvLyBVSVxuXHRcdHRoaXMudWkgPSBuZXcgVEhSRUUuQ1NTM0RPYmplY3QodGhpcy4kdWkpO1xuXHRcdHRoaXMudWkucG9zaXRpb24ueCA9IDE4O1xuXHRcdHRoaXMudWkucG9zaXRpb24ueSA9IDE4O1xuXHRcdHRoaXMudWkucG9zaXRpb24ueiA9IDA7XG5cdFx0d2luZG93LmFwcC5jc3MzRFNjZW5lLmFkZCh0aGlzLnVpKTtcblxuXHRcdC8vIENpcmNsZXNcblx0XHR0aGlzLmNpcmNsZXMgPSBuZXcgX0NpcmNsZXMyLmRlZmF1bHQoKTtcblx0XHR0aGlzLmNpcmNsZXMucG9zaXRpb24ueCA9IDE0MDtcblx0XHR0aGlzLmNpcmNsZXMucG9zaXRpb24ueSA9IDE4O1xuXHRcdHRoaXMuY2lyY2xlcy5wb3NpdGlvbi56ID0gLTE7XG5cdFx0d2luZG93LmFwcC5zY2VuZS5hZGQodGhpcy5jaXJjbGVzKTtcblxuXHRcdC8vIEJhY2tncm91bmRcblx0XHR0aGlzLmJhY2tncm91bmQgPSBuZXcgX0JhY2tncm91bmQyLmRlZmF1bHQoKTtcblx0XHR0aGlzLmJhY2tncm91bmQucG9zaXRpb24ueCA9IDE4O1xuXHRcdHRoaXMuYmFja2dyb3VuZC5wb3NpdGlvbi55ID0gMTg7XG5cdFx0dGhpcy5iYWNrZ3JvdW5kLnBvc2l0aW9uLnogPSAwO1xuXHRcdHdpbmRvdy5hcHAuc2NlbmUuYWRkKHRoaXMuYmFja2dyb3VuZCk7XG5cblx0XHQvLyBTdXBlcnNoYXBlXG5cdFx0dGhpcy5zdXBlcnNoYXBlID0gbmV3IF9TdXBlcnNoYXBlMi5kZWZhdWx0KDE4MCk7XG5cdFx0dGhpcy5zdXBlcnNoYXBlLnNjYWxlLnggPSB0aGlzLnN1cGVyc2hhcGUuc2NhbGUueSA9IHRoaXMuc3VwZXJzaGFwZS5zY2FsZS56ID0gMC4wMTtcblx0XHR0aGlzLnN1cGVyc2hhcGUucG9zaXRpb24ueCA9IC0xODtcblx0XHR0aGlzLnN1cGVyc2hhcGUucG9zaXRpb24ueSA9IC0xODtcblx0XHR0aGlzLnN1cGVyc2hhcGUucG9zaXRpb24ueiA9IDMwMDtcblx0XHR3aW5kb3cuYXBwLnNjZW5lLmFkZCh0aGlzLnN1cGVyc2hhcGUpO1xuXG5cdFx0Ly8gUmFuZG9tIHBhbGV0dGVcblx0XHR2YXIgcGFsZXR0ZSA9IF9VdGlsczIuZGVmYXVsdC5nZXRQYWxldHRlKCk7XG5cdFx0X0V2ZW50c01hbmFnZXIyLmRlZmF1bHQuZW1pdChfRXZlbnRzMi5kZWZhdWx0LlBBTEVUVEVfQ0hBTkdFLCBwYWxldHRlKTtcblxuXHRcdC8vIFN0YXJ0IHJlbmRlclxuXHRcdF9SYWZNYW5hZ2VyMi5kZWZhdWx0LmJpbmQoJ21haW4nLCB0aGlzLnJlbmRlcik7XG5cblx0XHQvLyBMaXN0ZW5lcnNcblx0XHRfRXZlbnRzTWFuYWdlcjIuZGVmYXVsdC5vbihfRXZlbnRzMi5kZWZhdWx0Lk1PVVNFX0RPV04sIHRoaXMub25Nb3VzZURvd24pO1xuXHRcdF9FdmVudHNNYW5hZ2VyMi5kZWZhdWx0Lm9uKF9FdmVudHMyLmRlZmF1bHQuTU9VU0VfVVAsIHRoaXMub25Nb3VzZVVwKTtcblx0XHRfRXZlbnRzTWFuYWdlcjIuZGVmYXVsdC5vbihfRXZlbnRzMi5kZWZhdWx0LlBMQVlfRUZGRUNULCB0aGlzLm9uUGxheUVmZmVjdCk7XG5cdFx0X0V2ZW50c01hbmFnZXIyLmRlZmF1bHQub24oX0V2ZW50czIuZGVmYXVsdC5TUExJVF9FRkZFQ1QsIHRoaXMub25TcGxpdEVmZmVjdCk7XG5cdFx0X0V2ZW50c01hbmFnZXIyLmRlZmF1bHQub24oX0V2ZW50czIuZGVmYXVsdC5TT1VORF9FTkRFRCwgdGhpcy5vblNvdW5kRW5kZWQpO1xuXHRcdF9FdmVudHNNYW5hZ2VyMi5kZWZhdWx0Lm9uKF9FdmVudHMyLmRlZmF1bHQuUkVTVU1FX1ZKSU5HLCB0aGlzLm9uUmVzdW1lVmppbmcpO1xuXHRcdF9FdmVudHNNYW5hZ2VyMi5kZWZhdWx0Lm9uKF9FdmVudHMyLmRlZmF1bHQuUEFVU0VfVkpJTkcsIHRoaXMub25QYXVzZVZqaW5nKTtcblx0XHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5yZXNpemUuYmluZCh0aGlzKSwgdHJ1ZSk7XG5cdH1cblxuXHRfY3JlYXRlQ2xhc3MoTWFpbiwgW3tcblx0XHRrZXk6ICdvblNvdW5kRW5kZWQnLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBvblNvdW5kRW5kZWQoKSB7XG5cdFx0XHR2YXIgX3RoaXMgPSB0aGlzO1xuXG5cdFx0XHR3aW5kb3cudmpQbGF5aW5nID0gZmFsc2U7XG5cblx0XHRcdFR3ZWVuTWF4LmRlbGF5ZWRDYWxsKDAuNiwgZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRfdGhpcy5wYXVzZVZqaW5nKCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6ICdvbk1vdXNlRG93bicsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIG9uTW91c2VEb3duKCkge1xuXHRcdFx0aWYgKHdpbmRvdy52alBsYXlpbmcpIHJldHVybjtcblxuXHRcdFx0Ly8gRGlzcGxheSBzdXBlcnNoYXBlXG5cdFx0XHR0aGlzLnN1cGVyc2hhcGUuZGlzcGxheSgpO1xuXG5cdFx0XHQvLyBNb3ZlIGNhbWVyYXNcblx0XHRcdFR3ZWVuTWF4LnRvKFt3aW5kb3cuYXBwLmNhbWVyYS5wb3NpdGlvbiwgd2luZG93LmFwcC5jc3MzRENhbWVyYS5wb3NpdGlvbl0sIDAuNiwgeyB6OiAxNDAwLCBlYXNlOiBQb3dlcjIuZWFzZU91dCB9KTtcblxuXHRcdFx0Ly8gSGlkZSBoZWxwZXJcblx0XHRcdFR3ZWVuTWF4LnRvKFt0aGlzLiRoZWxwZXIsIHRoaXMuJGxvZ29dLCAwLjMsIHsgb3BhY2l0eTogMCwgZWFzZTogUG93ZXIyLmVhc2VPdXQgfSk7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiAnb25Nb3VzZVVwJyxcblx0XHR2YWx1ZTogZnVuY3Rpb24gb25Nb3VzZVVwKCkge1xuXHRcdFx0aWYgKHdpbmRvdy52alBsYXlpbmcpIHJldHVybjtcblx0XHRcdHdpbmRvdy52alBsYXlpbmcgPSB0cnVlO1xuXG5cdFx0XHQvLyBTZXQgd2hpdGUgbW9kZSBVSSBcblx0XHRcdHRoaXMuJHVpLmNsYXNzTGlzdC5hZGQoJ3VpLS13aGl0ZScpO1xuXG5cdFx0XHQvLyAgICAgICAvLyBUaW1lbGluZVxuXHRcdFx0Ly8gY29uc3QgdGwgPSBuZXcgVGltZWxpbmVNYXgoeyBvbkNvbXBsZXRlOigpID0+IHtcblx0XHRcdC8vIFx0U291bmRNYW5hZ2VyLnBsYXkoKTtcblx0XHRcdC8vIH19KTtcblx0XHRcdC8vIHRsLnRvKHRoaXMuYmFja2dyb3VuZC5zY2FsZSwgMC42LCB7IHg6d2luZG93LmlubmVyV2lkdGgvNDAwLCB5OndpbmRvdy5pbm5lckhlaWdodC80MDAsIGVhc2U6UG93ZXIyLmVhc2VPdXQgfSwgMCk7XG5cdFx0XHQvLyB0bC50byhbd2luZG93LmFwcC5jYW1lcmEucG9zaXRpb24sIHdpbmRvdy5hcHAuY3NzM0RDYW1lcmEucG9zaXRpb25dLCAwLjYsIHsgejoxMjAwLCBlYXNlOlBvd2VyMi5lYXNlT3V0IH0sIDApO1xuXHRcdFx0Ly8gdGwudG8oW3RoaXMuJGNyZWRpdHMsIHRoaXMuJGJyYW5kLCB0aGlzLiRjcm9zc2VzXSwgMC4zLCB7IG9wYWNpdHk6MCwgZWFzZTpQb3dlcjIuZWFzZU91dCB9LCAwKTtcblx0XHRcdHRoaXMucGxheVZqaW5nKCk7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiAnb25QbGF5RWZmZWN0Jyxcblx0XHR2YWx1ZTogZnVuY3Rpb24gb25QbGF5RWZmZWN0KF9yZWYpIHtcblx0XHRcdHZhciBkaXNhbGxvdyA9IF9yZWYuZGlzYWxsb3c7XG5cblx0XHRcdC8vIFNwbGl0XG5cdFx0XHR0aGlzLnBvc3RGWFBhc3Muc2hhZGVyLnVuaWZvcm1zLmRpdmlkZS52YWx1ZSA9IF9VdGlsczIuZGVmYXVsdC5yYW5nZShbMSwgMSwgMiwgMiwgNF0pO1xuXG5cdFx0XHQvLyBNaXJyb3IgWFxuXHRcdFx0dGhpcy5wb3N0RlhQYXNzLnNoYWRlci51bmlmb3Jtcy5taXJyb3JYLnZhbHVlID0gX1V0aWxzMi5kZWZhdWx0Lmx1Y2t5KDIpO1xuXG5cdFx0XHQvLyBNaXJyb3IgWVxuXHRcdFx0dGhpcy5wb3N0RlhQYXNzLnNoYWRlci51bmlmb3Jtcy5taXJyb3JZLnZhbHVlID0gX1V0aWxzMi5kZWZhdWx0Lmx1Y2t5KDIpO1xuXG5cdFx0XHQvLyBNb3JwaFxuXHRcdFx0aWYgKHRoaXMucG9zdEZYUGFzcy5zaGFkZXIudW5pZm9ybXMuZGl2aWRlLnZhbHVlIDwgNCkge1xuXHRcdFx0XHR0aGlzLnBvc3RGWFBhc3Muc2hhZGVyLnVuaWZvcm1zLm1vcnBoLnZhbHVlID0gX1V0aWxzMi5kZWZhdWx0Lmx1Y2t5KDIpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhpcy5wb3N0RlhQYXNzLnNoYWRlci51bmlmb3Jtcy5tb3JwaC52YWx1ZSA9IDA7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFBhbGV0dGVcblx0XHRcdGlmICghZGlzYWxsb3cpIHtcblx0XHRcdFx0dmFyIHBhbGV0dGUgPSBfVXRpbHMyLmRlZmF1bHQuZ2V0UGFsZXR0ZSgpO1xuXHRcdFx0XHRfRXZlbnRzTWFuYWdlcjIuZGVmYXVsdC5lbWl0KF9FdmVudHMyLmRlZmF1bHQuUEFMRVRURV9DSEFOR0UsIHBhbGV0dGUpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTY2FsZSBiYWNrZ3JvdW5kXG5cdFx0XHR0aGlzLmJhY2tncm91bmQuc2NhbGUueCA9IHRoaXMuYmFja2dyb3VuZC5zY2FsZS55ID0gX1V0aWxzMi5kZWZhdWx0LnJhbmdlKFsxLCA2XSk7XG5cblx0XHRcdC8vIExvZ29cblx0XHRcdGlmICghZGlzYWxsb3cpIHtcblx0XHRcdFx0dGhpcy4kbG9nby5zdHlsZS5vcGFjaXR5ID0gfn4oTWF0aC5yYW5kb20oKSAqIDIpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBDYW1lcmFcblx0XHRcdGlmICh0aGlzLmJhY2tncm91bmQuc2NhbGUueCA+IDEpIHtcblx0XHRcdFx0VHdlZW5NYXgudG8od2luZG93LmFwcC5jYW1lcmEucG9zaXRpb24sIDAuMTUsIHsgejogTWF0aC5yYW5kb20oKSAqIDUwMCArIDYwMCwgZWFzZTogUG93ZXIyLmVhc2VPdXQgfSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRUd2Vlbk1heC50byh3aW5kb3cuYXBwLmNhbWVyYS5wb3NpdGlvbiwgMC4xNSwgeyB6OiBNYXRoLnJhbmRvbSgpICogNTAwICsgODAwLCBlYXNlOiBQb3dlcjIuZWFzZU91dCB9KTtcblx0XHRcdH1cblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6ICdvblNwbGl0RWZmZWN0Jyxcblx0XHR2YWx1ZTogZnVuY3Rpb24gb25TcGxpdEVmZmVjdChzcGxpdENvdW50KSB7XG5cdFx0XHR0aGlzLnBvc3RGWFBhc3Muc2hhZGVyLnVuaWZvcm1zLmRpdmlkZS52YWx1ZSA9IHNwbGl0Q291bnQ7XG5cdFx0XHR0aGlzLnBvc3RGWFBhc3Muc2hhZGVyLnVuaWZvcm1zLm1vcnBoLnZhbHVlID0gMTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6ICdvblJlc3VtZVZqaW5nJyxcblx0XHR2YWx1ZTogZnVuY3Rpb24gb25SZXN1bWVWamluZygpIHtcblx0XHRcdHRoaXMucGxheVZqaW5nKGZhbHNlKTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6ICdvblBhdXNlVmppbmcnLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBvblBhdXNlVmppbmcoKSB7XG5cdFx0XHR0aGlzLnBhdXNlVmppbmcoKTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6ICdwbGF5VmppbmcnLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBwbGF5VmppbmcoKSB7XG5cdFx0XHR2YXIgcGxheVNvdW5kID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB0cnVlO1xuXG5cdFx0XHQvLyBUaW1lbGluZVxuXHRcdFx0dmFyIHRsID0gbmV3IFRpbWVsaW5lTWF4KHsgb25Db21wbGV0ZTogZnVuY3Rpb24gb25Db21wbGV0ZSgpIHtcblx0XHRcdFx0XHRpZiAocGxheVNvdW5kKSBfU291bmRNYW5hZ2VyMi5kZWZhdWx0LnBsYXkoKTtcblx0XHRcdFx0fSB9KTtcblx0XHRcdHRsLnRvKHRoaXMuYmFja2dyb3VuZC5zY2FsZSwgMC42LCB7IHg6IHdpbmRvdy5pbm5lcldpZHRoIC8gNDAwLCB5OiB3aW5kb3cuaW5uZXJIZWlnaHQgLyA0MDAsIGVhc2U6IFBvd2VyMi5lYXNlT3V0IH0sIDApO1xuXHRcdFx0dGwudG8oW3dpbmRvdy5hcHAuY2FtZXJhLnBvc2l0aW9uLCB3aW5kb3cuYXBwLmNzczNEQ2FtZXJhLnBvc2l0aW9uXSwgMC42LCB7IHo6IDEyMDAsIGVhc2U6IFBvd2VyMi5lYXNlT3V0IH0sIDApO1xuXHRcdFx0dGwudG8oW3RoaXMuJGNyZWRpdHMsIHRoaXMuJGJyYW5kLCB0aGlzLiRjcm9zc2VzXSwgMC4zLCB7IG9wYWNpdHk6IDAsIGVhc2U6IFBvd2VyMi5lYXNlT3V0IH0sIDApO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogJ3BhdXNlVmppbmcnLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBwYXVzZVZqaW5nKCkge1xuXHRcdFx0dmFyIF90aGlzMiA9IHRoaXM7XG5cblx0XHRcdC8vIFJlc2V0IHBvc3RGWFxuXHRcdFx0dGhpcy5wb3N0RlhQYXNzLnNoYWRlci51bmlmb3Jtcy5kaXZpZGUudmFsdWUgPSAxO1xuXHRcdFx0dGhpcy5wb3N0RlhQYXNzLnNoYWRlci51bmlmb3Jtcy5taXJyb3JYLnZhbHVlID0gMDtcblx0XHRcdHRoaXMucG9zdEZYUGFzcy5zaGFkZXIudW5pZm9ybXMubWlycm9yWS52YWx1ZSA9IDA7XG5cdFx0XHR0aGlzLnBvc3RGWFBhc3Muc2hhZGVyLnVuaWZvcm1zLm1vcnBoLnZhbHVlID0gMDtcblxuXHRcdFx0Ly8gU2V0IGJhY2tncm91bmQgc2NhbGUgZnVsbHNpemVcblx0XHRcdHRoaXMuYmFja2dyb3VuZC5zY2FsZS54ID0gd2luZG93LmlubmVyV2lkdGggLyA0MDA7XG5cdFx0XHR0aGlzLmJhY2tncm91bmQuc2NhbGUueSA9IHdpbmRvdy5pbm5lckhlaWdodCAvIDQwMDtcblxuXHRcdFx0Ly8gRGlzcGxheSBsb2dvXG5cdFx0XHR0aGlzLiRsb2dvLnN0eWxlLm9wYWNpdHkgPSAxO1xuXG5cdFx0XHQvLyBUaW1lbGluZVxuXHRcdFx0dmFyIHRsID0gbmV3IFRpbWVsaW5lTWF4KCk7XG5cdFx0XHR0bC50byh3aW5kb3cuYXBwLmNhbWVyYS5wb3NpdGlvbiwgMC43LCB7IHo6IDEyMDAsIGVhc2U6IFBvd2VyMi5lYXNlT3V0IH0sIDApO1xuXHRcdFx0dGwudG8odGhpcy5iYWNrZ3JvdW5kLnNjYWxlLCAwLjcsIHsgeDogMSwgeTogMSwgZWFzZTogUG93ZXIyLmVhc2VPdXQgfSwgMCk7XG5cdFx0XHR0bC50byh0aGlzLnN1cGVyc2hhcGUuc2NhbGUsIDAuNywgeyB4OiAwLjcsIHk6IDAuNywgejogMC43LCBlYXNlOiBQb3dlcjIuZWFzZU91dCB9LCAwKTtcblx0XHRcdHRsLnRvKFt0aGlzLiR1aSwgdGhpcy4kY3Jvc3NlcywgdGhpcy4kYnJhbmQsIHRoaXMuJGNyZWRpdHMsIHRoaXMuJGxvZ29dLCAwLjcsIHsgb3BhY2l0eTogMSwgZWFzZTogUG93ZXIyLmVhc2VPdXQgfSk7XG5cdFx0XHR0bC5hZGRDYWxsYmFjayhmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdC8vIERpc3BsYXkgY2lyY2xlc1xuXHRcdFx0XHRfdGhpczIuY2lyY2xlcy5kaXNwbGF5KCk7XG5cdFx0XHR9LCAwLjMpO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogJ3JlbmRlcicsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0XHRcdC8vIFVwZGF0ZVxuXHRcdFx0dGhpcy51cGRhdGUoKTtcblxuXHRcdFx0Ly8gUmVuZGVyXG5cdFx0XHR3aW5kb3cuYXBwLmNzczNEUmVuZGVyZXIucmVuZGVyKHdpbmRvdy5hcHAuY3NzM0RTY2VuZSwgd2luZG93LmFwcC5jc3MzRENhbWVyYSk7XG5cdFx0XHR3aW5kb3cuYXBwLnJlbmRlcmVyLmF1dG9DbGVhckNvbG9yID0gdHJ1ZTtcblx0XHRcdHdpbmRvdy5hcHAuY29tcG9zZXIucmVzZXQoKTtcblx0XHRcdHdpbmRvdy5hcHAuY29tcG9zZXIucmVuZGVyKHdpbmRvdy5hcHAuc2NlbmUsIHdpbmRvdy5hcHAuY2FtZXJhKTtcblx0XHRcdHdpbmRvdy5hcHAuY29tcG9zZXIucGFzcyh0aGlzLnBvc3RGWFBhc3MpO1xuXHRcdFx0d2luZG93LmFwcC5jb21wb3Nlci5wYXNzKHRoaXMuRlhBQVBhc3MpO1xuXHRcdFx0d2luZG93LmFwcC5jb21wb3Nlci50b1NjcmVlbigpO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogJ3VwZGF0ZScsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZSgpIHtcblx0XHRcdC8vIFVwZGF0ZSBzdXBlcnNoYXBlXG5cdFx0XHR0aGlzLnN1cGVyc2hhcGUudXBkYXRlKHRoaXMudGltZSk7XG5cblx0XHRcdHZhciByb3RhdGlvblggPSBfVXRpbHMyLmRlZmF1bHQubWFwKHdpbmRvdy5tb3VzZS55LCAwLCB3aW5kb3cuaW5uZXJIZWlnaHQsIC0wLjEsIDAuMSk7XG5cdFx0XHR2YXIgcm90YXRpb25ZID0gX1V0aWxzMi5kZWZhdWx0Lm1hcCh3aW5kb3cubW91c2UueCwgMCwgd2luZG93LmlubmVyV2lkdGgsIC0wLjEsIDAuMSk7XG5cblx0XHRcdHRoaXMuc21vb3RoUm90YXRpb25YICs9IChyb3RhdGlvblggLSB0aGlzLnNtb290aFJvdGF0aW9uWCkgKiAwLjE7XG5cdFx0XHR0aGlzLnNtb290aFJvdGF0aW9uWSArPSAocm90YXRpb25ZIC0gdGhpcy5zbW9vdGhSb3RhdGlvblkpICogMC4xO1xuXG5cdFx0XHR3aW5kb3cuYXBwLnNjZW5lLnJvdGF0aW9uLnggPSB0aGlzLnNtb290aFJvdGF0aW9uWCAqIDI7XG5cdFx0XHR3aW5kb3cuYXBwLnNjZW5lLnJvdGF0aW9uLnkgPSB0aGlzLnNtb290aFJvdGF0aW9uWSAqIDI7XG5cdFx0XHR3aW5kb3cuYXBwLnNjZW5lLnBvc2l0aW9uLnggPSB0aGlzLnNtb290aFJvdGF0aW9uWCAqIDEwMDtcblx0XHRcdHdpbmRvdy5hcHAuc2NlbmUucG9zaXRpb24ueSA9IHRoaXMuc21vb3RoUm90YXRpb25ZICogMTAwO1xuXG5cdFx0XHR3aW5kb3cuYXBwLmNzczNEU2NlbmUucm90YXRpb24ueCA9IHRoaXMuc21vb3RoUm90YXRpb25YO1xuXHRcdFx0d2luZG93LmFwcC5jc3MzRFNjZW5lLnJvdGF0aW9uLnkgPSB0aGlzLnNtb290aFJvdGF0aW9uWTtcblx0XHRcdHdpbmRvdy5hcHAuY3NzM0RTY2VuZS5wb3NpdGlvbi54ID0gdGhpcy5zbW9vdGhSb3RhdGlvblggKiA1MDtcblx0XHRcdHdpbmRvdy5hcHAuY3NzM0RTY2VuZS5wb3NpdGlvbi55ID0gdGhpcy5zbW9vdGhSb3RhdGlvblkgKiA1MDtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6ICdyZXNpemUnLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiByZXNpemUoKSB7XG5cdFx0XHR3aW5kb3cuYXBwLnJlc2l6ZSh3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KTtcblx0XHR9XG5cdH1dKTtcblxuXHRyZXR1cm4gTWFpbjtcbn0oKTtcblxubmV3IE1haW4oKTtcblxufSx7XCIuL2FwcC9CYWNrZ3JvdW5kXCI6MzIsXCIuL2FwcC9DaXJjbGVzXCI6MzMsXCIuL2FwcC9TdXBlcnNoYXBlXCI6MzQsXCIuL2NvbnRyb2xsZXJzL0VmZmVjdENvbnRyb2xsZXJcIjozNyxcIi4vY29udHJvbGxlcnMvS2V5Ym9hcmRDb250cm9sbGVyXCI6MzgsXCIuL2NvbnRyb2xsZXJzL1NoYXBlQ29udHJvbGxlclwiOjM5LFwiLi9ldmVudHMvRXZlbnRzXCI6NDAsXCIuL2V2ZW50cy9FdmVudHNNYW5hZ2VyXCI6NDEsXCIuL21hbmFnZXJzL0ludGVyYWN0aW9uTWFuYWdlclwiOjQyLFwiLi9tYW5hZ2Vycy9SYWZNYW5hZ2VyXCI6NDMsXCIuL21hbmFnZXJzL1NvdW5kTWFuYWdlclwiOjQ0LFwiLi91dGlsL1V0aWxzXCI6NDYsXCIuL3V0aWwvY3JlYXRlQXBwXCI6NDcsXCJnbHNsaWZ5XCI6OX1dLDMyOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX0V2ZW50c01hbmFnZXIgPSByZXF1aXJlKCcuLi9ldmVudHMvRXZlbnRzTWFuYWdlcicpO1xuXG52YXIgX0V2ZW50c01hbmFnZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRXZlbnRzTWFuYWdlcik7XG5cbnZhciBfRXZlbnRzID0gcmVxdWlyZSgnLi4vZXZlbnRzL0V2ZW50cycpO1xuXG52YXIgX0V2ZW50czIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9FdmVudHMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9IC8vIEV2ZW50c1xuXG5cbi8qKlxuICogTU9OT0dSSUQgREVWWCBYUFxuICpcbiAqIEJhY2tncm91bmRcbiAqL1xuXG52YXIgQmFja2dyb3VuZCA9IGZ1bmN0aW9uIChfVEhSRUUkT2JqZWN0M0QpIHtcbiAgICBfaW5oZXJpdHMoQmFja2dyb3VuZCwgX1RIUkVFJE9iamVjdDNEKTtcblxuICAgIGZ1bmN0aW9uIEJhY2tncm91bmQoKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBCYWNrZ3JvdW5kKTtcblxuICAgICAgICAvLyBCaW5kaW5nc1xuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoQmFja2dyb3VuZC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKEJhY2tncm91bmQpKS5jYWxsKHRoaXMpKTtcblxuICAgICAgICBfdGhpcy5vblBhbGV0dGVDaGFuZ2UgPSBfdGhpcy5vblBhbGV0dGVDaGFuZ2UuYmluZChfdGhpcyk7XG5cbiAgICAgICAgLy8gR2VvbWV0cnlcbiAgICAgICAgX3RoaXMuZ2VvbWV0cnkgPSBuZXcgVEhSRUUuUGxhbmVHZW9tZXRyeSg2MDAsIDYwMCk7XG5cbiAgICAgICAgLy8gTWF0ZXJpYWxcbiAgICAgICAgX3RoaXMubWF0ZXJpYWwgPSBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoeyBjb2xvcjogMHhmZjAwMDAgfSk7XG5cbiAgICAgICAgLy8gTWVzaFxuICAgICAgICBfdGhpcy5tZXNoID0gbmV3IFRIUkVFLk1lc2goX3RoaXMuZ2VvbWV0cnksIF90aGlzLm1hdGVyaWFsKTtcblxuICAgICAgICAvLyBBZGQgdG8gc2NlbmVcbiAgICAgICAgX3RoaXMuYWRkKF90aGlzLm1lc2gpO1xuXG4gICAgICAgIF9FdmVudHNNYW5hZ2VyMi5kZWZhdWx0Lm9uKF9FdmVudHMyLmRlZmF1bHQuUEFMRVRURV9DSEFOR0UsIF90aGlzLm9uUGFsZXR0ZUNoYW5nZSk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoQmFja2dyb3VuZCwgW3tcbiAgICAgICAga2V5OiAnb25QYWxldHRlQ2hhbmdlJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uUGFsZXR0ZUNoYW5nZShwYWxldHRlKSB7XG4gICAgICAgICAgICB0aGlzLm1hdGVyaWFsLmNvbG9yLnNldChuZXcgVEhSRUUuQ29sb3IocGFsZXR0ZS5iYWNrZ3JvdW5kKSk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gQmFja2dyb3VuZDtcbn0oVEhSRUUuT2JqZWN0M0QpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBCYWNrZ3JvdW5kO1xuXG59LHtcIi4uL2V2ZW50cy9FdmVudHNcIjo0MCxcIi4uL2V2ZW50cy9FdmVudHNNYW5hZ2VyXCI6NDF9XSwzMzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4ndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9FdmVudHNNYW5hZ2VyID0gcmVxdWlyZSgnLi4vZXZlbnRzL0V2ZW50c01hbmFnZXInKTtcblxudmFyIF9FdmVudHNNYW5hZ2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0V2ZW50c01hbmFnZXIpO1xuXG52YXIgX0V2ZW50cyA9IHJlcXVpcmUoJy4uL2V2ZW50cy9FdmVudHMnKTtcblxudmFyIF9FdmVudHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRXZlbnRzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfSAvLyBFdmVudHNcblxuXG4vKipcbiAqIE1PTk9HUklEIERFVlggWFBcbiAqXG4gKiBDaXJjbGVzXG4gKi9cblxudmFyIENpcmNsZXMgPSBmdW5jdGlvbiAoX1RIUkVFJE9iamVjdDNEKSB7XG4gICAgX2luaGVyaXRzKENpcmNsZXMsIF9USFJFRSRPYmplY3QzRCk7XG5cbiAgICBmdW5jdGlvbiBDaXJjbGVzKCkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2lyY2xlcyk7XG5cbiAgICAgICAgLy8gQmluZGluZ3NcbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKENpcmNsZXMuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihDaXJjbGVzKSkuY2FsbCh0aGlzKSk7XG5cbiAgICAgICAgX3RoaXMub25Nb3VzZURvd24gPSBfdGhpcy5vbk1vdXNlRG93bi5iaW5kKF90aGlzKTtcblxuICAgICAgICBfdGhpcy5tYXRlcmlhbCA9IG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7IGNvbG9yOiAweGRkZGRkZCwgdHJhbnNwYXJlbnQ6IHRydWUgfSk7XG4gICAgICAgIF90aGlzLm1lc2hlcyA9IFtdO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgZ2VvbWV0cnkgPSBuZXcgVEhSRUUuUmluZ0dlb21ldHJ5KDIyMyArIDUwICogaSwgMjI1ICsgNTAgKiBpLCA2NCwgMSk7XG4gICAgICAgICAgICB2YXIgbWVzaCA9IG5ldyBUSFJFRS5NZXNoKGdlb21ldHJ5LCBfdGhpcy5tYXRlcmlhbCk7XG4gICAgICAgICAgICBtZXNoLnBvc2l0aW9uLnogPSAtKDYgLSBpKSAqIDEwICogNDtcbiAgICAgICAgICAgIG1lc2guaW5pdGlhbERlcHRoID0gbWVzaC5wb3NpdGlvbi56O1xuICAgICAgICAgICAgX3RoaXMuYWRkKG1lc2gpO1xuICAgICAgICAgICAgX3RoaXMubWVzaGVzW2ldID0gbWVzaDtcbiAgICAgICAgfVxuXG4gICAgICAgIF9FdmVudHNNYW5hZ2VyMi5kZWZhdWx0Lm9uKF9FdmVudHMyLmRlZmF1bHQuTU9VU0VfRE9XTiwgX3RoaXMub25Nb3VzZURvd24pO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKENpcmNsZXMsIFt7XG4gICAgICAgIGtleTogJ2Rpc3BsYXknLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZGlzcGxheSgpIHtcbiAgICAgICAgICAgIHZhciB0bCA9IG5ldyBUaW1lbGluZU1heCgpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLm1lc2hlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHRsLmZyb21Ubyh0aGlzLm1lc2hlc1tpXS5zY2FsZSwgMC42LCB7IHg6IDAuODgsIHk6IDAuODggfSwgeyB4OiAxLCB5OiAxLCBlYXNlOiBQb3dlcjIuZWFzZU91dCB9LCBpICogMC4wNik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2hpZGUnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaGlkZSgpIHtcbiAgICAgICAgICAgIC8vIFR3ZWVuTWF4LnRvKHRoaXMubWF0ZXJpYWwsIDAuMywgeyBvcGFjaXR5OjAsIGVhc2U6UG93ZXIyLmVhc2VPdXQgfSk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ29uTW91c2VEb3duJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uTW91c2VEb3duKCkge1xuICAgICAgICAgICAgdmFyIHRsID0gbmV3IFRpbWVsaW5lTWF4KCk7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubWVzaGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGwudG8odGhpcy5tZXNoZXNbaV0uc2NhbGUsIDAuNiwgeyB4OiAxLjEyLCB5OiAxLjEyLCBlYXNlOiBQb3dlcjIuZWFzZU91dCB9LCBpICogMC4wNik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gQ2lyY2xlcztcbn0oVEhSRUUuT2JqZWN0M0QpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBDaXJjbGVzO1xuXG59LHtcIi4uL2V2ZW50cy9FdmVudHNcIjo0MCxcIi4uL2V2ZW50cy9FdmVudHNNYW5hZ2VyXCI6NDF9XSwzNDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4ndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9FdmVudHNNYW5hZ2VyID0gcmVxdWlyZSgnLi4vZXZlbnRzL0V2ZW50c01hbmFnZXInKTtcblxudmFyIF9FdmVudHNNYW5hZ2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0V2ZW50c01hbmFnZXIpO1xuXG52YXIgX0V2ZW50cyA9IHJlcXVpcmUoJy4uL2V2ZW50cy9FdmVudHMnKTtcblxudmFyIF9FdmVudHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRXZlbnRzKTtcblxudmFyIF9TaGFwZUNvbnRyb2xsZXIgPSByZXF1aXJlKCcuLi9jb250cm9sbGVycy9TaGFwZUNvbnRyb2xsZXInKTtcblxudmFyIF9TaGFwZUNvbnRyb2xsZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU2hhcGVDb250cm9sbGVyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgZ2xzbGlmeSA9IHJlcXVpcmUoJ2dsc2xpZnknKTtcblxuLyoqXG4gKiBNT05PR1JJRCBERVZYIFhQXG4gKlxuICogU3VwZXJzaGFwZVxuICovXG5cbnZhciBTdXBlcnNoYXBlID0gZnVuY3Rpb24gKF9USFJFRSRPYmplY3QzRCkge1xuICAgIF9pbmhlcml0cyhTdXBlcnNoYXBlLCBfVEhSRUUkT2JqZWN0M0QpO1xuXG4gICAgZnVuY3Rpb24gU3VwZXJzaGFwZShyYWRpdXMpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFN1cGVyc2hhcGUpO1xuXG4gICAgICAgIC8vIFByb3BzXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChTdXBlcnNoYXBlLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoU3VwZXJzaGFwZSkpLmNhbGwodGhpcykpO1xuXG4gICAgICAgIF90aGlzLnJhZGl1cyA9IHJhZGl1cztcblxuICAgICAgICAvLyBCaW5kaW5nc1xuICAgICAgICBfdGhpcy5vblBhbGV0dGVDaGFuZ2UgPSBfdGhpcy5vblBhbGV0dGVDaGFuZ2UuYmluZChfdGhpcyk7XG5cbiAgICAgICAgLy8gR2VvbWV0cnlcbiAgICAgICAgX3RoaXMuZ2VvbWV0cnkgPSBuZXcgVEhSRUUuR2VvbWV0cnkoKTtcblxuICAgICAgICB2YXIgc3RlcCA9IDAuMDU7XG4gICAgICAgIHZhciBsMSA9IHBhcnNlSW50KDIgKiBNYXRoLlBJIC8gc3RlcCArIDEuMzQ2Mik7XG4gICAgICAgIHZhciBsMiA9IHBhcnNlSW50KE1hdGguUEkgLyBzdGVwICsgMS41KTtcblxuICAgICAgICAvLyBDYWxjdWxhdGUgdmVydGljZXNcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsMTsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgdGhldGEgPSAtTWF0aC5QSSArIGkgKiBzdGVwO1xuICAgICAgICAgICAgdmFyIHIxID0gX3RoaXMuc3VwZXJzaGFwZSh0aGV0YSwgMCwgMCwgMCwgMCwgMSwgMSk7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbDI7IGorKykge1xuICAgICAgICAgICAgICAgIHZhciBwaGkgPSAtTWF0aC5QSSAvIDIgKyBqICogc3RlcDtcbiAgICAgICAgICAgICAgICB2YXIgcjIgPSBfdGhpcy5zdXBlcnNoYXBlKHBoaSwgMCwgMCwgMCwgMCwgMSwgMSk7XG5cbiAgICAgICAgICAgICAgICB2YXIgeCA9IHIxICogTWF0aC5jb3ModGhldGEpICogcjIgKiBNYXRoLmNvcyhwaGkpICogMzA7XG4gICAgICAgICAgICAgICAgdmFyIHkgPSByMSAqIE1hdGguc2luKHRoZXRhKSAqIHIyICogTWF0aC5jb3MocGhpKSAqIDMwO1xuICAgICAgICAgICAgICAgIHZhciB6ID0gcjIgKiBNYXRoLnNpbihwaGkpICogMzA7XG5cbiAgICAgICAgICAgICAgICBfdGhpcy5nZW9tZXRyeS52ZXJ0aWNlcy5wdXNoKG5ldyBUSFJFRS5WZWN0b3IzKHgsIHksIHopKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENhbGN1bGF0ZSBpbmRpY2VzXG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBsMSAtIDE7IF9pKyspIHtcbiAgICAgICAgICAgIGZvciAodmFyIF9qID0gMDsgX2ogPCBsMiAtIDE7IF9qKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgYSA9IChfaSArIDEpICogbDIgKyBfajtcbiAgICAgICAgICAgICAgICB2YXIgYiA9IChfaSArIDEpICogbDIgKyBfaiArIDE7XG4gICAgICAgICAgICAgICAgdmFyIGMgPSBfaSAqIGwyICsgX2ogKyAxO1xuICAgICAgICAgICAgICAgIHZhciBkID0gX2kgKiBsMiArIF9qO1xuXG4gICAgICAgICAgICAgICAgX3RoaXMuZ2VvbWV0cnkuZmFjZXMucHVzaChuZXcgVEhSRUUuRmFjZTMoYSwgYiwgZCkpO1xuICAgICAgICAgICAgICAgIF90aGlzLmdlb21ldHJ5LmZhY2VzLnB1c2gobmV3IFRIUkVFLkZhY2UzKGIsIGMsIGQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENvbXB1dGUgbm9ybWFsc1xuICAgICAgICBfdGhpcy5nZW9tZXRyeS5jb21wdXRlRmFjZU5vcm1hbHMoKTtcbiAgICAgICAgX3RoaXMuZ2VvbWV0cnkuY29tcHV0ZVZlcnRleE5vcm1hbHMoKTtcblxuICAgICAgICAvLyBNYXRlcmlhbFxuICAgICAgICBfdGhpcy5tYXRlcmlhbCA9IG5ldyBUSFJFRS5TaGFkZXJNYXRlcmlhbCh7XG4gICAgICAgICAgICB2ZXJ0ZXhTaGFkZXI6IGdsc2xpZnkoW1wicHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XFxuI2RlZmluZSBHTFNMSUZZIDFcXG5cXG51bmlmb3JtIG1hdDQgdV9wcm9qZWN0aW9uTWF0O1xcbnVuaWZvcm0gbWF0NCB1X21vZGVsdmlld01hdDtcXG51bmlmb3JtIG1hdDMgdV9ub3JtYWxNYXQ7XFxudW5pZm9ybSB2ZWMzIHVfZGlmZnVzZTtcXG5cXG52YXJ5aW5nIHZlYzMgdl9leWVOb3JtYWw7XFxudmFyeWluZyB2ZWMzIHZfZGlmZnVzZTtcXG5cXG52b2lkIG1haW4oKSB7XFxuXFxuICAgIHZfZXllTm9ybWFsID0gbm9ybWFsTWF0cml4ICogbm9ybWFsO1xcbiAgICB2X2RpZmZ1c2UgPSB1X2RpZmZ1c2U7XFxuXFxuICAgIGdsX1Bvc2l0aW9uID0gcHJvamVjdGlvbk1hdHJpeCAqIG1vZGVsVmlld01hdHJpeCAqIHZlYzQocG9zaXRpb24sIDEuMCk7XFxuXFxufVwiXSksXG4gICAgICAgICAgICBmcmFnbWVudFNoYWRlcjogZ2xzbGlmeShbXCJwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcXG4jZGVmaW5lIEdMU0xJRlkgMVxcbnZhcnlpbmcgdmVjMyB2X2V5ZU5vcm1hbDtcXG52YXJ5aW5nIHZlYzMgdl9kaWZmdXNlO1xcblxcbnVuaWZvcm0gdmVjMyB1X2xpZ2h0O1xcbnVuaWZvcm0gdmVjMyB1X2FtYmllbnQ7XFxudW5pZm9ybSB2ZWMzIHVfc3BlY3VsYXI7XFxudW5pZm9ybSBmbG9hdCB1X3NoaW5lO1xcbnVuaWZvcm0gZmxvYXQgdV9jZWxTaGFkaW5nO1xcblxcbnVuaWZvcm0gdmVjMyBjb2xvcjE7XFxudW5pZm9ybSB2ZWMzIGNvbG9yMjtcXG51bmlmb3JtIHZlYzMgY29sb3IzO1xcbnVuaWZvcm0gdmVjMyBjb2xvcjQ7XFxudW5pZm9ybSB2ZWMzIGNvbG9yNTtcXG5cXG5mbG9hdCBjZWxTaGFkZShmbG9hdCBkKSB7XFxuICBmbG9hdCBFID0gMC4wNTtcXG4gIGQgKj0gdV9jZWxTaGFkaW5nO1xcbiAgZmxvYXQgciA9IDEuMCAvICh1X2NlbFNoYWRpbmctMC41KTtcXG4gIGZsb2F0IGZkID0gZmxvb3IoZCk7XFxuICBmbG9hdCBkciA9IGQgKiByO1xcbiAgaWYgKGQgPiBmZC1FICYmIGQgPCBmZCtFKSB7XFxuICAgIGZsb2F0IGxhc3QgPSAoZmQgLSBzaWduKGQgLSBmZCkpKnI7XFxuICAgIHJldHVybiBtaXgobGFzdCwgZmQqciwgXFxuICAgICAgc21vb3Roc3RlcCgoZmQtRSkqciwgKGZkK0UpKnIsIGRyKSk7XFxuICB9IGVsc2Uge1xcbiAgICByZXR1cm4gZmQqcjtcXG4gIH1cXG59XFxuXFxudm9pZCBtYWluKCkge1xcbiAgdmVjMyBlbiA9IG5vcm1hbGl6ZSh2X2V5ZU5vcm1hbCk7XFxuICB2ZWMzIGxuID0gbm9ybWFsaXplKHVfbGlnaHQpO1xcbiAgdmVjMyBobiA9IG5vcm1hbGl6ZShsbiArIHZlYzMoMCwgMCwgMSkpO1xcbiAgZmxvYXQgRSA9IDAuMDU7XFxuXFxuICBmbG9hdCBkZiA9IG1heCgwLjAsIGRvdChlbiwgbG4pKTtcXG4gIGZsb2F0IHNmID0gbWF4KDAuMCwgZG90KGVuLCBobikpO1xcblxcbiAgZmxvYXQgY2RmID0gY2VsU2hhZGUoZGYpOyAgXFxuXFxuICBzZiA9IHBvdyhzZiwgdV9zaGluZSk7XFxuXFxuICBpZiAoc2YgPiAwLjUgLSBFICYmIHNmIDwgMC41ICsgRSkge1xcbiAgICBzZiA9IHNtb290aHN0ZXAoMC41IC0gRSwgMC41ICsgRSwgc2YpO1xcbiAgfSBlbHNlIHtcXG4gICAgc2YgPSBzdGVwKDAuNSwgc2YpO1xcbiAgfVxcblxcbiAgZmxvYXQgY3NmID0gc2Y7XFxuXFxuICB2ZWMzIGNvbG9yID0gdV9hbWJpZW50ICsgY2RmICogdl9kaWZmdXNlICsgY3NmICogdV9zcGVjdWxhcjtcXG5cXG4gIC8vIFJFTUlOREVSIChnYXJkZXIgw6dhICsgY29sb3IgcG9zdHBybyA9IGR1b3RvbmUpXFxuICAvLyBSRU1JTkRFUiAoZ2FyZGVyIMOnYSArIGNvbG9yIHBvc3Rwcm8gPSBkdW90b25lKVxcbiAgLy8gUkVNSU5ERVIgKGdhcmRlciDDp2EgKyBjb2xvciBwb3N0cHJvID0gZHVvdG9uZSlcXG4gIGlmIChjb2xvci5nID4gMC44NSkgY29sb3IgPSBjb2xvcjU7XFxuICBlbHNlIGlmIChjb2xvci5nID4gMC43KSBjb2xvciA9IGNvbG9yNDtcXG4gIGVsc2UgaWYgKGNvbG9yLmcgPiAwLjQpIGNvbG9yID0gY29sb3IzO1xcbiAgLy8gZWxzZSBpZiAoY29sb3IuZyA+IDAuMSkgY29sb3IgPSBjb2xvcjI7XFxuICAvLyBlbHNlIGNvbG9yID0gY29sb3IxO1xcbiAgZWxzZSBjb2xvciA9IGNvbG9yMjtcXG5cXG4gIGdsX0ZyYWdDb2xvciA9IHZlYzQoY29sb3IsIDEuMCk7XFxufVwiXSksXG4gICAgICAgICAgICB1bmlmb3Jtczoge1xuICAgICAgICAgICAgICAgIHVfZGlmZnVzZTogeyB0eXBlOiAnYycsIHZhbHVlOiBuZXcgVEhSRUUuQ29sb3IoMHgwMGQxNzMpIH0sXG4gICAgICAgICAgICAgICAgdV9saWdodDogeyB0eXBlOiAndjMnLCB2YWx1ZTogbmV3IFRIUkVFLlZlY3RvcjMoMC4yNSwgMC4yNSwgMSkgfSxcbiAgICAgICAgICAgICAgICB1X2FtYmllbnQ6IHsgdHlwZTogJ3YzJywgdmFsdWU6IG5ldyBUSFJFRS5WZWN0b3IzKDAuMSwgMC4xLCAwLjEpIH0sXG4gICAgICAgICAgICAgICAgdV9zcGVjdWxhcjogeyB0eXBlOiAndjMnLCB2YWx1ZTogbmV3IFRIUkVFLlZlY3RvcjMoMC41MCwgMC41MCwgMC41MCkgfSxcbiAgICAgICAgICAgICAgICB1X3NoaW5lOiB7IHR5cGU6ICdmJywgdmFsdWU6IDEwMDAuMCB9LFxuICAgICAgICAgICAgICAgIHVfY2VsU2hhZGluZzogeyB0eXBlOiAnZicsIHZhbHVlOiAxMC4wIH0sXG5cbiAgICAgICAgICAgICAgICBjb2xvcjE6IHsgdHlwZTogJ2MnLCB2YWx1ZTogbmV3IFRIUkVFLkNvbG9yKDB4ZmZhZDMyKSB9LFxuICAgICAgICAgICAgICAgIGNvbG9yMjogeyB0eXBlOiAnYycsIHZhbHVlOiBuZXcgVEhSRUUuQ29sb3IoMHg4NTEwN2EpIH0sXG4gICAgICAgICAgICAgICAgY29sb3IzOiB7IHR5cGU6ICdjJywgdmFsdWU6IG5ldyBUSFJFRS5Db2xvcigweDE2MTYxNikgfSxcbiAgICAgICAgICAgICAgICBjb2xvcjQ6IHsgdHlwZTogJ2MnLCB2YWx1ZTogbmV3IFRIUkVFLkNvbG9yKDB4ZmZmZjQ0KSB9LFxuICAgICAgICAgICAgICAgIGNvbG9yNTogeyB0eXBlOiAnYycsIHZhbHVlOiBuZXcgVEhSRUUuQ29sb3IoMHhmZmFkMzIpIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQmlnIG91dGxpbmVcbiAgICAgICAgX3RoaXMub3V0bGluZU1hdGVyaWFsID0gbmV3IFRIUkVFLlNoYWRlck1hdGVyaWFsKHtcbiAgICAgICAgICAgIHZlcnRleFNoYWRlcjogZ2xzbGlmeShbXCJwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcXG4jZGVmaW5lIEdMU0xJRlkgMVxcblxcbnVuaWZvcm0gZmxvYXQgdV9vZmZzZXQ7XFxuXFxudm9pZCBtYWluKCkge1xcbiAgdmVjNCBwID0gdmVjNChwb3NpdGlvbiArIG5vcm1hbCAqIHVfb2Zmc2V0LCAxLjApO1xcbiAgZ2xfUG9zaXRpb24gPSBwcm9qZWN0aW9uTWF0cml4ICogbW9kZWxWaWV3TWF0cml4ICogcDtcXG59XCJdKSxcbiAgICAgICAgICAgIGZyYWdtZW50U2hhZGVyOiBnbHNsaWZ5KFtcInByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xcbiNkZWZpbmUgR0xTTElGWSAxXFxuXFxudW5pZm9ybSB2ZWMzIHVfY29sb3I7XFxuXFxudm9pZCBtYWluKCkge1xcbiAgZ2xfRnJhZ0NvbG9yID0gdmVjNCh1X2NvbG9yLCAxLjApO1xcbn1cIl0pLFxuICAgICAgICAgICAgdW5pZm9ybXM6IHtcbiAgICAgICAgICAgICAgICB1X29mZnNldDogeyB0eXBlOiAnZicsIHZhbHVlOiA0LjIgfSxcbiAgICAgICAgICAgICAgICB1X2NvbG9yOiB7IHR5cGU6ICdjJywgdmFsdWU6IG5ldyBUSFJFRS5Db2xvcigweDAwMDAwMCkgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgX3RoaXMub3V0bGluZU1hdGVyaWFsLnNpZGUgPSBUSFJFRS5CYWNrU2lkZTtcblxuICAgICAgICAvLyBUaGluIG91dGxpbmVcbiAgICAgICAgX3RoaXMudGhpbk91dGxpbmVNYXRlcmlhbCA9IG5ldyBUSFJFRS5TaGFkZXJNYXRlcmlhbCh7XG4gICAgICAgICAgICB2ZXJ0ZXhTaGFkZXI6IGdsc2xpZnkoW1wicHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XFxuI2RlZmluZSBHTFNMSUZZIDFcXG5cXG51bmlmb3JtIGZsb2F0IHVfb2Zmc2V0O1xcblxcbnZvaWQgbWFpbigpIHtcXG4gIHZlYzQgcCA9IHZlYzQocG9zaXRpb24gKyBub3JtYWwgKiB1X29mZnNldCwgMS4wKTtcXG4gIGdsX1Bvc2l0aW9uID0gcHJvamVjdGlvbk1hdHJpeCAqIG1vZGVsVmlld01hdHJpeCAqIHA7XFxufVwiXSksXG4gICAgICAgICAgICBmcmFnbWVudFNoYWRlcjogZ2xzbGlmeShbXCJwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcXG4jZGVmaW5lIEdMU0xJRlkgMVxcblxcbnVuaWZvcm0gdmVjMyB1X2NvbG9yO1xcblxcbnZvaWQgbWFpbigpIHtcXG4gIGdsX0ZyYWdDb2xvciA9IHZlYzQodV9jb2xvciwgMS4wKTtcXG59XCJdKSxcbiAgICAgICAgICAgIHVuaWZvcm1zOiB7XG4gICAgICAgICAgICAgICAgdV9vZmZzZXQ6IHsgdHlwZTogJ2YnLCB2YWx1ZTogMSB9LFxuICAgICAgICAgICAgICAgIHVfY29sb3I6IHsgdHlwZTogJ2MnLCB2YWx1ZTogbmV3IFRIUkVFLkNvbG9yKDB4MDBmZjAwKSB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBfdGhpcy50aGluT3V0bGluZU1hdGVyaWFsLnNpZGUgPSBUSFJFRS5CYWNrU2lkZTtcblxuICAgICAgICAvLyBNZXNoZXNcbiAgICAgICAgX3RoaXMuc2hhcGUgPSBuZXcgVEhSRUUuTWVzaChfdGhpcy5nZW9tZXRyeSwgX3RoaXMubWF0ZXJpYWwpO1xuICAgICAgICBfdGhpcy5vdXRsaW5lID0gbmV3IFRIUkVFLk1lc2goX3RoaXMuZ2VvbWV0cnksIF90aGlzLm91dGxpbmVNYXRlcmlhbCk7XG4gICAgICAgIF90aGlzLnRoaW5PdXRsaW5lID0gbmV3IFRIUkVFLk1lc2goX3RoaXMuZ2VvbWV0cnksIF90aGlzLnRoaW5PdXRsaW5lTWF0ZXJpYWwpO1xuXG4gICAgICAgIC8vIEFkZCB0byBzY2VuZVxuICAgICAgICBfdGhpcy5hZGQoX3RoaXMuc2hhcGUpO1xuICAgICAgICBfdGhpcy5hZGQoX3RoaXMub3V0bGluZSk7XG4gICAgICAgIF90aGlzLmFkZChfdGhpcy50aGluT3V0bGluZSk7XG5cbiAgICAgICAgLy8gTGlzdGVuZXJzXG4gICAgICAgIF9FdmVudHNNYW5hZ2VyMi5kZWZhdWx0Lm9uKF9FdmVudHMyLmRlZmF1bHQuUEFMRVRURV9DSEFOR0UsIF90aGlzLm9uUGFsZXR0ZUNoYW5nZSk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoU3VwZXJzaGFwZSwgW3tcbiAgICAgICAga2V5OiAnZGlzcGxheScsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBkaXNwbGF5KCkge1xuICAgICAgICAgICAgVHdlZW5NYXgudG8odGhpcy5zY2FsZSwgMC42LCB7IHg6IDEsIHk6IDEsIHo6IDEsIGVhc2U6IFBvd2VyMi5lYXNlT3V0IH0pO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdoaWRlJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGhpZGUoKSB7fVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnZHJhdycsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBkcmF3KCkge1xuICAgICAgICAgICAgdmFyIF9TaGFwZUNvbnRyb2xsZXIkZ2V0ID0gX1NoYXBlQ29udHJvbGxlcjIuZGVmYXVsdC5nZXQoKSxcbiAgICAgICAgICAgICAgICBtMSA9IF9TaGFwZUNvbnRyb2xsZXIkZ2V0Lm0xLFxuICAgICAgICAgICAgICAgIG4xMSA9IF9TaGFwZUNvbnRyb2xsZXIkZ2V0Lm4xMSxcbiAgICAgICAgICAgICAgICBuMjEgPSBfU2hhcGVDb250cm9sbGVyJGdldC5uMjEsXG4gICAgICAgICAgICAgICAgbjMxID0gX1NoYXBlQ29udHJvbGxlciRnZXQubjMxLFxuICAgICAgICAgICAgICAgIG0yID0gX1NoYXBlQ29udHJvbGxlciRnZXQubTIsXG4gICAgICAgICAgICAgICAgbjEyID0gX1NoYXBlQ29udHJvbGxlciRnZXQubjEyLFxuICAgICAgICAgICAgICAgIG4yMiA9IF9TaGFwZUNvbnRyb2xsZXIkZ2V0Lm4yMixcbiAgICAgICAgICAgICAgICBuMzIgPSBfU2hhcGVDb250cm9sbGVyJGdldC5uMzI7XG5cbiAgICAgICAgICAgIHZhciBzdGVwID0gMC4wNTtcbiAgICAgICAgICAgIHZhciBsMSA9IHBhcnNlSW50KDIgKiBNYXRoLlBJIC8gc3RlcCArIDEuMzQ2Mik7XG4gICAgICAgICAgICB2YXIgbDIgPSBwYXJzZUludChNYXRoLlBJIC8gc3RlcCArIDEuNSk7XG4gICAgICAgICAgICB2YXIgdkluZGV4ID0gMDtcblxuICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIHZlcnRpY2VzXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGwxOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgdGhldGEgPSAtTWF0aC5QSSArIGkgKiBzdGVwO1xuICAgICAgICAgICAgICAgIHZhciByMSA9IHRoaXMuc3VwZXJzaGFwZSh0aGV0YSwgbTEsIG4xMSwgbjIxLCBuMzEsIDEsIDEpO1xuXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBsMjsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwaGkgPSAtTWF0aC5QSSAvIDIgKyBqICogc3RlcDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHIyID0gdGhpcy5zdXBlcnNoYXBlKHBoaSwgbTIsIG4xMiwgbjIyLCBuMzIsIDEsIDEpO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciB4ID0gcjEgKiBNYXRoLmNvcyh0aGV0YSkgKiByMiAqIE1hdGguY29zKHBoaSkgKiB0aGlzLnJhZGl1cztcbiAgICAgICAgICAgICAgICAgICAgdmFyIHkgPSByMSAqIE1hdGguc2luKHRoZXRhKSAqIHIyICogTWF0aC5jb3MocGhpKSAqIHRoaXMucmFkaXVzO1xuICAgICAgICAgICAgICAgICAgICB2YXIgeiA9IHIyICogTWF0aC5zaW4ocGhpKSAqIHRoaXMucmFkaXVzO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2VvbWV0cnkudmVydGljZXNbdkluZGV4XS5zZXQoeCwgeSwgeik7XG4gICAgICAgICAgICAgICAgICAgIHZJbmRleCsrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5nZW9tZXRyeS5jb21wdXRlRmFjZU5vcm1hbHMoKTtcbiAgICAgICAgICAgIHRoaXMuZ2VvbWV0cnkuY29tcHV0ZVZlcnRleE5vcm1hbHMoKTtcbiAgICAgICAgICAgIHRoaXMuZ2VvbWV0cnkudmVydGljZXNOZWVkVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnb25QYWxldHRlQ2hhbmdlJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uUGFsZXR0ZUNoYW5nZShwYWxldHRlKSB7XG4gICAgICAgICAgICB0aGlzLm1hdGVyaWFsLnVuaWZvcm1zLmNvbG9yMS52YWx1ZSA9IG5ldyBUSFJFRS5Db2xvcihwYWxldHRlLnNoYXBlWzBdKTtcbiAgICAgICAgICAgIHRoaXMubWF0ZXJpYWwudW5pZm9ybXMuY29sb3IyLnZhbHVlID0gbmV3IFRIUkVFLkNvbG9yKHBhbGV0dGUuc2hhcGVbMV0pO1xuICAgICAgICAgICAgdGhpcy5tYXRlcmlhbC51bmlmb3Jtcy5jb2xvcjMudmFsdWUgPSBuZXcgVEhSRUUuQ29sb3IocGFsZXR0ZS5zaGFwZVsyXSk7XG4gICAgICAgICAgICB0aGlzLm1hdGVyaWFsLnVuaWZvcm1zLmNvbG9yNC52YWx1ZSA9IG5ldyBUSFJFRS5Db2xvcihwYWxldHRlLnNoYXBlWzNdKTtcbiAgICAgICAgICAgIHRoaXMubWF0ZXJpYWwudW5pZm9ybXMuY29sb3I1LnZhbHVlID0gbmV3IFRIUkVFLkNvbG9yKHBhbGV0dGUuc2hhcGVbNF0pO1xuXG4gICAgICAgICAgICB0aGlzLm91dGxpbmVNYXRlcmlhbC51bmlmb3Jtcy51X2NvbG9yLnZhbHVlID0gbmV3IFRIUkVFLkNvbG9yKHBhbGV0dGUub3V0bGluZSk7XG4gICAgICAgICAgICB0aGlzLnRoaW5PdXRsaW5lTWF0ZXJpYWwudW5pZm9ybXMudV9jb2xvci52YWx1ZSA9IG5ldyBUSFJFRS5Db2xvcihwYWxldHRlLnRoaW5PdXRsaW5lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTdXBlciBzaGFwZSBmdW5jdGlvbiBcXG8vXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZXR1cm4gcmFkaXVzXG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdzdXBlcnNoYXBlJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHN1cGVyc2hhcGUodGhldGEsIG0sIG4xLCBuMiwgbjMsIGEsIGIpIHtcbiAgICAgICAgICAgIHZhciB0MSA9IE1hdGguYWJzKDEuMCAvIGEgKiBNYXRoLmNvcyhtICogdGhldGEgLyA0LjApKTtcbiAgICAgICAgICAgIHQxID0gTWF0aC5wb3codDEsIG4yKTtcblxuICAgICAgICAgICAgdmFyIHQyID0gTWF0aC5hYnMoMS4wIC8gYiAqIE1hdGguc2luKG0gKiB0aGV0YSAvIDQuMCkpO1xuICAgICAgICAgICAgdDIgPSBNYXRoLnBvdyh0MiwgbjMpO1xuXG4gICAgICAgICAgICB2YXIgdDMgPSB0MSArIHQyO1xuXG4gICAgICAgICAgICB2YXIgciA9IE1hdGgucG93KHQzLCAtMS4wIC8gbjEpO1xuXG4gICAgICAgICAgICByZXR1cm4gcjtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAndXBkYXRlJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZSgpIHtcbiAgICAgICAgICAgIC8vIFJvdGF0ZSBzaGFwZVxuICAgICAgICAgICAgdGhpcy5yb3RhdGlvbi54ICs9IDAuMDAxO1xuICAgICAgICAgICAgdGhpcy5yb3RhdGlvbi55ICs9IDAuMDA1O1xuICAgICAgICAgICAgdGhpcy5yb3RhdGlvbi56ICs9IDAuMDA4O1xuXG4gICAgICAgICAgICAvLyBSZWRyYXcgc2hhcGUgd2l0aCBuZXcgdmFsdWVzXG4gICAgICAgICAgICBpZiAoIXdpbmRvdy52alBsYXlpbmcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBTdXBlcnNoYXBlO1xufShUSFJFRS5PYmplY3QzRCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFN1cGVyc2hhcGU7XG5cbn0se1wiLi4vY29udHJvbGxlcnMvU2hhcGVDb250cm9sbGVyXCI6MzksXCIuLi9ldmVudHMvRXZlbnRzXCI6NDAsXCIuLi9ldmVudHMvRXZlbnRzTWFuYWdlclwiOjQxLFwiZ2xzbGlmeVwiOjl9XSwzNTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5tb2R1bGUuZXhwb3J0cz1bW1wiIzY5RDJFN1wiLFwiI0E3REJEOFwiLFwiI0UwRTRDQ1wiLFwiI0YzODYzMFwiLFwiI0ZBNjkwMFwiXSwgW1wiI0ZFNDM2NVwiLFwiI0ZDOUQ5QVwiLFwiI0Y5Q0RBRFwiLFwiI0M4QzhBOVwiLFwiIzgzQUY5QlwiXSwgW1wiI0VGRUVDQ1wiLFwiI0ZFOEIwNVwiLFwiI0ZFMDU1N1wiLFwiIzQwMDQwM1wiLFwiIzBBQUJCQVwiXSwgW1wiI0FBRkYwMFwiLFwiI0ZGQUEwMFwiLFwiI0ZGMDBBQVwiLFwiI0FBMDBGRlwiLFwiIzAwQUFGRlwiXSwgW1wiI0VDRDA3OFwiLFwiI0Q5NUI0M1wiLFwiI0MwMjk0MlwiLFwiIzU0MjQzN1wiLFwiIzUzNzc3QVwiXSwgW1wiI0U4RERDQlwiLFwiI0NEQjM4MFwiLFwiIzAzNjU2NFwiLFwiIzAzMzY0OVwiLFwiIzAzMTYzNFwiXSwgW1wiIzQ5MEEzRFwiLFwiI0JEMTU1MFwiLFwiI0U5N0YwMlwiLFwiI0Y4Q0EwMFwiLFwiIzhBOUIwRlwiXSwgW1wiIzU5NEY0RlwiLFwiIzU0Nzk4MFwiLFwiIzQ1QURBOFwiLFwiIzlERTBBRFwiLFwiI0U1RkNDMlwiXSwgW1wiIzAwQTBCMFwiLFwiIzZBNEEzQ1wiLFwiI0NDMzMzRlwiLFwiI0VCNjg0MVwiLFwiI0VEQzk1MVwiXSwgW1wiI0U5NEU3N1wiLFwiI0Q2ODE4OVwiLFwiI0M2QTQ5QVwiLFwiI0M2RTVEOVwiLFwiI0Y0RUFENVwiXSwgW1wiI0Q5Q0VCMlwiLFwiIzk0OEM3NVwiLFwiI0Q1REVEOVwiLFwiIzdBNkE1M1wiLFwiIzk5QjJCN1wiXSwgW1wiI0VGRkZDRFwiLFwiI0RDRTlCRVwiLFwiIzU1NTE1MlwiLFwiIzJFMjYzM1wiLFwiIzk5MTczQ1wiXSwgW1wiIzNGQjhBRlwiLFwiIzdGQzdBRlwiLFwiI0RBRDhBN1wiLFwiI0ZGOUU5RFwiLFwiI0ZGM0Q3RlwiXSwgW1wiIzQxM0U0QVwiLFwiIzczNjI2RVwiLFwiI0IzODE4NFwiLFwiI0YwQjQ5RVwiLFwiI0Y3RTRCRVwiXSwgW1wiIzk5Qjg5OFwiLFwiI0ZFQ0VBOFwiLFwiI0ZGODQ3Q1wiLFwiI0U4NEE1RlwiLFwiIzJBMzYzQlwiXSwgW1wiI0ZGNEU1MFwiLFwiI0ZDOTEzQVwiLFwiI0Y5RDQyM1wiLFwiI0VERTU3NFwiLFwiI0UxRjVDNFwiXSwgW1wiIzM1MTMzMFwiLFwiIzQyNDI1NFwiLFwiIzY0OTA4QVwiLFwiI0U4Q0FBNFwiLFwiI0NDMkE0MVwiXSwgW1wiIzY1NTY0M1wiLFwiIzgwQkNBM1wiLFwiI0Y2RjdCRFwiLFwiI0U2QUMyN1wiLFwiI0JGNEQyOFwiXSwgW1wiI0ZBRDA4OVwiLFwiI0ZGOUM1QlwiLFwiI0Y1NjM0QVwiLFwiI0VEMzAzQ1wiLFwiIzNCODE4M1wiXSwgW1wiI0ZGOTkwMFwiLFwiIzQyNDI0MlwiLFwiI0U5RTlFOVwiLFwiI0JDQkNCQ1wiLFwiIzMyOTlCQlwiXSwgW1wiI0VFRTZBQlwiLFwiI0M1QkM4RVwiLFwiIzY5Njc1OFwiLFwiIzQ1NDg0QlwiLFwiIzM2MzkzQlwiXSwgW1wiI0Y4QjE5NVwiLFwiI0Y2NzI4MFwiLFwiI0MwNkM4NFwiLFwiIzZDNUI3QlwiLFwiIzM1NUM3RFwiXSxcbltcIiNGMDQxNTVcIixcIiNGRjgyM0FcIixcIiNGMkYyNkZcIixcIiNGRkY3QkRcIixcIiM5NUNGQjdcIl0sIFtcIiNGMEQ4QThcIixcIiMzRDFDMDBcIixcIiM4NkI4QjFcIixcIiNGMkQ2OTRcIixcIiNGQTJBMDBcIl0sIFtcIiNFOEQ1QjdcIixcIiMwRTI0MzBcIixcIiNGQzNBNTFcIixcIiNGNUIzNDlcIixcIiNFOEQ1QjlcIl0sIFtcIiNBQjUyNkJcIixcIiNCQ0EyOTdcIixcIiNDNUNFQUVcIixcIiNGMEUyQTRcIixcIiNGNEVCQzNcIl0sIFtcIiM2MDc4NDhcIixcIiM3ODkwNDhcIixcIiNDMEQ4NjBcIixcIiNGMEYwRDhcIixcIiM2MDQ4NDhcIl0sIFtcIiMxQzIxMzBcIixcIiMwMjhGNzZcIixcIiNCM0UwOTlcIixcIiNGRkVBQURcIixcIiNEMTQzMzRcIl0sIFtcIiNBOEU2Q0VcIixcIiNEQ0VEQzJcIixcIiNGRkQzQjVcIixcIiNGRkFBQTZcIixcIiNGRjhDOTRcIl0sIFtcIiNGQzM1NENcIixcIiMyOTIyMUZcIixcIiMxMzc0N0RcIixcIiMwQUJGQkNcIixcIiNGQ0Y3QzVcIl0sIFtcIiNCOUQzQjBcIixcIiM4MUJEQTRcIixcIiNCMjg3NzRcIixcIiNGODhGNzlcIixcIiNGNkFBOTNcIl0sIFtcIiMyMzBGMkJcIixcIiNGMjFENDFcIixcIiNFQkVCQkNcIixcIiNCQ0UzQzVcIixcIiM4MkIzQUVcIl0sIFtcIiM0RTM5NURcIixcIiM4MjcwODVcIixcIiM4RUJFOTRcIixcIiNDQ0ZDOEVcIixcIiNEQzVCM0VcIl0sIFtcIiNEQUQ2Q0FcIixcIiMxQkIwQ0VcIixcIiM0Rjg2OTlcIixcIiM2QTVFNzJcIixcIiM1NjM0NDRcIl0sIFtcIiNEMTMxM0RcIixcIiNFNTYyNUNcIixcIiNGOUJGNzZcIixcIiM4RUIyQzVcIixcIiM2MTUzNzVcIl0sIFtcIiM4RENDQURcIixcIiM5ODg4NjRcIixcIiNGRUE2QTJcIixcIiNGOUQ2QUNcIixcIiNGRkU5QUZcIl0sIFtcIiNDRkZGRERcIixcIiNCNERFQzFcIixcIiM1QzU4NjNcIixcIiNBODUxNjNcIixcIiNGRjFGNENcIl0sIFtcIiMzODJGMzJcIixcIiNGRkVBRjJcIixcIiNGQ0Q5RTVcIixcIiNGQkM1RDhcIixcIiNGMTM5NkRcIl0sIFtcIiNCNkQ4QzBcIixcIiNDOEQ5QkZcIixcIiNEQURBQkRcIixcIiNFQ0RCQkNcIixcIiNGRURDQkFcIl0sIFtcIiNBN0M1QkRcIixcIiNFNUREQ0JcIixcIiNFQjdCNTlcIixcIiNDRjQ2NDdcIixcIiM1MjQ2NTZcIl0sIFtcIiNGRkVEQkZcIixcIiNGNzgwM0NcIixcIiNGNTQ4MjhcIixcIiMyRTBEMjNcIixcIiNGOEU0QzFcIl0sIFtcIiNDMUIzOThcIixcIiM2MDU5NTFcIixcIiNGQkVFQzJcIixcIiM2MUE2QUJcIixcIiNBQ0NFQzBcIl0sIFtcIiNGRkZCQjdcIixcIiNBNkY2QUZcIixcIiM2NkI2QUJcIixcIiM1QjdDOERcIixcIiM0RjI5NThcIl0sIFtcIiNFRkYzQ0RcIixcIiNCMkQ1QkFcIixcIiM2MUFEQTBcIixcIiMyNDhGOERcIixcIiM2MDUwNjNcIl0sIFtcIiNGQ0ZFRjVcIixcIiNFOUZGRTFcIixcIiNDRENGQjdcIixcIiNENkU2QzNcIixcIiNGQUZCRTNcIl0sIFtcIiMwQ0E1QjBcIixcIiM0RTNGMzBcIixcIiNGRUZFRUJcIixcIiNGOEY0RTRcIixcIiNBNUIzQUFcIl0sIFtcIiNGRkUxODFcIixcIiNFRUU5RTVcIixcIiNGQUQzQjJcIixcIiNGRkJBN0ZcIixcIiNGRjlDOTdcIl0sIFtcIiNBNzAyNjdcIixcIiNGMTBDNDlcIixcIiNGQjZCNDFcIixcIiNGNkQ4NkJcIixcIiMzMzkxOTRcIl0sIFtcIiMyRDJEMjlcIixcIiMyMTVBNkRcIixcIiMzQ0EyQTJcIixcIiM5MkM3QTNcIixcIiNERkVDRTZcIl0sIFtcIiNGMzhBOEFcIixcIiM1NTQ0M0RcIixcIiNBMENBQjVcIixcIiNDREU5Q0FcIixcIiNGMUVERDBcIl0sIFtcIiNGOEVERDFcIixcIiNEODhBOEFcIixcIiM0NzQ4NDNcIixcIiM5RDlEOTNcIixcIiNDNUNGQzZcIl0sIFtcIiMxQjMyNUZcIixcIiM5Q0M0RTRcIixcIiNFOUYyRjlcIixcIiMzQTg5QzlcIixcIiNGMjZDNEZcIl0sIFtcIiNCRUQ2QzdcIixcIiNBREMwQjRcIixcIiM4QTdFNjZcIixcIiNBNzlCODNcIixcIiNCQkIyQTFcIl0sIFtcIiM4MjgzN0VcIixcIiM5NEIwNTNcIixcIiNCREVCMDdcIixcIiNCRkZBMzdcIixcIiNFMEUwRTBcIl0sIFtcIiMzMTI3MzZcIixcIiNENDgzOEZcIixcIiNENkFCQjFcIixcIiNEOUQ5RDlcIixcIiNDNEZGRUJcIl0sIFtcIiNFNUVBQTRcIixcIiNBOEM0QTJcIixcIiM2OUE1QTRcIixcIiM2MTYzODJcIixcIiM2NjI0NUJcIl0sIFtcIiMzOTVBNEZcIixcIiM0MzIzMzBcIixcIiM4NTNDNDNcIixcIiNGMjVDNUVcIixcIiNGRkE1NjZcIl0sIFtcIiNGREZGRDlcIixcIiNGRkYwQjhcIixcIiNGRkQ2QTNcIixcIiNGQUFEOEVcIixcIiMxNDJGMzBcIl0sIFtcIiNGQkM1OTlcIixcIiNDREJCOTNcIixcIiM5RUFFOEFcIixcIiMzMzU2NTBcIixcIiNGMzVGNTVcIl0sIFtcIiNDN0ZDRDdcIixcIiNEOUQ1QTdcIixcIiNEOUFCOTFcIixcIiNFNjg2N0FcIixcIiNFRDRBNkFcIl0sIFtcIiNGRkVGRDNcIixcIiNGRkZFRTRcIixcIiNEMEVDRUFcIixcIiM5RkQ2RDJcIixcIiM4QjdBNUVcIl0sIFtcIiNGMTM5NkRcIixcIiNGRDYwODFcIixcIiNGM0ZGRUJcIixcIiNBQ0M5NUZcIixcIiM4Rjk5MjRcIl0sIFtcIiNGMkUzQzZcIixcIiNGRkM2QTVcIixcIiNFNjMyNEJcIixcIiMyQjJCMkJcIixcIiMzNTM2MzRcIl0sIFtcIiM1OUIzOTBcIixcIiNGMEREQUFcIixcIiNFNDdDNURcIixcIiNFMzJENDBcIixcIiMxNTJCM0NcIl0sIFtcIiM1MTJCNTJcIixcIiM2MzUyNzRcIixcIiM3QkIwQThcIixcIiNBN0RCQUJcIixcIiNFNEY1QjFcIl0sIFtcIiNFNjU1NDBcIixcIiNGOEVDQzJcIixcIiM2NUE4QTZcIixcIiM3OTg5NkRcIixcIiNGRkZGRkZcIl0sIFtcIiNDQUZGNDJcIixcIiNFQkY3RjhcIixcIiNEMEUwRUJcIixcIiM4OEFCQzJcIixcIiM0OTcwOEFcIl0sIFtcIiNFNERFRDBcIixcIiNBQkNDQkRcIixcIiM3REJFQjhcIixcIiMxODE2MTlcIixcIiNFMzJGMjFcIl0sIFtcIiMwNTg3ODlcIixcIiM1MDNEMkVcIixcIiNENTRCMUFcIixcIiNFM0E3MkZcIixcIiNGMEVDQzlcIl0sIFtcIiNFRkQ5QjRcIixcIiNENkE2OTJcIixcIiNBMzkwODFcIixcIiM0RDYxNjBcIixcIiMyOTI1MjJcIl0sIFtcIiNDQzVENENcIixcIiNGRkZFQzZcIixcIiNDN0QxQUZcIixcIiM5NkI0OUNcIixcIiM1QjU4NDdcIl0sIFtcIiNFMEVGRjFcIixcIiM3REI0QjVcIixcIiNGRkZGRkZcIixcIiM2ODAxNDhcIixcIiMwMDAwMDBcIl0sIFtcIiMyRDFCMzNcIixcIiNGMzZBNzFcIixcIiNFRTg4N0FcIixcIiNFNEUzOTFcIixcIiM5QUJDOEFcIl0sIFtcIiMzNjA3NDVcIixcIiNENjFDNTlcIixcIiNFN0Q4NEJcIixcIiNFRkVBQzVcIixcIiMxQjg3OThcIl0sIFtcIiNFM0U4Q0RcIixcIiNCQ0Q4QkZcIixcIiNEM0I5QTNcIixcIiNFRTlDOTJcIixcIiNGRTg1N0VcIl0sIFtcIiNGQzI4NEZcIixcIiNGRjgyNEFcIixcIiNGRUE4ODdcIixcIiNGNkU3RjdcIixcIiNEMUQwRDdcIl0sIFtcIiNGRkI4ODRcIixcIiNGNURGOThcIixcIiNGRkY4RDRcIixcIiNDMEQxQzJcIixcIiMyRTQzNDdcIl0sIFtcIiM4MEE4QThcIixcIiM5MDlEOUVcIixcIiNBODhDOENcIixcIiNGRjBENTFcIixcIiM3QThDODlcIl0sIFtcIiNBMURCQjJcIixcIiNGRUU1QURcIixcIiNGQUNBNjZcIixcIiNGN0E1NDFcIixcIiNGNDVENENcIl0sIFtcIiM2NDFGNUVcIixcIiM2NzYwNzdcIixcIiM2NUFDOTJcIixcIiNDMkMwOTJcIixcIiNFREQ0OEVcIl0sIFtcIiNGRkYzREJcIixcIiNFN0U0RDVcIixcIiNEM0M4QjRcIixcIiNDODQ2NDhcIixcIiM3MDNFM0JcIl0sIFtcIiNENEY3RENcIixcIiNEQkU3QjRcIixcIiNEQkMwOTJcIixcIiNFMDg0NkRcIixcIiNGNTE0NDFcIl0sIFtcIiM4NTg0N0VcIixcIiNBQjZBNkVcIixcIiNGNzM0NUJcIixcIiMzNTMxMzBcIixcIiNDQkNGQjRcIl0sIFtcIiNFNkIzOUFcIixcIiNFNkNCQTVcIixcIiNFREUzQjRcIixcIiM4QjlFOUJcIixcIiM2RDc1NzhcIl0sIFtcIiMyMzE5MkRcIixcIiNGRDBBNTRcIixcIiNGNTc1NzZcIixcIiNGRUJGOTdcIixcIiNGNUVDQjdcIl0sIFtcIiM0NTJFM0NcIixcIiNGRjNENUFcIixcIiNGRkI5NjlcIixcIiNFQUYyN0VcIixcIiMzQjhDODhcIl0sIFtcIiMwNDExMjJcIixcIiMyNTkwNzNcIixcIiM3RkRBODlcIixcIiNDOEU5OEVcIixcIiNFNkY5OURcIl0sIFtcIiNCMUU2RDFcIixcIiM3N0IxQTlcIixcIiMzRDdCODBcIixcIiMyNzBBMzNcIixcIiM0NTFBM0VcIl0sIFtcIiM5RDlFOTRcIixcIiNDOTlFOTNcIixcIiNGNTlEOTJcIixcIiNFNUI4QURcIixcIiNENUQyQzhcIl0sIFtcIiNGRENGQkZcIixcIiNGRUI4OUZcIixcIiNFMjNENzVcIixcIiM1RjBEM0JcIixcIiM3NDIzNjVcIl0sIFtcIiNCN0NCQkZcIixcIiM4Qzg4NkZcIixcIiNGOUE3OTlcIixcIiNGNEJGQURcIixcIiNGNURBQkRcIl0sIFtcIiNGMEZGQzlcIixcIiNBOURBODhcIixcIiM2Mjk5N0FcIixcIiM3MjI0M0RcIixcIiMzQjA4MTlcIl0sIFtcIiM0MjkzOThcIixcIiM2QjVENERcIixcIiNCMEExOEZcIixcIiNERkNEQjRcIixcIiNGQkVFRDNcIl0sIFtcIiNFNkVCQTlcIixcIiNBQkJCOUZcIixcIiM2RjhCOTRcIixcIiM3MDY0ODJcIixcIiM3MDNENkZcIl0sIFtcIiM0NDc0OURcIixcIiNDNkQ0RTFcIixcIiNGRkZGRkZcIixcIiNFQkU3RTBcIixcIiNCREI4QURcIl0sIFtcIiNGQTZBNjRcIixcIiM3QTRFNDhcIixcIiM0QTQwMzFcIixcIiNGNkUyQkJcIixcIiM5RUM2QjhcIl0sIFtcIiNGNkQ3NkJcIixcIiNGRjkwMzZcIixcIiNENjI1NERcIixcIiNGRjU0NzVcIixcIiNGREVCQTlcIl0sIFtcIiNFN0VERUFcIixcIiNGRkM1MkNcIixcIiNGQjBDMDZcIixcIiMwMzBENEZcIixcIiNDRUVDRUZcIl0sIFtcIiM4RDc5NjZcIixcIiNBOEEzOURcIixcIiNEOEM4QjhcIixcIiNFMkRERDlcIixcIiNGOEYxRTlcIl0sIFtcIiNGMkU4QzRcIixcIiM5OEQ5QjZcIixcIiMzRUM5QTdcIixcIiMyQjg3OUVcIixcIiM2MTY2NjhcIl0sIFtcIiM1Q0FDQzRcIixcIiM4Q0QxOURcIixcIiNDRUU4NzlcIixcIiNGQ0I2NTNcIixcIiNGRjUyNTRcIl1dXG59LHt9XSwzNjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuLyoqXG4gKiBNT05PR1JJRCBERVZYIFhQXG4gKlxuICogY29sb3JQYWxldHRlc1xuICovXG5cbnZhciBjb2xvclBhbGV0dGVzID0gW3tcbiAgICBiYWNrZ3JvdW5kOiAweDE2MTYxNixcbiAgICBvdXRsaW5lOiAweDAwMDAwMCxcbiAgICB0aGluT3V0bGluZTogMHhmZjM4MzEsXG4gICAgc2hhcGU6IFsweGZmMzgzMSwgMHhmZWUxMTcsIDB4MTZhMDQxLCAweDAyM2Q2NSwgMHgxNjE2MTZdXG59LCB7XG4gICAgYmFja2dyb3VuZDogMHhhZjEzNTksXG4gICAgb3V0bGluZTogMHgxNjE2MTYsXG4gICAgdGhpbk91dGxpbmU6IDB4ZmYwZTE0LFxuICAgIHNoYXBlOiBbMHhmZmFkMzIsIDB4ODUxMDdhLCAweDE2MTYxNiwgMHhmZmZmNDQsIDB4ZmZhZDMyXVxufSwge1xuICAgIGJhY2tncm91bmQ6IDB4MTIxNDNkLFxuICAgIG91dGxpbmU6IDB4MTYxNjE2LFxuICAgIHRoaW5PdXRsaW5lOiAweDhiMjdjNCxcbiAgICBzaGFwZTogWzB4ZmZhZDMyLCAweGZmZjljMCwgMHgxNjE2MTYsIDB4MWFmYWM2LCAweDBkMWU3MV1cbn1dO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBjb2xvclBhbGV0dGVzO1xuXG59LHt9XSwzNzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4ndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfRXZlbnRzTWFuYWdlciA9IHJlcXVpcmUoJy4uL2V2ZW50cy9FdmVudHNNYW5hZ2VyJyk7XG5cbnZhciBfRXZlbnRzTWFuYWdlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9FdmVudHNNYW5hZ2VyKTtcblxudmFyIF9FdmVudHMgPSByZXF1aXJlKCcuLi9ldmVudHMvRXZlbnRzJyk7XG5cbnZhciBfRXZlbnRzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0V2ZW50cyk7XG5cbnZhciBfVXRpbHMgPSByZXF1aXJlKCcuLi91dGlsL1V0aWxzJyk7XG5cbnZhciBfVXRpbHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVXRpbHMpO1xuXG52YXIgX2NvbG9yc1BhbGV0dGUgPSByZXF1aXJlKCcuLi9jb2xvcnMvY29sb3JzUGFsZXR0ZScpO1xuXG52YXIgX2NvbG9yc1BhbGV0dGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29sb3JzUGFsZXR0ZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBFZmZlY3RDb250cm9sbGVyID0gZnVuY3Rpb24gKCkge1xuXHRmdW5jdGlvbiBFZmZlY3RDb250cm9sbGVyKCkge1xuXHRcdF9jbGFzc0NhbGxDaGVjayh0aGlzLCBFZmZlY3RDb250cm9sbGVyKTtcblxuXHRcdC8vIEJpbmRpbmdzXG5cdFx0dGhpcy5vbktleXByZXNzID0gdGhpcy5vbktleXByZXNzLmJpbmQodGhpcyk7XG5cblx0XHQvLyBQcm9wZXJ0aWVzXG5cdFx0dGhpcy5wYWxldHRlSW5kZXggPSAwO1xuXG5cdFx0Ly8gRXZlbnRzXG5cdFx0X0V2ZW50c01hbmFnZXIyLmRlZmF1bHQub24oX0V2ZW50czIuZGVmYXVsdC5LRVlQUkVTUywgdGhpcy5vbktleXByZXNzKTtcblx0fVxuXG5cdF9jcmVhdGVDbGFzcyhFZmZlY3RDb250cm9sbGVyLCBbe1xuXHRcdGtleTogJ29uS2V5cHJlc3MnLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBvbktleXByZXNzKGtleSkge1xuXHRcdFx0c3dpdGNoIChrZXkpIHtcblx0XHRcdFx0Y2FzZSAncSc6XG5cdFx0XHRcdFx0X0V2ZW50c01hbmFnZXIyLmRlZmF1bHQuZW1pdChfRXZlbnRzMi5kZWZhdWx0LlNQTElUX0VGRkVDVCwgMSk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAndyc6XG5cdFx0XHRcdFx0X0V2ZW50c01hbmFnZXIyLmRlZmF1bHQuZW1pdChfRXZlbnRzMi5kZWZhdWx0LlNQTElUX0VGRkVDVCwgMik7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAnZSc6XG5cdFx0XHRcdFx0X0V2ZW50c01hbmFnZXIyLmRlZmF1bHQuZW1pdChfRXZlbnRzMi5kZWZhdWx0LlNQTElUX0VGRkVDVCwgNCk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAncic6XG5cdFx0XHRcdFx0dmFyIHBhbGV0dGUgPSBfVXRpbHMyLmRlZmF1bHQuZ2V0UGFsZXR0ZSgpO1xuXHRcdFx0XHRcdF9FdmVudHNNYW5hZ2VyMi5kZWZhdWx0LmVtaXQoX0V2ZW50czIuZGVmYXVsdC5QQUxFVFRFX0NIQU5HRSwgcGFsZXR0ZSk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAndCc6XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAneSc6XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XSwgW3tcblx0XHRrZXk6ICdzdGFydCcsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIHN0YXJ0KCkge1xuXHRcdFx0aWYgKCFFZmZlY3RDb250cm9sbGVyLmluc3RhbmNlKSBFZmZlY3RDb250cm9sbGVyLmluc3RhbmNlID0gbmV3IEVmZmVjdENvbnRyb2xsZXIoKTtcblx0XHR9XG5cdH1dKTtcblxuXHRyZXR1cm4gRWZmZWN0Q29udHJvbGxlcjtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gRWZmZWN0Q29udHJvbGxlcjtcblxufSx7XCIuLi9jb2xvcnMvY29sb3JzUGFsZXR0ZVwiOjM2LFwiLi4vZXZlbnRzL0V2ZW50c1wiOjQwLFwiLi4vZXZlbnRzL0V2ZW50c01hbmFnZXJcIjo0MSxcIi4uL3V0aWwvVXRpbHNcIjo0Nn1dLDM4OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX0V2ZW50c01hbmFnZXIgPSByZXF1aXJlKCcuLi9ldmVudHMvRXZlbnRzTWFuYWdlcicpO1xuXG52YXIgX0V2ZW50c01hbmFnZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRXZlbnRzTWFuYWdlcik7XG5cbnZhciBfRXZlbnRzID0gcmVxdWlyZSgnLi4vZXZlbnRzL0V2ZW50cycpO1xuXG52YXIgX0V2ZW50czIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9FdmVudHMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIEtleWJvYXJkIENvbnRyb2xsZXJcbiAqL1xuXG52YXIgS2V5Ym9hcmRDb250cm9sbGVyID0gZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEtleWJvYXJkQ29udHJvbGxlcigpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEtleWJvYXJkQ29udHJvbGxlcik7XG5cbiAgICAgICAgLy8gQmluZGluZ3NcbiAgICAgICAgdGhpcy5vbktleXByZXNzID0gdGhpcy5vbktleXByZXNzLmJpbmQodGhpcyk7XG5cbiAgICAgICAgLy8gQ2hhcmFjdGVyc1xuICAgICAgICB0aGlzLmtleXMgPSB7XG4gICAgICAgICAgICAxMTM6ICdxJyxcbiAgICAgICAgICAgIDExOTogJ3cnLFxuICAgICAgICAgICAgMTAxOiAnZScsXG4gICAgICAgICAgICAxMTQ6ICdyJyxcbiAgICAgICAgICAgIDExNjogJ3QnLFxuICAgICAgICAgICAgMTIxOiAneScsXG4gICAgICAgICAgICAzMjogJ3NwYWNlYmFyJ1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIEV2ZW50c1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5cHJlc3MnLCB0aGlzLm9uS2V5cHJlc3MpO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhLZXlib2FyZENvbnRyb2xsZXIsIFt7XG4gICAgICAgIGtleTogJ29uS2V5cHJlc3MnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb25LZXlwcmVzcyhlKSB7XG4gICAgICAgICAgICBfRXZlbnRzTWFuYWdlcjIuZGVmYXVsdC5lbWl0KF9FdmVudHMyLmRlZmF1bHQuS0VZUFJFU1MsIHRoaXMua2V5c1tlLmtleUNvZGVdKTtcbiAgICAgICAgfVxuICAgIH1dLCBbe1xuICAgICAgICBrZXk6ICdzdGFydCcsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzdGFydCgpIHtcbiAgICAgICAgICAgIGlmICghS2V5Ym9hcmRDb250cm9sbGVyLmluc3RhbmNlKSBLZXlib2FyZENvbnRyb2xsZXIuaW5zdGFuY2UgPSBuZXcgS2V5Ym9hcmRDb250cm9sbGVyKCk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gS2V5Ym9hcmRDb250cm9sbGVyO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBLZXlib2FyZENvbnRyb2xsZXI7XG5cbn0se1wiLi4vZXZlbnRzL0V2ZW50c1wiOjQwLFwiLi4vZXZlbnRzL0V2ZW50c01hbmFnZXJcIjo0MX1dLDM5OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9SYWZNYW5hZ2VyID0gcmVxdWlyZSgnLi4vbWFuYWdlcnMvUmFmTWFuYWdlcicpO1xuXG52YXIgX1JhZk1hbmFnZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUmFmTWFuYWdlcik7XG5cbnZhciBfRXZlbnRzTWFuYWdlciA9IHJlcXVpcmUoJy4uL2V2ZW50cy9FdmVudHNNYW5hZ2VyJyk7XG5cbnZhciBfRXZlbnRzTWFuYWdlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9FdmVudHNNYW5hZ2VyKTtcblxudmFyIF9FdmVudHMgPSByZXF1aXJlKCcuLi9ldmVudHMvRXZlbnRzJyk7XG5cbnZhciBfRXZlbnRzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0V2ZW50cyk7XG5cbnZhciBfU2ltcGxlMUROb2lzZSA9IHJlcXVpcmUoJy4uL3V0aWwvU2ltcGxlMUROb2lzZScpO1xuXG52YXIgX1NpbXBsZTFETm9pc2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU2ltcGxlMUROb2lzZSk7XG5cbnZhciBfVXRpbHMgPSByZXF1aXJlKCcuLi91dGlsL1V0aWxzJyk7XG5cbnZhciBfVXRpbHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVXRpbHMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgbm9pc2UgPSBuZXcgX1NpbXBsZTFETm9pc2UyLmRlZmF1bHQoKTtcblxudmFyIFNoYXBlQ29udHJvbGxlciA9IGZ1bmN0aW9uICgpIHtcblx0ZnVuY3Rpb24gU2hhcGVDb250cm9sbGVyKCkge1xuXHRcdF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTaGFwZUNvbnRyb2xsZXIpO1xuXG5cdFx0Ly8gUHJvcHNcblx0XHR0aGlzLm0xID0gMDtcblx0XHR0aGlzLm4xMSA9IDA7XG5cdFx0dGhpcy5uMjEgPSAwO1xuXHRcdHRoaXMubjMxID0gMDtcblx0XHR0aGlzLm0yID0gMDtcblx0XHR0aGlzLm4xMiA9IDA7XG5cdFx0dGhpcy5uMjIgPSAwO1xuXHRcdHRoaXMubjMyID0gMDtcblx0XHR0aGlzLnNtb290aE0xID0gMDtcblx0XHR0aGlzLnNtb290aE4xMSA9IDA7XG5cdFx0dGhpcy5zbW9vdGhOMjEgPSAwO1xuXHRcdHRoaXMuc21vb3RoTjMxID0gMDtcblx0XHR0aGlzLnNtb290aE0yID0gMDtcblx0XHR0aGlzLnNtb290aE4xMiA9IDA7XG5cdFx0dGhpcy5zbW9vdGhOMjIgPSAwO1xuXHRcdHRoaXMuc21vb3RoTjMyID0gMDtcblx0XHR0aGlzLm1vdmluZ1RpbWUgPSAwO1xuXHRcdHRoaXMucGxheWluZyA9IGZhbHNlO1xuXHRcdHRoaXMucHJldk1vdXNlID0gbmV3IFRIUkVFLlZlY3RvcjIoKTtcblxuXHRcdC8vIEJpbmRpbmdzXG5cdFx0dGhpcy51cGRhdGUgPSB0aGlzLnVwZGF0ZS5iaW5kKHRoaXMpO1xuXHRcdHRoaXMub25IaWRlU2hhcGUgPSB0aGlzLm9uSGlkZVNoYXBlLmJpbmQodGhpcyk7XG5cblx0XHQvLyBSQUZcblx0XHRfUmFmTWFuYWdlcjIuZGVmYXVsdC5iaW5kKCdtb3VzZUNvbnRyb2xsZXInLCB0aGlzLnVwZGF0ZSk7XG5cdH1cblxuXHRfY3JlYXRlQ2xhc3MoU2hhcGVDb250cm9sbGVyLCBbe1xuXHRcdGtleTogJ29uSGlkZVNoYXBlJyxcblx0XHR2YWx1ZTogZnVuY3Rpb24gb25IaWRlU2hhcGUoKSB7XG5cdFx0XHR0aGlzLnBsYXlpbmcgPSBmYWxzZTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6ICd1cGRhdGUnLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiB1cGRhdGUoKSB7XG5cdFx0XHRpZiAod2luZG93Lm1vdXNlZG93bikge1xuXHRcdFx0XHRpZiAod2luZG93Lm1vdXNlLnggIT09IHRoaXMucHJldk1vdXNlLnggfHwgd2luZG93Lm1vdXNlLnkgIT09IHRoaXMucHJldk1vdXNlLnkpIHtcblx0XHRcdFx0XHR0aGlzLm1vdmluZ1RpbWUgKz0gMTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHRoaXMubTEgPSBfVXRpbHMyLmRlZmF1bHQubWFwKG5vaXNlLmdldFZhbCh0aGlzLm1vdmluZ1RpbWUgKiAwLjAyKSwgMCwgMSwgMC4xLCAxNSk7XG5cdFx0XHRcdHRoaXMubjExID0gX1V0aWxzMi5kZWZhdWx0Lm1hcChub2lzZS5nZXRWYWwoKHRoaXMubW92aW5nVGltZSArIDEwKSAqIDAuMDIpLCAwLCAxLCAwLjEsIDEwMCk7XG5cdFx0XHRcdHRoaXMubjIxID0gX1V0aWxzMi5kZWZhdWx0Lm1hcChub2lzZS5nZXRWYWwoKHRoaXMubW92aW5nVGltZSArIDIwKSAqIDAuMDIpLCAwLCAxLCAwLjEsIDEwMCk7XG5cdFx0XHRcdHRoaXMubjMxID0gX1V0aWxzMi5kZWZhdWx0Lm1hcChub2lzZS5nZXRWYWwoKHRoaXMubW92aW5nVGltZSArIDMwKSAqIDAuMDIpLCAwLCAxLCAwLjEsIDEwMCk7XG5cdFx0XHRcdHRoaXMubTIgPSBfVXRpbHMyLmRlZmF1bHQubWFwKG5vaXNlLmdldFZhbCgodGhpcy5tb3ZpbmdUaW1lICsgNDApICogMC4wMiksIDAsIDEsIDAuMSwgMTUpO1xuXHRcdFx0XHR0aGlzLm4xMiA9IF9VdGlsczIuZGVmYXVsdC5tYXAobm9pc2UuZ2V0VmFsKCh0aGlzLm1vdmluZ1RpbWUgKyA1MCkgKiAwLjAyKSwgMCwgMSwgMC4xLCAxMDApO1xuXHRcdFx0XHR0aGlzLm4yMiA9IF9VdGlsczIuZGVmYXVsdC5tYXAobm9pc2UuZ2V0VmFsKCh0aGlzLm1vdmluZ1RpbWUgKyA2MCkgKiAwLjAyKSwgMCwgMSwgMC4xLCAxMDApO1xuXHRcdFx0XHR0aGlzLm4zMiA9IF9VdGlsczIuZGVmYXVsdC5tYXAobm9pc2UuZ2V0VmFsKCh0aGlzLm1vdmluZ1RpbWUgKyA3MCkgKiAwLjAyKSwgMCwgMSwgMC4xLCAxMDApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTbW9vdGggdmFsdWVzXG5cdFx0XHR0aGlzLnNtb290aE0xICs9ICh0aGlzLm0xIC0gdGhpcy5zbW9vdGhNMSkgKiAwLjg7XG5cdFx0XHR0aGlzLnNtb290aE4xMSArPSAodGhpcy5uMTEgLSB0aGlzLnNtb290aE4xMSkgKiAwLjg7XG5cdFx0XHR0aGlzLnNtb290aE4yMSArPSAodGhpcy5uMjEgLSB0aGlzLnNtb290aE4yMSkgKiAwLjg7XG5cdFx0XHR0aGlzLnNtb290aE4zMSArPSAodGhpcy5uMzEgLSB0aGlzLnNtb290aE4zMSkgKiAwLjg7XG5cdFx0XHR0aGlzLnNtb290aE0yICs9ICh0aGlzLm0yIC0gdGhpcy5zbW9vdGhNMikgKiAwLjg7XG5cdFx0XHR0aGlzLnNtb290aE4xMiArPSAodGhpcy5uMTIgLSB0aGlzLnNtb290aE4xMikgKiAwLjg7XG5cdFx0XHR0aGlzLnNtb290aE4yMiArPSAodGhpcy5uMjIgLSB0aGlzLnNtb290aE4yMikgKiAwLjg7XG5cdFx0XHR0aGlzLnNtb290aE4zMiArPSAodGhpcy5uMzIgLSB0aGlzLnNtb290aE4zMikgKiAwLjg7XG5cblx0XHRcdHRoaXMucHJldk1vdXNlLnNldCh3aW5kb3cubW91c2UueCwgd2luZG93Lm1vdXNlLnkpO1xuXHRcdH1cblx0fV0sIFt7XG5cdFx0a2V5OiAnc3RhcnQnLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBzdGFydCgpIHtcblx0XHRcdGlmICghU2hhcGVDb250cm9sbGVyLmluc3RhbmNlKSBTaGFwZUNvbnRyb2xsZXIuaW5zdGFuY2UgPSBuZXcgU2hhcGVDb250cm9sbGVyKCk7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiAnZ2V0Jyxcblx0XHR2YWx1ZTogZnVuY3Rpb24gZ2V0KCkge1xuXHRcdFx0dmFyIGRhdGEgPSB7XG5cdFx0XHRcdG0xOiBTaGFwZUNvbnRyb2xsZXIuaW5zdGFuY2Uuc21vb3RoTTEudG9GaXhlZCgyKSxcblx0XHRcdFx0bjExOiBTaGFwZUNvbnRyb2xsZXIuaW5zdGFuY2Uuc21vb3RoTjExLnRvRml4ZWQoMiksXG5cdFx0XHRcdG4yMTogU2hhcGVDb250cm9sbGVyLmluc3RhbmNlLnNtb290aE4yMS50b0ZpeGVkKDIpLFxuXHRcdFx0XHRuMzE6IFNoYXBlQ29udHJvbGxlci5pbnN0YW5jZS5zbW9vdGhOMzEudG9GaXhlZCgyKSxcblx0XHRcdFx0bTI6IFNoYXBlQ29udHJvbGxlci5pbnN0YW5jZS5zbW9vdGhNMi50b0ZpeGVkKDIpLFxuXHRcdFx0XHRuMTI6IFNoYXBlQ29udHJvbGxlci5pbnN0YW5jZS5zbW9vdGhOMTIudG9GaXhlZCgyKSxcblx0XHRcdFx0bjIyOiBTaGFwZUNvbnRyb2xsZXIuaW5zdGFuY2Uuc21vb3RoTjIyLnRvRml4ZWQoMiksXG5cdFx0XHRcdG4zMjogU2hhcGVDb250cm9sbGVyLmluc3RhbmNlLnNtb290aE4zMi50b0ZpeGVkKDIpXG5cdFx0XHR9O1xuXG5cdFx0XHRyZXR1cm4gZGF0YTtcblx0XHR9XG5cdH1dKTtcblxuXHRyZXR1cm4gU2hhcGVDb250cm9sbGVyO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBTaGFwZUNvbnRyb2xsZXI7XG5cbn0se1wiLi4vZXZlbnRzL0V2ZW50c1wiOjQwLFwiLi4vZXZlbnRzL0V2ZW50c01hbmFnZXJcIjo0MSxcIi4uL21hbmFnZXJzL1JhZk1hbmFnZXJcIjo0MyxcIi4uL3V0aWwvU2ltcGxlMUROb2lzZVwiOjQ1LFwiLi4vdXRpbC9VdGlsc1wiOjQ2fV0sNDA6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG4vKipcbiAqIEUgViBFIE4gVCBTXG4gKi9cblxudmFyIEV2ZW50cyA9IHtcblxuICAgIC8vIEtleWJvYXJkXG4gICAgS0VZUFJFU1M6ICdjdXN0b21fa2V5cHJlc3MnLFxuXG4gICAgLy8gRWZmZWN0c1xuICAgIEVGRkVDVF9TUExJVDogJ2VmZmVjdF9zcGxpdCcsXG4gICAgRUZGRUNUX0NPTE9SOiAnZWZmZWN0X2NvbG9yJyxcblxuICAgIC8vIFZqaW5nXG4gICAgUFJFUEFSRV9WSklORzogJ3ByZXBhcmVfdmppbmcnLFxuICAgIFNUQVJUX1ZKSU5HOiAnc3RhcnRfdmppbmcnLFxuICAgIERJU1BMQVlfU0hBUEU6ICdkaXNwbGF5X3NoYXBlJyxcbiAgICBISURFX1NIQVBFOiAnaGlkZV9zaGFwZScsXG5cbiAgICAvLyBTb3VuZFxuICAgIFNPVU5EX0VOREVEOiAnc291bmRfZW5kZWQnLFxuXG4gICAgLy8gVUlcbiAgICBESVNQTEFZX1VJOiAnZGlzcGxheV91aScsXG5cbiAgICAvLyBNb3VzZVxuICAgIE1PVVNFX0RPV046ICdtb3VzZV9kb3duJyxcbiAgICBNT1VTRV9VUDogJ21vdXNlX3VwJyxcblxuICAgIC8vIFZqaW5nXG4gICAgUExBWV9FRkZFQ1Q6ICdwbGF5X2VmZmVjdCcsXG4gICAgU1BMSVRfRUZGRUNUOiAnc3BsaXRfZWZmZWN0JyxcbiAgICBSRVNVTUVfVkpJTkc6ICdyZXN1bWVfdmppbmcnLFxuICAgIFBBVVNFX1ZKSU5HOiAncGF1c2VfdmppbmcnLFxuXG4gICAgLy8gUGFsZXR0ZVxuICAgIFBBTEVUVEVfQ0hBTkdFOiAncGFsZXR0ZV9jaGFuZ2UnXG5cbn07XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEV2ZW50cztcblxufSx7fV0sNDE6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIEV2ZW50cyBNYW5hZ2VyXG4gKiBiYXNlZCBvbiBodHRwczovL2dpdGh1Yi5jb20vc2NvdHRjb3JnYW4vdGlueS1lbWl0dGVyL2Jsb2IvbWFzdGVyL2luZGV4LmpzXG4gKi9cblxudmFyIEV2ZW50c01hbmFnZXIgPSBmdW5jdGlvbiAoKSB7XG5cdGZ1bmN0aW9uIEV2ZW50c01hbmFnZXIoKSB7XG5cdFx0X2NsYXNzQ2FsbENoZWNrKHRoaXMsIEV2ZW50c01hbmFnZXIpO1xuXHR9XG5cblx0X2NyZWF0ZUNsYXNzKEV2ZW50c01hbmFnZXIsIG51bGwsIFt7XG5cdFx0a2V5OiAnZW1pdCcsXG5cblxuXHRcdC8qKlxuICAgKiBFbWl0IGV2ZW50XG4gICAqIEBwYXJhbSAge1N0cmluZ30gZXZlbnQgbmFtZVxuICAgKiBAcGFyYW0gIHtPYmplY3R9IGRhdGFcbiAgICovXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGVtaXQoZXZlbnQpIHtcblx0XHRcdHZhciBkYXRhID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBudWxsO1xuXG5cblx0XHRcdHZhciBsaXN0ZW5lcnMgPSBFdmVudHNNYW5hZ2VyLmV2ZW50c0xpc3RbZXZlbnRdO1xuXG5cdFx0XHRpZiAoIWxpc3RlbmVycykge1xuXHRcdFx0XHRjb25zb2xlLndhcm4oJ0V2ZW50c01hbmFnZXIgOjogRW1pdCA6OiBDdXJyZW50bHkgbm8gbGlzdGVuZXJzIGZvciB0aGlzIGV2ZW50IDogJywgZXZlbnQpO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGZvciAodmFyIGkgPSAwLCBsZW4gPSBsaXN0ZW5lcnMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcblx0XHRcdFx0bGlzdGVuZXJzW2ldLmZuKGRhdGEpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8qKlxuICAgKiBPbiBcbiAgICogQHBhcmFtICB7U3RyaW5nfSAgIGV2ZW50IG5hbWVcbiAgICogQHBhcmFtICB7RnVuY3Rpb259IGNhbGxiYWNrIGZ1bmN0aW9uXG4gICAqL1xuXG5cdH0sIHtcblx0XHRrZXk6ICdvbicsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIG9uKGV2ZW50LCBmbikge1xuXG5cdFx0XHRjb25zb2xlLmxvZygnRXZlbnRzTWFuYWdlciA6OiBPTiA6OicsIGV2ZW50KTtcblxuXHRcdFx0aWYgKCFFdmVudHNNYW5hZ2VyLmV2ZW50c0xpc3QpIEV2ZW50c01hbmFnZXIuZXZlbnRzTGlzdCA9IHt9O1xuXG5cdFx0XHRpZiAoIUV2ZW50c01hbmFnZXIuZXZlbnRzTGlzdFtldmVudF0pIEV2ZW50c01hbmFnZXIuZXZlbnRzTGlzdFtldmVudF0gPSBbXTsgLy8gaW1wcm92ZSAoLl8uKVxuXG5cdFx0XHRFdmVudHNNYW5hZ2VyLmV2ZW50c0xpc3RbZXZlbnRdLnB1c2goeyBmbjogZm4gfSk7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiAnb25jZScsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIG9uY2UoZXZlbnQsIGZuKSB7XG5cblx0XHRcdHZhciBsaXN0ZW5lciA9IGZ1bmN0aW9uIGxpc3RlbmVyKGRhdGEpIHtcblxuXHRcdFx0XHRFdmVudHNNYW5hZ2VyLm9mZihldmVudCwgbGlzdGVuZXIpO1xuXHRcdFx0XHRmbihkYXRhKTtcblx0XHRcdH07XG5cblx0XHRcdGxpc3RlbmVyLl8gPSBmbjtcblx0XHRcdEV2ZW50c01hbmFnZXIub24oZXZlbnQsIGxpc3RlbmVyKTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6ICdvZmYnLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBvZmYoZXZlbnQsIGZuKSB7XG5cblx0XHRcdHZhciBsaXN0ZW5lcnMgPSBFdmVudHNNYW5hZ2VyLmV2ZW50c0xpc3RbZXZlbnRdO1xuXG5cdFx0XHRpZiAoIWxpc3RlbmVycykge1xuXHRcdFx0XHRjb25zb2xlLndhcm4oJ0V2ZW50c01hbmFnZXIgOjogT2ZmIDo6IEN1cnJlbnRseSBubyBsaXN0ZW5lcnMgZm9yIHRoaXMgZXZlbnQgOiAnLCBldmVudCk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCFmbikge1xuXHRcdFx0XHRjb25zb2xlLndhcm4oJ0V2ZW50c01hbmFnZXIgOjogT2ZmIDo6IENhbGxiYWNrIGlzIHVuZGVmaW5lZCcpO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdHZhciB0YXJnZXRFdmVudHMgPSBbXTtcblxuXHRcdFx0Zm9yICh2YXIgaSA9IDAsIGxlbiA9IGxpc3RlbmVycy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuXG5cdFx0XHRcdHZhciB0YXJnZXQgPSBsaXN0ZW5lcnNbaV07XG5cblx0XHRcdFx0aWYgKHRhcmdldC5mbiAhPT0gZm4gJiYgdGFyZ2V0LmZuLl8gIT09IGZuKSB7XG5cdFx0XHRcdFx0Ly8gKC5fXy4pID8/XG5cdFx0XHRcdFx0dGFyZ2V0RXZlbnRzLnB1c2godGFyZ2V0KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRpZiAodGFyZ2V0RXZlbnRzLmxlbmd0aCA+IDApIEV2ZW50c01hbmFnZXIuZXZlbnRzTGlzdFtldmVudF0gPSB0YXJnZXRFdmVudHM7ZWxzZSBkZWxldGUgRXZlbnRzTWFuYWdlci5ldmVudHNMaXN0W2V2ZW50XTtcblx0XHR9XG5cdH1dKTtcblxuXHRyZXR1cm4gRXZlbnRzTWFuYWdlcjtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gRXZlbnRzTWFuYWdlcjtcblxufSx7fV0sNDI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfRXZlbnRzTWFuYWdlciA9IHJlcXVpcmUoJy4uL2V2ZW50cy9FdmVudHNNYW5hZ2VyJyk7XG5cbnZhciBfRXZlbnRzTWFuYWdlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9FdmVudHNNYW5hZ2VyKTtcblxudmFyIF9FdmVudHMgPSByZXF1aXJlKCcuLi9ldmVudHMvRXZlbnRzJyk7XG5cbnZhciBfRXZlbnRzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0V2ZW50cyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogSW50ZXJhY3Rpb24gTWFuYWdlclxuICovXG5cbnZhciBJbnRlcmFjdGlvbk1hbmFnZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gSW50ZXJhY3Rpb25NYW5hZ2VyKCkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSW50ZXJhY3Rpb25NYW5hZ2VyKTtcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoSW50ZXJhY3Rpb25NYW5hZ2VyLCBudWxsLCBbe1xuICAgICAgICBrZXk6ICdzdGFydCcsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzdGFydCgpIHtcbiAgICAgICAgICAgIC8vIFByb3BzXG4gICAgICAgICAgICB3aW5kb3cubW91c2UgPSBuZXcgVEhSRUUuVmVjdG9yMigpO1xuICAgICAgICAgICAgd2luZG93Lm1vdXNlZG93biA9IGZhbHNlO1xuXG4gICAgICAgICAgICAvLyBNb3ZlXG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgSW50ZXJhY3Rpb25NYW5hZ2VyLm9uTW91c2Vtb3ZlKTtcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCBJbnRlcmFjdGlvbk1hbmFnZXIub25Ub3VjaG1vdmUpO1xuXG4gICAgICAgICAgICAvLyBEb3duXG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgSW50ZXJhY3Rpb25NYW5hZ2VyLm9uTW91c2Vkb3duKTtcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgSW50ZXJhY3Rpb25NYW5hZ2VyLm9uTW91c2Vkb3duKTtcblxuICAgICAgICAgICAgLy8gVXBcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgSW50ZXJhY3Rpb25NYW5hZ2VyLm9uTW91c2V1cCk7XG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCBJbnRlcmFjdGlvbk1hbmFnZXIub25Nb3VzZXVwKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnb25Nb3VzZW1vdmUnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb25Nb3VzZW1vdmUoZSkge1xuICAgICAgICAgICAgd2luZG93Lm1vdXNlLnNldChlLmNsaWVudFgsIGUuY2xpZW50WSk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ29uVG91Y2htb3ZlJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uVG91Y2htb3ZlKGUpIHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHdpbmRvdy5tb3VzZS5zZXQoZS50b3VjaGVzWzBdLmNsaWVudFgsIGUudG91Y2hlc1swXS5jbGllbnRZKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnb25Nb3VzZWRvd24nLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb25Nb3VzZWRvd24oKSB7XG4gICAgICAgICAgICB3aW5kb3cubW91c2Vkb3duID0gdHJ1ZTtcbiAgICAgICAgICAgIF9FdmVudHNNYW5hZ2VyMi5kZWZhdWx0LmVtaXQoX0V2ZW50czIuZGVmYXVsdC5NT1VTRV9ET1dOKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnb25Nb3VzZXVwJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uTW91c2V1cCgpIHtcbiAgICAgICAgICAgIHdpbmRvdy5tb3VzZWRvd24gPSBmYWxzZTtcbiAgICAgICAgICAgIF9FdmVudHNNYW5hZ2VyMi5kZWZhdWx0LmVtaXQoX0V2ZW50czIuZGVmYXVsdC5NT1VTRV9VUCk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gSW50ZXJhY3Rpb25NYW5hZ2VyO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBJbnRlcmFjdGlvbk1hbmFnZXI7XG5cbn0se1wiLi4vZXZlbnRzL0V2ZW50c1wiOjQwLFwiLi4vZXZlbnRzL0V2ZW50c01hbmFnZXJcIjo0MX1dLDQzOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBSZXF1ZXN0IEFuaW1hdGlvbiBGcmFtZVxuICogTWFuYWdlclxuICpcbiAqIHYxLjBcbiAqL1xuXG52YXIgUmFmTWFuYWdlciA9IGZ1bmN0aW9uICgpIHtcblx0ZnVuY3Rpb24gUmFmTWFuYWdlcigpIHtcblx0XHRfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmFmTWFuYWdlcik7XG5cblx0XHQvLyBiaW5kaW5nXG5cdFx0dGhpcy51cGRhdGUgPSB0aGlzLnVwZGF0ZS5iaW5kKHRoaXMpO1xuXG5cdFx0Ly8gcGFyYW1zXG5cdFx0dGhpcy5iaW5kZXJzID0gW107XG5cdFx0dGhpcy5yYWYgPSBudWxsO1xuXG5cdFx0dGhpcy5ub3cgPSBEYXRlLm5vdygpO1xuXHRcdHRoaXMudGltZSA9IHRoaXMubm93O1xuXHRcdHRoaXMuZGVsdGFUaW1lID0gMDtcblx0fVxuXG5cdC8qIFN0YXJ0ICovXG5cblxuXHRfY3JlYXRlQ2xhc3MoUmFmTWFuYWdlciwgW3tcblx0XHRrZXk6ICd1cGRhdGUnLFxuXG5cblx0XHQvKiBVcGRhdGUgKi9cblx0XHR2YWx1ZTogZnVuY3Rpb24gdXBkYXRlKCkge1xuXG5cdFx0XHQvLyB0aW1lIHN0dWZmXG5cdFx0XHR0aGlzLm5vdyA9IERhdGUubm93KCk7XG5cdFx0XHR0aGlzLmRlbHRhVGltZSA9IHRoaXMubm93IC0gdGhpcy50aW1lO1xuXHRcdFx0dGhpcy50aW1lID0gdGhpcy5ub3c7XG5cblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5iaW5kZXJzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdHRoaXMuYmluZGVyc1tpXS5mbih0aGlzLmRlbHRhVGltZSk7XG5cdFx0XHR9dGhpcy5yYWYgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMudXBkYXRlKTtcblx0XHR9XG5cblx0XHQvKipcbiAgICogQmluZFxuICAgKiBAcGFyYW0gIHtTdHJpbmd9ICAgaWQgW2Rlc2NyaXB0aW9uXVxuICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gZm4gW2Rlc2NyaXB0aW9uXVxuICAgKi9cblxuXHR9XSwgW3tcblx0XHRrZXk6ICdzdGFydCcsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIHN0YXJ0KCkge1xuXG5cdFx0XHRpZiAoIVJhZk1hbmFnZXIuSU5TVEFOQ0UpIFJhZk1hbmFnZXIuSU5TVEFOQ0UgPSBuZXcgUmFmTWFuYWdlcigpO1xuXG5cdFx0XHRSYWZNYW5hZ2VyLklOU1RBTkNFLnVwZGF0ZSgpO1xuXHRcdH1cblxuXHRcdC8qIFN0b3AgKi9cblxuXHR9LCB7XG5cdFx0a2V5OiAnc3RvcCcsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIHN0b3AoKSB7XG5cblx0XHRcdHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZShSYWZNYW5hZ2VyLklOU1RBTkNFLnJhZik7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiAnYmluZCcsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGJpbmQoaWQsIGZuKSB7XG5cblx0XHRcdHZhciBfdGhpcyA9IFJhZk1hbmFnZXIuSU5TVEFOQ0U7XG5cblx0XHRcdC8vIGlkIHR5cGUgY2hlY2tcblx0XHRcdGlmICh0eXBlb2YgaWQgIT09ICdzdHJpbmcnKSB7XG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IoJ1JhZk1hbmFnZXIgOjogQmluZCA6OiBJbnZhbGlkIElEJywgaWQpO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdC8vIGZuIHR5cGUgY2hlY2tcblx0XHRcdGlmICh0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0Y29uc29sZS5lcnJvcignUmFmTWFuYWdlciA6OiBCaW5kIDo6IEludmFsaWQgRnVuY3Rpb24nLCBmbik7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gdXNlIGlkIGNoZWNrXG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IF90aGlzLmJpbmRlcnMubGVuZ3RoOyBpKyspIHtcblxuXHRcdFx0XHR2YXIgYiA9IF90aGlzLmJpbmRlcnNbaV07XG5cblx0XHRcdFx0aWYgKGIuaWQgPT09IGlkKSB7XG5cdFx0XHRcdFx0Y29uc29sZS53YXJuKCdSYWZNYW5hZ2VyIDo6IEJpbmQgOjogSUQgYWxyZWFkeSB1c2VkICEnLCBpZCk7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdFJhZk1hbmFnZXIuSU5TVEFOQ0UuYmluZGVycy5wdXNoKHsgaWQ6IGlkLCBmbjogZm4gfSk7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiAndW5iaW5kJyxcblx0XHR2YWx1ZTogZnVuY3Rpb24gdW5iaW5kKGlkKSB7XG5cblx0XHRcdHZhciB0Z3RJRCA9IC0xO1xuXHRcdFx0dmFyIF90aGlzID0gUmFmTWFuYWdlci5JTlNUQU5DRTtcblxuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBfdGhpcy5iaW5kZXJzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdGlmIChfdGhpcy5iaW5kZXJzW2ldLmlkID09PSBpZCkge1xuXHRcdFx0XHRcdHRndElEID0gaTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBhdm9pZGluZyBmYWlsc1xuXHRcdFx0aWYgKHRndElEID4gLTEpIF90aGlzLmJpbmRlcnMuc3BsaWNlKHRndElELCAxKTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6ICdkZWJ1ZycsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGRlYnVnKCkge1xuXG5cdFx0XHRjb25zb2xlLnRhYmxlKFJhZk1hbmFnZXIuSU5TVEFOQ0UuYmluZGVycyk7XG5cdFx0fVxuXHR9XSk7XG5cblx0cmV0dXJuIFJhZk1hbmFnZXI7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFJhZk1hbmFnZXI7XG5cbn0se31dLDQ0OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX0V2ZW50c01hbmFnZXIgPSByZXF1aXJlKCcuLi9ldmVudHMvRXZlbnRzTWFuYWdlcicpO1xuXG52YXIgX0V2ZW50c01hbmFnZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRXZlbnRzTWFuYWdlcik7XG5cbnZhciBfRXZlbnRzID0gcmVxdWlyZSgnLi4vZXZlbnRzL0V2ZW50cycpO1xuXG52YXIgX0V2ZW50czIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9FdmVudHMpO1xuXG52YXIgX1JhZk1hbmFnZXIgPSByZXF1aXJlKCcuLi9tYW5hZ2Vycy9SYWZNYW5hZ2VyJyk7XG5cbnZhciBfUmFmTWFuYWdlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9SYWZNYW5hZ2VyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIGNyZWF0ZVBsYXllciA9IHJlcXVpcmUoJ3dlYi1hdWRpby1wbGF5ZXInKTtcbnZhciBjcmVhdGVBbmFseXNlciA9IHJlcXVpcmUoJ3dlYi1hdWRpby1hbmFseXNlcicpO1xudmFyIGF2ZXJhZ2UgPSByZXF1aXJlKCdhbmFseXNlci1mcmVxdWVuY3ktYXZlcmFnZScpO1xuXG52YXIgQXVkaW9Db250ZXh0ID0gd2luZG93LkF1ZGlvQ29udGV4dCB8fCB3aW5kb3cud2Via2l0QXVkaW9Db250ZXh0O1xudmFyIGF1ZGlvQ29udGV4dCA9IEF1ZGlvQ29udGV4dCA/IG5ldyBBdWRpb0NvbnRleHQoKSA6IG51bGw7XG5cbnZhciBTb3VuZE1hbmFnZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU291bmRNYW5hZ2VyKCkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU291bmRNYW5hZ2VyKTtcblxuICAgICAgICAvLyBQcm9wZXJ0aWVzXG4gICAgICAgIHRoaXMucmVhZHkgPSBmYWxzZTtcbiAgICAgICAgdGhpcy50dW10dW1UaW1lID0gMDtcbiAgICAgICAgdGhpcy5idW1idW1UaW1lID0gMDtcblxuICAgICAgICAvLyBCaW5kaW5nc1xuICAgICAgICB0aGlzLm9uQ2FucGxheSA9IHRoaXMub25DYW5wbGF5LmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMub25FbmRlZCA9IHRoaXMub25FbmRlZC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnVwZGF0ZSA9IHRoaXMudXBkYXRlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMub25LZXlQcmVzcyA9IHRoaXMub25LZXlQcmVzcy5iaW5kKHRoaXMpO1xuXG4gICAgICAgIC8vIFBsYXllclxuICAgICAgICAvLyB0aGlzLnBsYXllciA9IGNyZWF0ZVBsYXllcignLi4vYXNzZXRzL3NvdW5kL211c2ljLm1wMycpO1xuICAgICAgICAvLyB0aGlzLnBsYXllci5vbignbG9hZCcsIHRoaXMub25DYW5wbGF5KTtcbiAgICAgICAgLy8gdGhpcy5wbGF5ZXIuY3Jvc3NPcmlnaW4gPSAnQW5vbnltb3VzJztcblxuICAgICAgICB0aGlzLnBsYXllciA9IG5ldyBBdWRpbygpO1xuICAgICAgICB0aGlzLnBsYXllci5jcm9zc09yaWdpbiA9ICdBbm9ueW1vdXMnO1xuICAgICAgICB0aGlzLnBsYXllci5hZGRFdmVudExpc3RlbmVyKCdjYW5wbGF5JywgdGhpcy5vbkNhbnBsYXkpO1xuICAgICAgICB0aGlzLnBsYXllci5hZGRFdmVudExpc3RlbmVyKCdlbmRlZCcsIHRoaXMub25FbmRlZCk7XG4gICAgICAgIHRoaXMucGxheWVyLnNyYyA9ICcuLi9hc3NldHMvc291bmQvbXVzaWMubXAzJztcbiAgICAgICAgLy8gdGhpcy5wbGF5ZXIuc3JjID0gJy4uL2Fzc2V0cy9zb3VuZC9kZWJ1Zy5tcDMnO1xuXG4gICAgICAgIC8vIExpc3RlbmVyc1xuICAgICAgICBfRXZlbnRzTWFuYWdlcjIuZGVmYXVsdC5vbihfRXZlbnRzMi5kZWZhdWx0LktFWVBSRVNTLCB0aGlzLm9uS2V5UHJlc3MpO1xuICAgIH1cblxuICAgIC8qIFN0YXJ0ICovXG5cblxuICAgIF9jcmVhdGVDbGFzcyhTb3VuZE1hbmFnZXIsIFt7XG4gICAgICAgIGtleTogJ29uQ2FucGxheScsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBvbkNhbnBsYXkoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5yZWFkeSkgcmV0dXJuO1xuICAgICAgICAgICAgdGhpcy5yZWFkeSA9IHRydWU7XG5cbiAgICAgICAgICAgIC8vIHRoaXMucGxheWVyLm5vZGUuY29ubmVjdCh0aGlzLnBsYXllci5jb250ZXh0LmRlc3RpbmF0aW9uKTtcbiAgICAgICAgICAgIHRoaXMuYXVkaW9VdGlsID0gY3JlYXRlQW5hbHlzZXIodGhpcy5wbGF5ZXIsIGF1ZGlvQ29udGV4dCwgeyBhdWRpYmxlOiB0cnVlLCBzdGVyZW86IGZhbHNlIH0pO1xuICAgICAgICAgICAgdGhpcy5hbmFseXNlciA9IHRoaXMuYXVkaW9VdGlsLmFuYWx5c2VyO1xuXG4gICAgICAgICAgICAvLyB0aGlzLnBsYXllci5wbGF5YmFja1JhdGUgPSAyLjA7XG4gICAgICAgICAgICB0aGlzLnBsYXllci52b2x1bWUgPSAwO1xuICAgICAgICAgICAgU291bmRNYW5hZ2VyLnBhdXNlKCk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ29uRW5kZWQnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb25FbmRlZCgpIHtcbiAgICAgICAgICAgIFNvdW5kTWFuYWdlci5wYXVzZSgpO1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXIuY3VycmVudFRpbWUgPSAwO1xuXG4gICAgICAgICAgICBfRXZlbnRzTWFuYWdlcjIuZGVmYXVsdC5lbWl0KF9FdmVudHMyLmRlZmF1bHQuU09VTkRfRU5ERUQpO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdvbktleVByZXNzJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uS2V5UHJlc3Moa2V5KSB7XG4gICAgICAgICAgICBpZiAoa2V5ID09PSAnc3BhY2ViYXInICYmIHdpbmRvdy52alBsYXlpbmcpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wbGF5ZXIucGF1c2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFJlc3VtZVxuICAgICAgICAgICAgICAgICAgICBTb3VuZE1hbmFnZXIucGxheSgpO1xuICAgICAgICAgICAgICAgICAgICBfRXZlbnRzTWFuYWdlcjIuZGVmYXVsdC5lbWl0KF9FdmVudHMyLmRlZmF1bHQuUkVTVU1FX1ZKSU5HKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBQYXVzZVxuICAgICAgICAgICAgICAgICAgICBTb3VuZE1hbmFnZXIucGF1c2UoKTtcbiAgICAgICAgICAgICAgICAgICAgX0V2ZW50c01hbmFnZXIyLmRlZmF1bHQuZW1pdChfRXZlbnRzMi5kZWZhdWx0LlBBVVNFX1ZKSU5HKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3VwZGF0ZScsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGUoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wbGF5ZXIucGF1c2VkKSByZXR1cm47XG5cbiAgICAgICAgICAgIHZhciBmcmVxcyA9IHRoaXMuYXVkaW9VdGlsLmZyZXF1ZW5jaWVzKCk7XG4gICAgICAgICAgICB2YXIgdHVtdHVtID0gYXZlcmFnZSh0aGlzLmFuYWx5c2VyLCBmcmVxcywgMjQ2LCA3MDApO1xuICAgICAgICAgICAgdmFyIGJ1bWJ1bSA9IGF2ZXJhZ2UodGhpcy5hbmFseXNlciwgZnJlcXMsIDIwLCA3MCk7XG4gICAgICAgICAgICB2YXIgY2FuUGxheVR1bXR1bSA9IERhdGUubm93KCkgLSB0aGlzLnR1bXR1bVRpbWUgPiA2MDA7XG4gICAgICAgICAgICB2YXIgY2FuUGxheUJ1bWJ1bSA9IERhdGUubm93KCkgLSB0aGlzLmJ1bWJ1bVRpbWUgPiA2MDA7XG4gICAgICAgICAgICB2YXIgZGlmZlRpbWUgPSBNYXRoLmFicyh0aGlzLnR1bXR1bVRpbWUgLSB0aGlzLmJ1bWJ1bVRpbWUpO1xuXG4gICAgICAgICAgICBpZiAoY2FuUGxheVR1bXR1bSAmJiB0dW10dW0gPiAwLjUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnR1bXR1bVRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgICAgIF9FdmVudHNNYW5hZ2VyMi5kZWZhdWx0LmVtaXQoX0V2ZW50czIuZGVmYXVsdC5QTEFZX0VGRkVDVCwgeyBkaXNhbGxvdzogZmFsc2UgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChjYW5QbGF5QnVtYnVtICYmIGJ1bWJ1bSA+IDAuOTUgJiYgZGlmZlRpbWUgPiAzMDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5idW1idW1UaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgICAgICAgICAgX0V2ZW50c01hbmFnZXIyLmRlZmF1bHQuZW1pdChfRXZlbnRzMi5kZWZhdWx0LlBMQVlfRUZGRUNULCB7IGRpc2FsbG93OiB0cnVlIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1dLCBbe1xuICAgICAgICBrZXk6ICdzdGFydCcsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzdGFydCgpIHtcbiAgICAgICAgICAgIGlmICghU291bmRNYW5hZ2VyLmluc3RhbmNlKSBTb3VuZE1hbmFnZXIuaW5zdGFuY2UgPSBuZXcgU291bmRNYW5hZ2VyKCk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3BsYXknLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcGxheSgpIHtcbiAgICAgICAgICAgIFNvdW5kTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXIucGxheSgpO1xuICAgICAgICAgICAgVHdlZW5NYXgudG8oU291bmRNYW5hZ2VyLmluc3RhbmNlLnBsYXllciwgMC4zLCB7IHZvbHVtZTogMSwgZWFzZTogUG93ZXIyLmVhc2VPdXQsIG9uQ29tcGxldGU6IGZ1bmN0aW9uIG9uQ29tcGxldGUoKSB7XG4gICAgICAgICAgICAgICAgICAgIF9SYWZNYW5hZ2VyMi5kZWZhdWx0LmJpbmQoJ3NvdW5kbWFuYWdlcicsIFNvdW5kTWFuYWdlci5pbnN0YW5jZS51cGRhdGUpO1xuICAgICAgICAgICAgICAgIH0gfSk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3BhdXNlJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHBhdXNlKCkge1xuICAgICAgICAgICAgX1JhZk1hbmFnZXIyLmRlZmF1bHQudW5iaW5kKCdzb3VuZG1hbmFnZXInKTtcbiAgICAgICAgICAgIFR3ZWVuTWF4LnRvKFNvdW5kTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXIsIDAuMywgeyB2b2x1bWU6IDAsIGVhc2U6IFBvd2VyMi5lYXNlT3V0LCBvbkNvbXBsZXRlOiBmdW5jdGlvbiBvbkNvbXBsZXRlKCkge1xuICAgICAgICAgICAgICAgICAgICBTb3VuZE1hbmFnZXIuaW5zdGFuY2UucGxheWVyLnBhdXNlKCk7XG4gICAgICAgICAgICAgICAgfSB9KTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBTb3VuZE1hbmFnZXI7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFNvdW5kTWFuYWdlcjtcblxufSx7XCIuLi9ldmVudHMvRXZlbnRzXCI6NDAsXCIuLi9ldmVudHMvRXZlbnRzTWFuYWdlclwiOjQxLFwiLi4vbWFuYWdlcnMvUmFmTWFuYWdlclwiOjQzLFwiYW5hbHlzZXItZnJlcXVlbmN5LWF2ZXJhZ2VcIjoxLFwid2ViLWF1ZGlvLWFuYWx5c2VyXCI6MTksXCJ3ZWItYXVkaW8tcGxheWVyXCI6MjB9XSw0NTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIFNJTVBMRSAxRCBOT0lTRVxuICogXG4gKiBodHRwOi8vd3d3Lm1pY2hhZWxicm9tbGV5LmNvLnVrL2Jsb2cvOTAvc2ltcGxlLTFkLW5vaXNlLWluLWphdmFzY3JpcHRcbiAqL1xuXG52YXIgU2ltcGxlMUROb2lzZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTaW1wbGUxRE5vaXNlKCkge1xuICAgICAgICB2YXIgbWF4ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAyNTY7XG4gICAgICAgIHZhciBhbXBsaXR1ZGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDE7XG4gICAgICAgIHZhciBzY2FsZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogMTtcblxuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU2ltcGxlMUROb2lzZSk7XG5cbiAgICAgICAgLy8gcGFyYW1zXG4gICAgICAgIHRoaXMuTUFYX1ZFUlRJQ0VTID0gbWF4O1xuICAgICAgICB0aGlzLk1BWF9WRVJUSUNFU19NQVNLID0gdGhpcy5NQVhfVkVSVElDRVMgLSAxO1xuICAgICAgICB0aGlzLmFtcGxpdHVkZSA9IGFtcGxpdHVkZTtcbiAgICAgICAgdGhpcy5zY2FsZSA9IHNjYWxlO1xuXG4gICAgICAgIHRoaXMueE1pbiA9IDA7XG4gICAgICAgIHRoaXMueE1heCA9IDA7XG5cbiAgICAgICAgLy8gYnVpbGRcbiAgICAgICAgdGhpcy5yID0gW107XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLk1BWF9WRVJUSUNFUzsgKytpKSB7XG4gICAgICAgICAgICB0aGlzLnJbaV0gPSBNYXRoLnJhbmRvbSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKFNpbXBsZTFETm9pc2UsIFt7XG4gICAgICAgIGtleTogXCJnZXRWYWxcIixcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFZhbCh2YWx1ZSkge1xuXG4gICAgICAgICAgICAvLyBUT0RPXG4gICAgICAgICAgICAvLyBJTVBST1ZFXG4gICAgICAgICAgICAvLyBJTVBST1ZFXG4gICAgICAgICAgICAvLyBJTVBST1ZFXG5cbiAgICAgICAgICAgIHZhciBzY2FsZWRYID0gdmFsdWUgKiB0aGlzLnNjYWxlO1xuICAgICAgICAgICAgdmFyIHhGbG9vciA9IE1hdGguZmxvb3Ioc2NhbGVkWCk7XG4gICAgICAgICAgICB2YXIgdCA9IHNjYWxlZFggLSB4Rmxvb3I7XG4gICAgICAgICAgICB2YXIgdFJlbWFwU21vb3Roc3RlcCA9IHQgKiB0ICogKDMgLSAyICogdCk7XG5cbiAgICAgICAgICAgIC8vIE1vZHVsb1xuICAgICAgICAgICAgdGhpcy54TWluID0geEZsb29yICYgdGhpcy5NQVhfVkVSVElDRVNfTUFTSztcbiAgICAgICAgICAgIHRoaXMueE1heCA9IHRoaXMueE1pbiArIDEgJiB0aGlzLk1BWF9WRVJUSUNFU19NQVNLO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sZXJwKHRoaXMuclt0aGlzLnhNaW5dLCB0aGlzLnJbdGhpcy54TWF4XSwgdFJlbWFwU21vb3Roc3RlcCkgKiB0aGlzLmFtcGxpdHVkZTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiBcImxlcnBcIixcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGxlcnAoYSwgYiwgdCkge1xuICAgICAgICAgICAgcmV0dXJuIGEgKiAoMSAtIHQpICsgYiAqIHQ7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gU2ltcGxlMUROb2lzZTtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gU2ltcGxlMUROb2lzZTtcblxufSx7fV0sNDY6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBwYWxldHRlcyA9IHJlcXVpcmUoJy4uL2NvbG9ycy9jb2xvcnMyLmpzb24nKTtcblxuLyoqXG4gKiBVdGlsc1xuICovXG5cbnZhciBVdGlscyA9IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBVdGlscygpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFV0aWxzKTtcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoVXRpbHMsIG51bGwsIFt7XG4gICAgICAgIGtleTogJ21hcCcsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBtYXAobiwgc3RhcnQxLCBzdG9wMSwgc3RhcnQyLCBzdG9wMikge1xuICAgICAgICAgICAgcmV0dXJuIChuIC0gc3RhcnQxKSAvIChzdG9wMSAtIHN0YXJ0MSkgKiAoc3RvcDIgLSBzdGFydDIpICsgc3RhcnQyO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdsdWNreScsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBsdWNreShjaGFuY2VzKSB7XG4gICAgICAgICAgICByZXR1cm4gIX5+KE1hdGgucmFuZG9tKCkgKiBjaGFuY2VzKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAncmFuZ2UnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmFuZ2UoYXJyYXkpIHtcbiAgICAgICAgICAgIHJldHVybiBhcnJheVt+fihNYXRoLnJhbmRvbSgpICogYXJyYXkubGVuZ3RoKV07XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2dldFBhbGV0dGUnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0UGFsZXR0ZSgpIHtcbiAgICAgICAgICAgIHZhciBwYWxldHRlID0gcGFsZXR0ZXNbfn4oTWF0aC5yYW5kb20oKSAqIHBhbGV0dGVzLmxlbmd0aCldO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBwYWxldHRlWzBdLFxuICAgICAgICAgICAgICAgIG91dGxpbmU6IHBhbGV0dGVbMV0sXG4gICAgICAgICAgICAgICAgdGhpbk91dGxpbmU6IHBhbGV0dGVbMl0sXG4gICAgICAgICAgICAgICAgc2hhcGU6IHBhbGV0dGVcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gVXRpbHM7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFV0aWxzO1xuXG59LHtcIi4uL2NvbG9ycy9jb2xvcnMyLmpzb25cIjozNX1dLDQ3OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbid1c2Ugc3RyaWN0JztcblxudmFyIE9yYml0Q29udHJvbHMgPSByZXF1aXJlKCd0aHJlZS1vcmJpdC1jb250cm9scycpKFRIUkVFKTtcblxubW9kdWxlLmV4cG9ydHMgPSBjcmVhdGVBcHA7XG5cbmZ1bmN0aW9uIGNyZWF0ZUFwcCgpIHtcblx0dmFyIG9wdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG5cblx0dmFyIGRlYnVnID0gb3B0LmRlYnVnIHx8IGZhbHNlO1xuXG5cdC8vIHJlbmRlcmVyXG5cdHZhciByZW5kZXJlciA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKHsgYW50aWFsaWFzOiB0cnVlIH0pO1xuXHRyZW5kZXJlci5zZXRDbGVhckNvbG9yKDB4ZTllOWU5LCAxKTtcblx0cmVuZGVyZXIuc2V0U2l6ZSh3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KTtcblx0cmVuZGVyZXIuc2hhZG93TWFwLmVuYWJsZWQgPSB0cnVlO1xuXHRyZW5kZXJlci5zaGFkb3dNYXAudHlwZSA9IFRIUkVFLlBDRlNvZnRTaGFkb3dNYXA7XG5cblx0Ly8gY2FudmFzXG5cdHZhciBjYW52YXMgPSByZW5kZXJlci5kb21FbGVtZW50O1xuXHRkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGNhbnZhcyk7XG5cblx0Ly8gY2FtZXJhXG5cdHZhciBjYW1lcmEgPSBuZXcgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEoNDUsIHdpbmRvdy5pbm5lcldpZHRoIC8gd2luZG93LmlubmVySGVpZ2h0LCAxLCAyMDAwKTtcblxuXHQvLyBzY2VuZVxuXHR2YXIgc2NlbmUgPSBuZXcgVEhSRUUuU2NlbmUoKTtcblxuXHQvLyBjc3MzRFxuXHR2YXIgY3NzM0RSZW5kZXJlciA9IG5ldyBUSFJFRS5DU1MzRFJlbmRlcmVyKCk7XG5cdGNzczNEUmVuZGVyZXIuc2V0U2l6ZSh3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KTtcblx0Y3NzM0RSZW5kZXJlci5kb21FbGVtZW50LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcblx0Y3NzM0RSZW5kZXJlci5kb21FbGVtZW50LnN0eWxlLnRvcCA9IDA7XG5cdGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY3NzM0RSZW5kZXJlci5kb21FbGVtZW50KTtcblx0dmFyIGNzczNEU2NlbmUgPSBuZXcgVEhSRUUuU2NlbmUoKTtcblx0dmFyIGNzczNEQ2FtZXJhID0gbmV3IFRIUkVFLlBlcnNwZWN0aXZlQ2FtZXJhKDQ1LCB3aW5kb3cuaW5uZXJXaWR0aCAvIHdpbmRvdy5pbm5lckhlaWdodCwgMSwgMjAwMCk7XG5cblx0Ly8gY29udHJvbHNcblx0Ly8gY29uc3QgY29udHJvbHMgPSBuZXcgT3JiaXRDb250cm9scyhjYW1lcmEpO1xuXG5cdC8vIGVmZmVjdCBjb21wb3NlclxuXHRXQUdORVIudmVydGV4U2hhZGVyc1BhdGggPSAnanMvdmVydGV4LXNoYWRlcnMnO1xuXHRXQUdORVIuZnJhZ21lbnRTaGFkZXJzUGF0aCA9ICdqcy9mcmFnbWVudC1zaGFkZXJzJztcblx0dmFyIGNvbXBvc2VyID0gbmV3IFdBR05FUi5Db21wb3NlcihyZW5kZXJlciwgeyB1c2VSR0JBOiB0cnVlIH0pO1xuXHRjb21wb3Nlci5zZXRTaXplKGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG5cblx0Ly8gYXBwXG5cdHZhciBhcHAgPSB7IHJlbmRlcmVyOiByZW5kZXJlciwgY29tcG9zZXI6IGNvbXBvc2VyLCBjYW52YXM6IGNhbnZhcywgY2FtZXJhOiBjYW1lcmEsIHNjZW5lOiBzY2VuZSwgY3NzM0RSZW5kZXJlcjogY3NzM0RSZW5kZXJlciwgY3NzM0RDYW1lcmE6IGNzczNEQ2FtZXJhLCBjc3MzRFNjZW5lOiBjc3MzRFNjZW5lLCByZW5kZXI6IHJlbmRlciwgcmVzaXplOiByZXNpemUgfTtcblx0cmV0dXJuIGFwcDtcblxuXHRmdW5jdGlvbiByZW5kZXIoKSB7XG5cdFx0aWYgKGRlYnVnKSB7XG5cdFx0XHRjb25zb2xlLmxvZyhyZW5kZXJlci5pbmZvLnJlbmRlcik7XG5cdFx0fVxuXHRcdHJlbmRlcmVyLnJlbmRlcihzY2VuZSwgY2FtZXJhKTtcblx0fVxuXG5cdGZ1bmN0aW9uIHJlc2l6ZSh3LCBoKSB7XG5cdFx0Y2FtZXJhLmFzcGVjdCA9IHcgLyBoO1xuXHRcdGNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG5cblx0XHRyZW5kZXJlci5zZXRTaXplKHcsIGgpO1xuXG5cdFx0Y3NzM0RDYW1lcmEuYXNwZWN0ID0gdyAvIGg7XG5cdFx0Y3NzM0RDYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuXG5cdFx0Y3NzM0RSZW5kZXJlci5zZXRTaXplKHcsIGgpO1xuXHR9XG59XG5cbn0se1widGhyZWUtb3JiaXQtY29udHJvbHNcIjoxN31dfSx7fSxbMzFdKVxuXG4iLCJ2YXIgY2xhbXAgPSByZXF1aXJlKCdjbGFtcCcpXG5cbm1vZHVsZS5leHBvcnRzID0gZnJlcXVlbmN5VG9JbmRleFxuZnVuY3Rpb24gZnJlcXVlbmN5VG9JbmRleCAoZnJlcXVlbmN5LCBzYW1wbGVSYXRlLCBmcmVxdWVuY3lCaW5Db3VudCkge1xuICB2YXIgbnlxdWlzdCA9IHNhbXBsZVJhdGUgLyAyXG4gIHZhciBpbmRleCA9IE1hdGgucm91bmQoZnJlcXVlbmN5IC8gbnlxdWlzdCAqIGZyZXF1ZW5jeUJpbkNvdW50KVxuICByZXR1cm4gY2xhbXAoaW5kZXgsIDAsIGZyZXF1ZW5jeUJpbkNvdW50KVxufVxuIiwiLy8gc291cmNlZCBmcm9tOlxuLy8gaHR0cDovL3d3dy5sZWFuYmFja3BsYXllci5jb20vdGVzdC9oNW10Lmh0bWxcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9icm9vZmEvbm9kZS1taW1lL2Jsb2IvbWFzdGVyL3R5cGVzLmpzb25cbnZhciBtaW1lVHlwZXMgPSByZXF1aXJlKCcuL21pbWUtdHlwZXMuanNvbicpXG5cbnZhciBtaW1lTG9va3VwID0ge31cbk9iamVjdC5rZXlzKG1pbWVUeXBlcykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gIHZhciBleHRlbnNpb25zID0gbWltZVR5cGVzW2tleV1cbiAgZXh0ZW5zaW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChleHQpIHtcbiAgICBtaW1lTG9va3VwW2V4dF0gPSBrZXlcbiAgfSlcbn0pXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gbG9va3VwIChleHQpIHtcbiAgaWYgKCFleHQpIHRocm93IG5ldyBUeXBlRXJyb3IoJ211c3Qgc3BlY2lmeSBleHRlbnNpb24gc3RyaW5nJylcbiAgaWYgKGV4dC5pbmRleE9mKCcuJykgPT09IDApIHtcbiAgICBleHQgPSBleHQuc3Vic3RyaW5nKDEpXG4gIH1cbiAgcmV0dXJuIG1pbWVMb29rdXBbZXh0LnRvTG93ZXJDYXNlKCldXG59XG4iLCJtb2R1bGUuZXhwb3J0cz17XG4gIFwiYXVkaW8vbWlkaVwiOiBbXCJtaWRcIiwgXCJtaWRpXCIsIFwia2FyXCIsIFwicm1pXCJdLFxuICBcImF1ZGlvL21wNFwiOiBbXCJtcDRhXCIsIFwibTRhXCJdLFxuICBcImF1ZGlvL21wZWdcIjogW1wibXBnYVwiLCBcIm1wMlwiLCBcIm1wMmFcIiwgXCJtcDNcIiwgXCJtMmFcIiwgXCJtM2FcIl0sXG4gIFwiYXVkaW8vb2dnXCI6IFtcIm9nYVwiLCBcIm9nZ1wiLCBcInNweFwiXSxcbiAgXCJhdWRpby93ZWJtXCI6IFtcIndlYmFcIl0sXG4gIFwiYXVkaW8veC1tYXRyb3NrYVwiOiBbXCJta2FcIl0sXG4gIFwiYXVkaW8veC1tcGVndXJsXCI6IFtcIm0zdVwiXSxcbiAgXCJhdWRpby93YXZcIjogW1wid2F2XCJdLFxuICBcInZpZGVvLzNncHBcIjogW1wiM2dwXCJdLFxuICBcInZpZGVvLzNncHAyXCI6IFtcIjNnMlwiXSxcbiAgXCJ2aWRlby9tcDRcIjogW1wibXA0XCIsIFwibXA0dlwiLCBcIm1wZzRcIl0sXG4gIFwidmlkZW8vbXBlZ1wiOiBbXCJtcGVnXCIsIFwibXBnXCIsIFwibXBlXCIsIFwibTF2XCIsIFwibTJ2XCJdLFxuICBcInZpZGVvL29nZ1wiOiBbXCJvZ3ZcIl0sXG4gIFwidmlkZW8vcXVpY2t0aW1lXCI6IFtcInF0XCIsIFwibW92XCJdLFxuICBcInZpZGVvL3dlYm1cIjogW1wid2VibVwiXSxcbiAgXCJ2aWRlby94LWY0dlwiOiBbXCJmNHZcIl0sXG4gIFwidmlkZW8veC1mbGlcIjogW1wiZmxpXCJdLFxuICBcInZpZGVvL3gtZmx2XCI6IFtcImZsdlwiXSxcbiAgXCJ2aWRlby94LW00dlwiOiBbXCJtNHZcIl0sXG4gIFwidmlkZW8veC1tYXRyb3NrYVwiOiBbXCJta3ZcIiwgXCJtazNkXCIsIFwibWtzXCJdXG59IiwibW9kdWxlLmV4cG9ydHMgPSBjbGFtcFxuXG5mdW5jdGlvbiBjbGFtcCh2YWx1ZSwgbWluLCBtYXgpIHtcbiAgcmV0dXJuIG1pbiA8IG1heFxuICAgID8gKHZhbHVlIDwgbWluID8gbWluIDogdmFsdWUgPiBtYXggPyBtYXggOiB2YWx1ZSlcbiAgICA6ICh2YWx1ZSA8IG1heCA/IG1heCA6IHZhbHVlID4gbWluID8gbWluIDogdmFsdWUpXG59XG4iLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuZnVuY3Rpb24gRXZlbnRFbWl0dGVyKCkge1xuICB0aGlzLl9ldmVudHMgPSB0aGlzLl9ldmVudHMgfHwge307XG4gIHRoaXMuX21heExpc3RlbmVycyA9IHRoaXMuX21heExpc3RlbmVycyB8fCB1bmRlZmluZWQ7XG59XG5tb2R1bGUuZXhwb3J0cyA9IEV2ZW50RW1pdHRlcjtcblxuLy8gQmFja3dhcmRzLWNvbXBhdCB3aXRoIG5vZGUgMC4xMC54XG5FdmVudEVtaXR0ZXIuRXZlbnRFbWl0dGVyID0gRXZlbnRFbWl0dGVyO1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLl9ldmVudHMgPSB1bmRlZmluZWQ7XG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLl9tYXhMaXN0ZW5lcnMgPSB1bmRlZmluZWQ7XG5cbi8vIEJ5IGRlZmF1bHQgRXZlbnRFbWl0dGVycyB3aWxsIHByaW50IGEgd2FybmluZyBpZiBtb3JlIHRoYW4gMTAgbGlzdGVuZXJzIGFyZVxuLy8gYWRkZWQgdG8gaXQuIFRoaXMgaXMgYSB1c2VmdWwgZGVmYXVsdCB3aGljaCBoZWxwcyBmaW5kaW5nIG1lbW9yeSBsZWFrcy5cbkV2ZW50RW1pdHRlci5kZWZhdWx0TWF4TGlzdGVuZXJzID0gMTA7XG5cbi8vIE9idmlvdXNseSBub3QgYWxsIEVtaXR0ZXJzIHNob3VsZCBiZSBsaW1pdGVkIHRvIDEwLiBUaGlzIGZ1bmN0aW9uIGFsbG93c1xuLy8gdGhhdCB0byBiZSBpbmNyZWFzZWQuIFNldCB0byB6ZXJvIGZvciB1bmxpbWl0ZWQuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnNldE1heExpc3RlbmVycyA9IGZ1bmN0aW9uKG4pIHtcbiAgaWYgKCFpc051bWJlcihuKSB8fCBuIDwgMCB8fCBpc05hTihuKSlcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ24gbXVzdCBiZSBhIHBvc2l0aXZlIG51bWJlcicpO1xuICB0aGlzLl9tYXhMaXN0ZW5lcnMgPSBuO1xuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgdmFyIGVyLCBoYW5kbGVyLCBsZW4sIGFyZ3MsIGksIGxpc3RlbmVycztcblxuICBpZiAoIXRoaXMuX2V2ZW50cylcbiAgICB0aGlzLl9ldmVudHMgPSB7fTtcblxuICAvLyBJZiB0aGVyZSBpcyBubyAnZXJyb3InIGV2ZW50IGxpc3RlbmVyIHRoZW4gdGhyb3cuXG4gIGlmICh0eXBlID09PSAnZXJyb3InKSB7XG4gICAgaWYgKCF0aGlzLl9ldmVudHMuZXJyb3IgfHxcbiAgICAgICAgKGlzT2JqZWN0KHRoaXMuX2V2ZW50cy5lcnJvcikgJiYgIXRoaXMuX2V2ZW50cy5lcnJvci5sZW5ndGgpKSB7XG4gICAgICBlciA9IGFyZ3VtZW50c1sxXTtcbiAgICAgIGlmIChlciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgIHRocm93IGVyOyAvLyBVbmhhbmRsZWQgJ2Vycm9yJyBldmVudFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQXQgbGVhc3QgZ2l2ZSBzb21lIGtpbmQgb2YgY29udGV4dCB0byB0aGUgdXNlclxuICAgICAgICB2YXIgZXJyID0gbmV3IEVycm9yKCdVbmNhdWdodCwgdW5zcGVjaWZpZWQgXCJlcnJvclwiIGV2ZW50LiAoJyArIGVyICsgJyknKTtcbiAgICAgICAgZXJyLmNvbnRleHQgPSBlcjtcbiAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGhhbmRsZXIgPSB0aGlzLl9ldmVudHNbdHlwZV07XG5cbiAgaWYgKGlzVW5kZWZpbmVkKGhhbmRsZXIpKVxuICAgIHJldHVybiBmYWxzZTtcblxuICBpZiAoaXNGdW5jdGlvbihoYW5kbGVyKSkge1xuICAgIHN3aXRjaCAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgLy8gZmFzdCBjYXNlc1xuICAgICAgY2FzZSAxOlxuICAgICAgICBoYW5kbGVyLmNhbGwodGhpcyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAyOlxuICAgICAgICBoYW5kbGVyLmNhbGwodGhpcywgYXJndW1lbnRzWzFdKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDM6XG4gICAgICAgIGhhbmRsZXIuY2FsbCh0aGlzLCBhcmd1bWVudHNbMV0sIGFyZ3VtZW50c1syXSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgLy8gc2xvd2VyXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICAgICAgaGFuZGxlci5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoaXNPYmplY3QoaGFuZGxlcikpIHtcbiAgICBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICBsaXN0ZW5lcnMgPSBoYW5kbGVyLnNsaWNlKCk7XG4gICAgbGVuID0gbGlzdGVuZXJzLmxlbmd0aDtcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspXG4gICAgICBsaXN0ZW5lcnNbaV0uYXBwbHkodGhpcywgYXJncyk7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXIgPSBmdW5jdGlvbih0eXBlLCBsaXN0ZW5lcikge1xuICB2YXIgbTtcblxuICBpZiAoIWlzRnVuY3Rpb24obGlzdGVuZXIpKVxuICAgIHRocm93IFR5cGVFcnJvcignbGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHMpXG4gICAgdGhpcy5fZXZlbnRzID0ge307XG5cbiAgLy8gVG8gYXZvaWQgcmVjdXJzaW9uIGluIHRoZSBjYXNlIHRoYXQgdHlwZSA9PT0gXCJuZXdMaXN0ZW5lclwiISBCZWZvcmVcbiAgLy8gYWRkaW5nIGl0IHRvIHRoZSBsaXN0ZW5lcnMsIGZpcnN0IGVtaXQgXCJuZXdMaXN0ZW5lclwiLlxuICBpZiAodGhpcy5fZXZlbnRzLm5ld0xpc3RlbmVyKVxuICAgIHRoaXMuZW1pdCgnbmV3TGlzdGVuZXInLCB0eXBlLFxuICAgICAgICAgICAgICBpc0Z1bmN0aW9uKGxpc3RlbmVyLmxpc3RlbmVyKSA/XG4gICAgICAgICAgICAgIGxpc3RlbmVyLmxpc3RlbmVyIDogbGlzdGVuZXIpO1xuXG4gIGlmICghdGhpcy5fZXZlbnRzW3R5cGVdKVxuICAgIC8vIE9wdGltaXplIHRoZSBjYXNlIG9mIG9uZSBsaXN0ZW5lci4gRG9uJ3QgbmVlZCB0aGUgZXh0cmEgYXJyYXkgb2JqZWN0LlxuICAgIHRoaXMuX2V2ZW50c1t0eXBlXSA9IGxpc3RlbmVyO1xuICBlbHNlIGlmIChpc09iamVjdCh0aGlzLl9ldmVudHNbdHlwZV0pKVxuICAgIC8vIElmIHdlJ3ZlIGFscmVhZHkgZ290IGFuIGFycmF5LCBqdXN0IGFwcGVuZC5cbiAgICB0aGlzLl9ldmVudHNbdHlwZV0ucHVzaChsaXN0ZW5lcik7XG4gIGVsc2VcbiAgICAvLyBBZGRpbmcgdGhlIHNlY29uZCBlbGVtZW50LCBuZWVkIHRvIGNoYW5nZSB0byBhcnJheS5cbiAgICB0aGlzLl9ldmVudHNbdHlwZV0gPSBbdGhpcy5fZXZlbnRzW3R5cGVdLCBsaXN0ZW5lcl07XG5cbiAgLy8gQ2hlY2sgZm9yIGxpc3RlbmVyIGxlYWtcbiAgaWYgKGlzT2JqZWN0KHRoaXMuX2V2ZW50c1t0eXBlXSkgJiYgIXRoaXMuX2V2ZW50c1t0eXBlXS53YXJuZWQpIHtcbiAgICBpZiAoIWlzVW5kZWZpbmVkKHRoaXMuX21heExpc3RlbmVycykpIHtcbiAgICAgIG0gPSB0aGlzLl9tYXhMaXN0ZW5lcnM7XG4gICAgfSBlbHNlIHtcbiAgICAgIG0gPSBFdmVudEVtaXR0ZXIuZGVmYXVsdE1heExpc3RlbmVycztcbiAgICB9XG5cbiAgICBpZiAobSAmJiBtID4gMCAmJiB0aGlzLl9ldmVudHNbdHlwZV0ubGVuZ3RoID4gbSkge1xuICAgICAgdGhpcy5fZXZlbnRzW3R5cGVdLndhcm5lZCA9IHRydWU7XG4gICAgICBjb25zb2xlLmVycm9yKCcobm9kZSkgd2FybmluZzogcG9zc2libGUgRXZlbnRFbWl0dGVyIG1lbW9yeSAnICtcbiAgICAgICAgICAgICAgICAgICAgJ2xlYWsgZGV0ZWN0ZWQuICVkIGxpc3RlbmVycyBhZGRlZC4gJyArXG4gICAgICAgICAgICAgICAgICAgICdVc2UgZW1pdHRlci5zZXRNYXhMaXN0ZW5lcnMoKSB0byBpbmNyZWFzZSBsaW1pdC4nLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9ldmVudHNbdHlwZV0ubGVuZ3RoKTtcbiAgICAgIGlmICh0eXBlb2YgY29uc29sZS50cmFjZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAvLyBub3Qgc3VwcG9ydGVkIGluIElFIDEwXG4gICAgICAgIGNvbnNvbGUudHJhY2UoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub24gPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyO1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uY2UgPSBmdW5jdGlvbih0eXBlLCBsaXN0ZW5lcikge1xuICBpZiAoIWlzRnVuY3Rpb24obGlzdGVuZXIpKVxuICAgIHRocm93IFR5cGVFcnJvcignbGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG5cbiAgdmFyIGZpcmVkID0gZmFsc2U7XG5cbiAgZnVuY3Rpb24gZygpIHtcbiAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsIGcpO1xuXG4gICAgaWYgKCFmaXJlZCkge1xuICAgICAgZmlyZWQgPSB0cnVlO1xuICAgICAgbGlzdGVuZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG4gIH1cblxuICBnLmxpc3RlbmVyID0gbGlzdGVuZXI7XG4gIHRoaXMub24odHlwZSwgZyk7XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vLyBlbWl0cyBhICdyZW1vdmVMaXN0ZW5lcicgZXZlbnQgaWZmIHRoZSBsaXN0ZW5lciB3YXMgcmVtb3ZlZFxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9IGZ1bmN0aW9uKHR5cGUsIGxpc3RlbmVyKSB7XG4gIHZhciBsaXN0LCBwb3NpdGlvbiwgbGVuZ3RoLCBpO1xuXG4gIGlmICghaXNGdW5jdGlvbihsaXN0ZW5lcikpXG4gICAgdGhyb3cgVHlwZUVycm9yKCdsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcblxuICBpZiAoIXRoaXMuX2V2ZW50cyB8fCAhdGhpcy5fZXZlbnRzW3R5cGVdKVxuICAgIHJldHVybiB0aGlzO1xuXG4gIGxpc3QgPSB0aGlzLl9ldmVudHNbdHlwZV07XG4gIGxlbmd0aCA9IGxpc3QubGVuZ3RoO1xuICBwb3NpdGlvbiA9IC0xO1xuXG4gIGlmIChsaXN0ID09PSBsaXN0ZW5lciB8fFxuICAgICAgKGlzRnVuY3Rpb24obGlzdC5saXN0ZW5lcikgJiYgbGlzdC5saXN0ZW5lciA9PT0gbGlzdGVuZXIpKSB7XG4gICAgZGVsZXRlIHRoaXMuX2V2ZW50c1t0eXBlXTtcbiAgICBpZiAodGhpcy5fZXZlbnRzLnJlbW92ZUxpc3RlbmVyKVxuICAgICAgdGhpcy5lbWl0KCdyZW1vdmVMaXN0ZW5lcicsIHR5cGUsIGxpc3RlbmVyKTtcblxuICB9IGVsc2UgaWYgKGlzT2JqZWN0KGxpc3QpKSB7XG4gICAgZm9yIChpID0gbGVuZ3RoOyBpLS0gPiAwOykge1xuICAgICAgaWYgKGxpc3RbaV0gPT09IGxpc3RlbmVyIHx8XG4gICAgICAgICAgKGxpc3RbaV0ubGlzdGVuZXIgJiYgbGlzdFtpXS5saXN0ZW5lciA9PT0gbGlzdGVuZXIpKSB7XG4gICAgICAgIHBvc2l0aW9uID0gaTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHBvc2l0aW9uIDwgMClcbiAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgaWYgKGxpc3QubGVuZ3RoID09PSAxKSB7XG4gICAgICBsaXN0Lmxlbmd0aCA9IDA7XG4gICAgICBkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGVdO1xuICAgIH0gZWxzZSB7XG4gICAgICBsaXN0LnNwbGljZShwb3NpdGlvbiwgMSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX2V2ZW50cy5yZW1vdmVMaXN0ZW5lcilcbiAgICAgIHRoaXMuZW1pdCgncmVtb3ZlTGlzdGVuZXInLCB0eXBlLCBsaXN0ZW5lcik7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID0gZnVuY3Rpb24odHlwZSkge1xuICB2YXIga2V5LCBsaXN0ZW5lcnM7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHMpXG4gICAgcmV0dXJuIHRoaXM7XG5cbiAgLy8gbm90IGxpc3RlbmluZyBmb3IgcmVtb3ZlTGlzdGVuZXIsIG5vIG5lZWQgdG8gZW1pdFxuICBpZiAoIXRoaXMuX2V2ZW50cy5yZW1vdmVMaXN0ZW5lcikge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKVxuICAgICAgdGhpcy5fZXZlbnRzID0ge307XG4gICAgZWxzZSBpZiAodGhpcy5fZXZlbnRzW3R5cGVdKVxuICAgICAgZGVsZXRlIHRoaXMuX2V2ZW50c1t0eXBlXTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8vIGVtaXQgcmVtb3ZlTGlzdGVuZXIgZm9yIGFsbCBsaXN0ZW5lcnMgb24gYWxsIGV2ZW50c1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgIGZvciAoa2V5IGluIHRoaXMuX2V2ZW50cykge1xuICAgICAgaWYgKGtleSA9PT0gJ3JlbW92ZUxpc3RlbmVyJykgY29udGludWU7XG4gICAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycyhrZXkpO1xuICAgIH1cbiAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygncmVtb3ZlTGlzdGVuZXInKTtcbiAgICB0aGlzLl9ldmVudHMgPSB7fTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50c1t0eXBlXTtcblxuICBpZiAoaXNGdW5jdGlvbihsaXN0ZW5lcnMpKSB7XG4gICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnMpO1xuICB9IGVsc2UgaWYgKGxpc3RlbmVycykge1xuICAgIC8vIExJRk8gb3JkZXJcbiAgICB3aGlsZSAobGlzdGVuZXJzLmxlbmd0aClcbiAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXJzW2xpc3RlbmVycy5sZW5ndGggLSAxXSk7XG4gIH1cbiAgZGVsZXRlIHRoaXMuX2V2ZW50c1t0eXBlXTtcblxuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJzID0gZnVuY3Rpb24odHlwZSkge1xuICB2YXIgcmV0O1xuICBpZiAoIXRoaXMuX2V2ZW50cyB8fCAhdGhpcy5fZXZlbnRzW3R5cGVdKVxuICAgIHJldCA9IFtdO1xuICBlbHNlIGlmIChpc0Z1bmN0aW9uKHRoaXMuX2V2ZW50c1t0eXBlXSkpXG4gICAgcmV0ID0gW3RoaXMuX2V2ZW50c1t0eXBlXV07XG4gIGVsc2VcbiAgICByZXQgPSB0aGlzLl9ldmVudHNbdHlwZV0uc2xpY2UoKTtcbiAgcmV0dXJuIHJldDtcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJDb3VudCA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgaWYgKHRoaXMuX2V2ZW50cykge1xuICAgIHZhciBldmxpc3RlbmVyID0gdGhpcy5fZXZlbnRzW3R5cGVdO1xuXG4gICAgaWYgKGlzRnVuY3Rpb24oZXZsaXN0ZW5lcikpXG4gICAgICByZXR1cm4gMTtcbiAgICBlbHNlIGlmIChldmxpc3RlbmVyKVxuICAgICAgcmV0dXJuIGV2bGlzdGVuZXIubGVuZ3RoO1xuICB9XG4gIHJldHVybiAwO1xufTtcblxuRXZlbnRFbWl0dGVyLmxpc3RlbmVyQ291bnQgPSBmdW5jdGlvbihlbWl0dGVyLCB0eXBlKSB7XG4gIHJldHVybiBlbWl0dGVyLmxpc3RlbmVyQ291bnQodHlwZSk7XG59O1xuXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ2Z1bmN0aW9uJztcbn1cblxuZnVuY3Rpb24gaXNOdW1iZXIoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnbnVtYmVyJztcbn1cblxuZnVuY3Rpb24gaXNPYmplY3QoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnb2JqZWN0JyAmJiBhcmcgIT09IG51bGw7XG59XG5cbmZ1bmN0aW9uIGlzVW5kZWZpbmVkKGFyZykge1xuICByZXR1cm4gYXJnID09PSB2b2lkIDA7XG59XG4iLCJ2YXIgaXNGdW5jdGlvbiA9IHJlcXVpcmUoJ2lzLWZ1bmN0aW9uJylcblxubW9kdWxlLmV4cG9ydHMgPSBmb3JFYWNoXG5cbnZhciB0b1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmdcbnZhciBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHlcblxuZnVuY3Rpb24gZm9yRWFjaChsaXN0LCBpdGVyYXRvciwgY29udGV4dCkge1xuICAgIGlmICghaXNGdW5jdGlvbihpdGVyYXRvcikpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignaXRlcmF0b3IgbXVzdCBiZSBhIGZ1bmN0aW9uJylcbiAgICB9XG5cbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDMpIHtcbiAgICAgICAgY29udGV4dCA9IHRoaXNcbiAgICB9XG4gICAgXG4gICAgaWYgKHRvU3RyaW5nLmNhbGwobGlzdCkgPT09ICdbb2JqZWN0IEFycmF5XScpXG4gICAgICAgIGZvckVhY2hBcnJheShsaXN0LCBpdGVyYXRvciwgY29udGV4dClcbiAgICBlbHNlIGlmICh0eXBlb2YgbGlzdCA9PT0gJ3N0cmluZycpXG4gICAgICAgIGZvckVhY2hTdHJpbmcobGlzdCwgaXRlcmF0b3IsIGNvbnRleHQpXG4gICAgZWxzZVxuICAgICAgICBmb3JFYWNoT2JqZWN0KGxpc3QsIGl0ZXJhdG9yLCBjb250ZXh0KVxufVxuXG5mdW5jdGlvbiBmb3JFYWNoQXJyYXkoYXJyYXksIGl0ZXJhdG9yLCBjb250ZXh0KSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGFycmF5Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGFycmF5LCBpKSkge1xuICAgICAgICAgICAgaXRlcmF0b3IuY2FsbChjb250ZXh0LCBhcnJheVtpXSwgaSwgYXJyYXkpXG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGZvckVhY2hTdHJpbmcoc3RyaW5nLCBpdGVyYXRvciwgY29udGV4dCkge1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBzdHJpbmcubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgLy8gbm8gc3VjaCB0aGluZyBhcyBhIHNwYXJzZSBzdHJpbmcuXG4gICAgICAgIGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgc3RyaW5nLmNoYXJBdChpKSwgaSwgc3RyaW5nKVxuICAgIH1cbn1cblxuZnVuY3Rpb24gZm9yRWFjaE9iamVjdChvYmplY3QsIGl0ZXJhdG9yLCBjb250ZXh0KSB7XG4gICAgZm9yICh2YXIgayBpbiBvYmplY3QpIHtcbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrKSkge1xuICAgICAgICAgICAgaXRlcmF0b3IuY2FsbChjb250ZXh0LCBvYmplY3Rba10sIGssIG9iamVjdClcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsInZhciB3aW47XG5cbmlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgd2luID0gd2luZG93O1xufSBlbHNlIGlmICh0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgd2luID0gZ2xvYmFsO1xufSBlbHNlIGlmICh0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIil7XG4gICAgd2luID0gc2VsZjtcbn0gZWxzZSB7XG4gICAgd2luID0ge307XG59XG5cbm1vZHVsZS5leHBvcnRzID0gd2luO1xuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihzdHJpbmdzKSB7XG4gIGlmICh0eXBlb2Ygc3RyaW5ncyA9PT0gJ3N0cmluZycpIHN0cmluZ3MgPSBbc3RyaW5nc11cbiAgdmFyIGV4cHJzID0gW10uc2xpY2UuY2FsbChhcmd1bWVudHMsMSlcbiAgdmFyIHBhcnRzID0gW11cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHJpbmdzLmxlbmd0aC0xOyBpKyspIHtcbiAgICBwYXJ0cy5wdXNoKHN0cmluZ3NbaV0sIGV4cHJzW2ldIHx8ICcnKVxuICB9XG4gIHBhcnRzLnB1c2goc3RyaW5nc1tpXSlcbiAgcmV0dXJuIHBhcnRzLmpvaW4oJycpXG59XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGlzTm9kZVxuXG5mdW5jdGlvbiBpc05vZGUgKHZhbCkge1xuICByZXR1cm4gKCF2YWwgfHwgdHlwZW9mIHZhbCAhPT0gJ29iamVjdCcpXG4gICAgPyBmYWxzZVxuICAgIDogKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnICYmIHR5cGVvZiB3aW5kb3cuTm9kZSA9PT0gJ29iamVjdCcpXG4gICAgICA/ICh2YWwgaW5zdGFuY2VvZiB3aW5kb3cuTm9kZSlcbiAgICAgIDogKHR5cGVvZiB2YWwubm9kZVR5cGUgPT09ICdudW1iZXInKSAmJlxuICAgICAgICAodHlwZW9mIHZhbC5ub2RlTmFtZSA9PT0gJ3N0cmluZycpXG59XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGlzRnVuY3Rpb25cblxudmFyIHRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZ1xuXG5mdW5jdGlvbiBpc0Z1bmN0aW9uIChmbikge1xuICB2YXIgc3RyaW5nID0gdG9TdHJpbmcuY2FsbChmbilcbiAgcmV0dXJuIHN0cmluZyA9PT0gJ1tvYmplY3QgRnVuY3Rpb25dJyB8fFxuICAgICh0eXBlb2YgZm4gPT09ICdmdW5jdGlvbicgJiYgc3RyaW5nICE9PSAnW29iamVjdCBSZWdFeHBdJykgfHxcbiAgICAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgLy8gSUU4IGFuZCBiZWxvd1xuICAgICAoZm4gPT09IHdpbmRvdy5zZXRUaW1lb3V0IHx8XG4gICAgICBmbiA9PT0gd2luZG93LmFsZXJ0IHx8XG4gICAgICBmbiA9PT0gd2luZG93LmNvbmZpcm0gfHxcbiAgICAgIGZuID09PSB3aW5kb3cucHJvbXB0KSlcbn07XG4iLCIvKlxub2JqZWN0LWFzc2lnblxuKGMpIFNpbmRyZSBTb3JodXNcbkBsaWNlbnNlIE1JVFxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cbnZhciBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xudmFyIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbnZhciBwcm9wSXNFbnVtZXJhYmxlID0gT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcblxuZnVuY3Rpb24gdG9PYmplY3QodmFsKSB7XG5cdGlmICh2YWwgPT09IG51bGwgfHwgdmFsID09PSB1bmRlZmluZWQpIHtcblx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdPYmplY3QuYXNzaWduIGNhbm5vdCBiZSBjYWxsZWQgd2l0aCBudWxsIG9yIHVuZGVmaW5lZCcpO1xuXHR9XG5cblx0cmV0dXJuIE9iamVjdCh2YWwpO1xufVxuXG5mdW5jdGlvbiBzaG91bGRVc2VOYXRpdmUoKSB7XG5cdHRyeSB7XG5cdFx0aWYgKCFPYmplY3QuYXNzaWduKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gRGV0ZWN0IGJ1Z2d5IHByb3BlcnR5IGVudW1lcmF0aW9uIG9yZGVyIGluIG9sZGVyIFY4IHZlcnNpb25zLlxuXG5cdFx0Ly8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9NDExOFxuXHRcdHZhciB0ZXN0MSA9IG5ldyBTdHJpbmcoJ2FiYycpOyAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1uZXctd3JhcHBlcnNcblx0XHR0ZXN0MVs1XSA9ICdkZSc7XG5cdFx0aWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRlc3QxKVswXSA9PT0gJzUnKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9MzA1NlxuXHRcdHZhciB0ZXN0MiA9IHt9O1xuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgMTA7IGkrKykge1xuXHRcdFx0dGVzdDJbJ18nICsgU3RyaW5nLmZyb21DaGFyQ29kZShpKV0gPSBpO1xuXHRcdH1cblx0XHR2YXIgb3JkZXIyID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGVzdDIpLm1hcChmdW5jdGlvbiAobikge1xuXHRcdFx0cmV0dXJuIHRlc3QyW25dO1xuXHRcdH0pO1xuXHRcdGlmIChvcmRlcjIuam9pbignJykgIT09ICcwMTIzNDU2Nzg5Jykge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTMwNTZcblx0XHR2YXIgdGVzdDMgPSB7fTtcblx0XHQnYWJjZGVmZ2hpamtsbW5vcHFyc3QnLnNwbGl0KCcnKS5mb3JFYWNoKGZ1bmN0aW9uIChsZXR0ZXIpIHtcblx0XHRcdHRlc3QzW2xldHRlcl0gPSBsZXR0ZXI7XG5cdFx0fSk7XG5cdFx0aWYgKE9iamVjdC5rZXlzKE9iamVjdC5hc3NpZ24oe30sIHRlc3QzKSkuam9pbignJykgIT09XG5cdFx0XHRcdCdhYmNkZWZnaGlqa2xtbm9wcXJzdCcpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0Ly8gV2UgZG9uJ3QgZXhwZWN0IGFueSBvZiB0aGUgYWJvdmUgdG8gdGhyb3csIGJ1dCBiZXR0ZXIgdG8gYmUgc2FmZS5cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzaG91bGRVc2VOYXRpdmUoKSA/IE9iamVjdC5hc3NpZ24gOiBmdW5jdGlvbiAodGFyZ2V0LCBzb3VyY2UpIHtcblx0dmFyIGZyb207XG5cdHZhciB0byA9IHRvT2JqZWN0KHRhcmdldCk7XG5cdHZhciBzeW1ib2xzO1xuXG5cdGZvciAodmFyIHMgPSAxOyBzIDwgYXJndW1lbnRzLmxlbmd0aDsgcysrKSB7XG5cdFx0ZnJvbSA9IE9iamVjdChhcmd1bWVudHNbc10pO1xuXG5cdFx0Zm9yICh2YXIga2V5IGluIGZyb20pIHtcblx0XHRcdGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGZyb20sIGtleSkpIHtcblx0XHRcdFx0dG9ba2V5XSA9IGZyb21ba2V5XTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG5cdFx0XHRzeW1ib2xzID0gZ2V0T3duUHJvcGVydHlTeW1ib2xzKGZyb20pO1xuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzeW1ib2xzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdGlmIChwcm9wSXNFbnVtZXJhYmxlLmNhbGwoZnJvbSwgc3ltYm9sc1tpXSkpIHtcblx0XHRcdFx0XHR0b1tzeW1ib2xzW2ldXSA9IGZyb21bc3ltYm9sc1tpXV07XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gdG87XG59O1xuIiwidmFyIHRyaW0gPSByZXF1aXJlKCd0cmltJylcbiAgLCBmb3JFYWNoID0gcmVxdWlyZSgnZm9yLWVhY2gnKVxuICAsIGlzQXJyYXkgPSBmdW5jdGlvbihhcmcpIHtcbiAgICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYXJnKSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbiAgICB9XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGhlYWRlcnMpIHtcbiAgaWYgKCFoZWFkZXJzKVxuICAgIHJldHVybiB7fVxuXG4gIHZhciByZXN1bHQgPSB7fVxuXG4gIGZvckVhY2goXG4gICAgICB0cmltKGhlYWRlcnMpLnNwbGl0KCdcXG4nKVxuICAgICwgZnVuY3Rpb24gKHJvdykge1xuICAgICAgICB2YXIgaW5kZXggPSByb3cuaW5kZXhPZignOicpXG4gICAgICAgICAgLCBrZXkgPSB0cmltKHJvdy5zbGljZSgwLCBpbmRleCkpLnRvTG93ZXJDYXNlKClcbiAgICAgICAgICAsIHZhbHVlID0gdHJpbShyb3cuc2xpY2UoaW5kZXggKyAxKSlcblxuICAgICAgICBpZiAodHlwZW9mKHJlc3VsdFtrZXldKSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICByZXN1bHRba2V5XSA9IHZhbHVlXG4gICAgICAgIH0gZWxzZSBpZiAoaXNBcnJheShyZXN1bHRba2V5XSkpIHtcbiAgICAgICAgICByZXN1bHRba2V5XS5wdXNoKHZhbHVlKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc3VsdFtrZXldID0gWyByZXN1bHRba2V5XSwgdmFsdWUgXVxuICAgICAgICB9XG4gICAgICB9XG4gIClcblxuICByZXR1cm4gcmVzdWx0XG59IiwiLy8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG52YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG5cbi8vIGNhY2hlZCBmcm9tIHdoYXRldmVyIGdsb2JhbCBpcyBwcmVzZW50IHNvIHRoYXQgdGVzdCBydW5uZXJzIHRoYXQgc3R1YiBpdFxuLy8gZG9uJ3QgYnJlYWsgdGhpbmdzLiAgQnV0IHdlIG5lZWQgdG8gd3JhcCBpdCBpbiBhIHRyeSBjYXRjaCBpbiBjYXNlIGl0IGlzXG4vLyB3cmFwcGVkIGluIHN0cmljdCBtb2RlIGNvZGUgd2hpY2ggZG9lc24ndCBkZWZpbmUgYW55IGdsb2JhbHMuICBJdCdzIGluc2lkZSBhXG4vLyBmdW5jdGlvbiBiZWNhdXNlIHRyeS9jYXRjaGVzIGRlb3B0aW1pemUgaW4gY2VydGFpbiBlbmdpbmVzLlxuXG52YXIgY2FjaGVkU2V0VGltZW91dDtcbnZhciBjYWNoZWRDbGVhclRpbWVvdXQ7XG5cbmZ1bmN0aW9uIGRlZmF1bHRTZXRUaW1vdXQoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG5mdW5jdGlvbiBkZWZhdWx0Q2xlYXJUaW1lb3V0ICgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuKGZ1bmN0aW9uICgpIHtcbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIHNldFRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIGNsZWFyVGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICB9XG59ICgpKVxuZnVuY3Rpb24gcnVuVGltZW91dChmdW4pIHtcbiAgICBpZiAoY2FjaGVkU2V0VGltZW91dCA9PT0gc2V0VGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgLy8gaWYgc2V0VGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZFNldFRpbWVvdXQgPT09IGRlZmF1bHRTZXRUaW1vdXQgfHwgIWNhY2hlZFNldFRpbWVvdXQpICYmIHNldFRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9IGNhdGNoKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0IHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKG51bGwsIGZ1biwgMCk7XG4gICAgICAgIH0gY2F0Y2goZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvclxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbCh0aGlzLCBmdW4sIDApO1xuICAgICAgICB9XG4gICAgfVxuXG5cbn1cbmZ1bmN0aW9uIHJ1bkNsZWFyVGltZW91dChtYXJrZXIpIHtcbiAgICBpZiAoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgLy8gaWYgY2xlYXJUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBkZWZhdWx0Q2xlYXJUaW1lb3V0IHx8ICFjYWNoZWRDbGVhclRpbWVvdXQpICYmIGNsZWFyVGltZW91dCkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfSBjYXRjaCAoZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgIHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwobnVsbCwgbWFya2VyKTtcbiAgICAgICAgfSBjYXRjaCAoZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvci5cbiAgICAgICAgICAgIC8vIFNvbWUgdmVyc2lvbnMgb2YgSS5FLiBoYXZlIGRpZmZlcmVudCBydWxlcyBmb3IgY2xlYXJUaW1lb3V0IHZzIHNldFRpbWVvdXRcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbCh0aGlzLCBtYXJrZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG5cblxufVxudmFyIHF1ZXVlID0gW107XG52YXIgZHJhaW5pbmcgPSBmYWxzZTtcbnZhciBjdXJyZW50UXVldWU7XG52YXIgcXVldWVJbmRleCA9IC0xO1xuXG5mdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XG4gICAgaWYgKCFkcmFpbmluZyB8fCAhY3VycmVudFF1ZXVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICB9XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBkcmFpblF1ZXVlKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmFpblF1ZXVlKCkge1xuICAgIGlmIChkcmFpbmluZykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciB0aW1lb3V0ID0gcnVuVGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuICAgIGRyYWluaW5nID0gdHJ1ZTtcblxuICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgd2hpbGUobGVuKSB7XG4gICAgICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuICAgICAgICBxdWV1ZSA9IFtdO1xuICAgICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudFF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIH1cbiAgICBjdXJyZW50UXVldWUgPSBudWxsO1xuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgcnVuQ2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xufVxuXG5wcm9jZXNzLm5leHRUaWNrID0gZnVuY3Rpb24gKGZ1bikge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcbiAgICAgICAgcnVuVGltZW91dChkcmFpblF1ZXVlKTtcbiAgICB9XG59O1xuXG4vLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5mdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcbiAgICB0aGlzLmZ1biA9IGZ1bjtcbiAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG59XG5JdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG59O1xucHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJztcbnByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5wcm9jZXNzLmVudiA9IHt9O1xucHJvY2Vzcy5hcmd2ID0gW107XG5wcm9jZXNzLnZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcbnByb2Nlc3MudmVyc2lvbnMgPSB7fTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnByb2Nlc3Mub24gPSBub29wO1xucHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLm9uY2UgPSBub29wO1xucHJvY2Vzcy5vZmYgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG5wcm9jZXNzLmVtaXQgPSBub29wO1xuXG5wcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5cbnByb2Nlc3MuY3dkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJy8nIH07XG5wcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xucHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcbiIsIm1vZHVsZS5leHBvcnRzID1cbiAgZ2xvYmFsLnBlcmZvcm1hbmNlICYmXG4gIGdsb2JhbC5wZXJmb3JtYW5jZS5ub3cgPyBmdW5jdGlvbiBub3coKSB7XG4gICAgcmV0dXJuIHBlcmZvcm1hbmNlLm5vdygpXG4gIH0gOiBEYXRlLm5vdyB8fCBmdW5jdGlvbiBub3coKSB7XG4gICAgcmV0dXJuICtuZXcgRGF0ZVxuICB9XG4iLCJ2YXIgaXNEb20gPSByZXF1aXJlKCdpcy1kb20nKVxudmFyIGxvb2t1cCA9IHJlcXVpcmUoJ2Jyb3dzZXItbWVkaWEtbWltZS10eXBlJylcblxubW9kdWxlLmV4cG9ydHMudmlkZW8gPSBzaW1wbGVNZWRpYUVsZW1lbnQuYmluZChudWxsLCAndmlkZW8nKVxubW9kdWxlLmV4cG9ydHMuYXVkaW8gPSBzaW1wbGVNZWRpYUVsZW1lbnQuYmluZChudWxsLCAnYXVkaW8nKVxuXG5mdW5jdGlvbiBzaW1wbGVNZWRpYUVsZW1lbnQgKGVsZW1lbnROYW1lLCBzb3VyY2VzLCBvcHQpIHtcbiAgb3B0ID0gb3B0IHx8IHt9XG5cbiAgaWYgKCFBcnJheS5pc0FycmF5KHNvdXJjZXMpKSB7XG4gICAgc291cmNlcyA9IFsgc291cmNlcyBdXG4gIH1cblxuICB2YXIgbWVkaWEgPSBvcHQuZWxlbWVudCB8fCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGVsZW1lbnROYW1lKVxuXG4gIGlmIChvcHQubG9vcCkgbWVkaWEuc2V0QXR0cmlidXRlKCdsb29wJywgJ2xvb3AnKVxuICBpZiAob3B0Lm11dGVkKSBtZWRpYS5zZXRBdHRyaWJ1dGUoJ211dGVkJywgJ211dGVkJylcbiAgaWYgKG9wdC5hdXRvcGxheSkgbWVkaWEuc2V0QXR0cmlidXRlKCdhdXRvcGxheScsICdhdXRvcGxheScpXG4gIGlmIChvcHQuY29udHJvbHMpIG1lZGlhLnNldEF0dHJpYnV0ZSgnY29udHJvbHMnLCAnY29udHJvbHMnKVxuICBpZiAob3B0LmNyb3NzT3JpZ2luKSBtZWRpYS5zZXRBdHRyaWJ1dGUoJ2Nyb3Nzb3JpZ2luJywgb3B0LmNyb3NzT3JpZ2luKVxuICBpZiAob3B0LnByZWxvYWQpIG1lZGlhLnNldEF0dHJpYnV0ZSgncHJlbG9hZCcsIG9wdC5wcmVsb2FkKVxuICBpZiAob3B0LnBvc3RlcikgbWVkaWEuc2V0QXR0cmlidXRlKCdwb3N0ZXInLCBvcHQucG9zdGVyKVxuICBpZiAodHlwZW9mIG9wdC52b2x1bWUgIT09ICd1bmRlZmluZWQnKSBtZWRpYS5zZXRBdHRyaWJ1dGUoJ3ZvbHVtZScsIG9wdC52b2x1bWUpXG5cbiAgc291cmNlcyA9IHNvdXJjZXMuZmlsdGVyKEJvb2xlYW4pXG4gIHNvdXJjZXMuZm9yRWFjaChmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgbWVkaWEuYXBwZW5kQ2hpbGQoY3JlYXRlU291cmNlRWxlbWVudChzb3VyY2UpKVxuICB9KVxuXG4gIHJldHVybiBtZWRpYVxufVxuXG5mdW5jdGlvbiBjcmVhdGVTb3VyY2VFbGVtZW50IChkYXRhKSB7XG4gIGlmIChpc0RvbShkYXRhKSkgcmV0dXJuIGRhdGFcbiAgaWYgKHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJykge1xuICAgIGRhdGEgPSB7IHNyYzogZGF0YSB9XG4gICAgaWYgKGRhdGEuc3JjKSB7XG4gICAgICB2YXIgZXh0ID0gZXh0ZW5zaW9uKGRhdGEuc3JjKVxuICAgICAgaWYgKGV4dCkgZGF0YS50eXBlID0gbG9va3VwKGV4dClcbiAgICB9XG4gIH1cblxuICB2YXIgc291cmNlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc291cmNlJylcbiAgaWYgKGRhdGEuc3JjKSBzb3VyY2Uuc2V0QXR0cmlidXRlKCdzcmMnLCBkYXRhLnNyYylcbiAgaWYgKGRhdGEudHlwZSkgc291cmNlLnNldEF0dHJpYnV0ZSgndHlwZScsIGRhdGEudHlwZSlcbiAgcmV0dXJuIHNvdXJjZVxufVxuXG5mdW5jdGlvbiBleHRlbnNpb24gKGRhdGEpIHtcbiAgdmFyIGV4dElkeCA9IGRhdGEubGFzdEluZGV4T2YoJy4nKVxuICBpZiAoZXh0SWR4IDw9IDAgfHwgZXh0SWR4ID09PSBkYXRhLmxlbmd0aCAtIDEpIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG4gIHJldHVybiBkYXRhLnN1YnN0cmluZyhleHRJZHggKyAxKVxufVxuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiggVEhSRUUgKSB7XG5cdC8qKlxuXHQgKiBAYXV0aG9yIHFpYW8gLyBodHRwczovL2dpdGh1Yi5jb20vcWlhb1xuXHQgKiBAYXV0aG9yIG1yZG9vYiAvIGh0dHA6Ly9tcmRvb2IuY29tXG5cdCAqIEBhdXRob3IgYWx0ZXJlZHEgLyBodHRwOi8vYWx0ZXJlZHF1YWxpYS5jb20vXG5cdCAqIEBhdXRob3IgV2VzdExhbmdsZXkgLyBodHRwOi8vZ2l0aHViLmNvbS9XZXN0TGFuZ2xleVxuXHQgKiBAYXV0aG9yIGVyaWNoNjY2IC8gaHR0cDovL2VyaWNoYWluZXMuY29tXG5cdCAqL1xuXG4vLyBUaGlzIHNldCBvZiBjb250cm9scyBwZXJmb3JtcyBvcmJpdGluZywgZG9sbHlpbmcgKHpvb21pbmcpLCBhbmQgcGFubmluZy5cbi8vIFVubGlrZSBUcmFja2JhbGxDb250cm9scywgaXQgbWFpbnRhaW5zIHRoZSBcInVwXCIgZGlyZWN0aW9uIG9iamVjdC51cCAoK1kgYnkgZGVmYXVsdCkuXG4vL1xuLy8gICAgT3JiaXQgLSBsZWZ0IG1vdXNlIC8gdG91Y2g6IG9uZSBmaW5nZXIgbW92ZVxuLy8gICAgWm9vbSAtIG1pZGRsZSBtb3VzZSwgb3IgbW91c2V3aGVlbCAvIHRvdWNoOiB0d28gZmluZ2VyIHNwcmVhZCBvciBzcXVpc2hcbi8vICAgIFBhbiAtIHJpZ2h0IG1vdXNlLCBvciBhcnJvdyBrZXlzIC8gdG91Y2g6IHRocmVlIGZpbnRlciBzd2lwZVxuXG5cdGZ1bmN0aW9uIE9yYml0Q29udHJvbHMoIG9iamVjdCwgZG9tRWxlbWVudCApIHtcblxuXHRcdHRoaXMub2JqZWN0ID0gb2JqZWN0O1xuXG5cdFx0dGhpcy5kb21FbGVtZW50ID0gKCBkb21FbGVtZW50ICE9PSB1bmRlZmluZWQgKSA/IGRvbUVsZW1lbnQgOiBkb2N1bWVudDtcblxuXHRcdC8vIFNldCB0byBmYWxzZSB0byBkaXNhYmxlIHRoaXMgY29udHJvbFxuXHRcdHRoaXMuZW5hYmxlZCA9IHRydWU7XG5cblx0XHQvLyBcInRhcmdldFwiIHNldHMgdGhlIGxvY2F0aW9uIG9mIGZvY3VzLCB3aGVyZSB0aGUgb2JqZWN0IG9yYml0cyBhcm91bmRcblx0XHR0aGlzLnRhcmdldCA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7XG5cblx0XHQvLyBIb3cgZmFyIHlvdSBjYW4gZG9sbHkgaW4gYW5kIG91dCAoIFBlcnNwZWN0aXZlQ2FtZXJhIG9ubHkgKVxuXHRcdHRoaXMubWluRGlzdGFuY2UgPSAwO1xuXHRcdHRoaXMubWF4RGlzdGFuY2UgPSBJbmZpbml0eTtcblxuXHRcdC8vIEhvdyBmYXIgeW91IGNhbiB6b29tIGluIGFuZCBvdXQgKCBPcnRob2dyYXBoaWNDYW1lcmEgb25seSApXG5cdFx0dGhpcy5taW5ab29tID0gMDtcblx0XHR0aGlzLm1heFpvb20gPSBJbmZpbml0eTtcblxuXHRcdC8vIEhvdyBmYXIgeW91IGNhbiBvcmJpdCB2ZXJ0aWNhbGx5LCB1cHBlciBhbmQgbG93ZXIgbGltaXRzLlxuXHRcdC8vIFJhbmdlIGlzIDAgdG8gTWF0aC5QSSByYWRpYW5zLlxuXHRcdHRoaXMubWluUG9sYXJBbmdsZSA9IDA7IC8vIHJhZGlhbnNcblx0XHR0aGlzLm1heFBvbGFyQW5nbGUgPSBNYXRoLlBJOyAvLyByYWRpYW5zXG5cblx0XHQvLyBIb3cgZmFyIHlvdSBjYW4gb3JiaXQgaG9yaXpvbnRhbGx5LCB1cHBlciBhbmQgbG93ZXIgbGltaXRzLlxuXHRcdC8vIElmIHNldCwgbXVzdCBiZSBhIHN1Yi1pbnRlcnZhbCBvZiB0aGUgaW50ZXJ2YWwgWyAtIE1hdGguUEksIE1hdGguUEkgXS5cblx0XHR0aGlzLm1pbkF6aW11dGhBbmdsZSA9IC0gSW5maW5pdHk7IC8vIHJhZGlhbnNcblx0XHR0aGlzLm1heEF6aW11dGhBbmdsZSA9IEluZmluaXR5OyAvLyByYWRpYW5zXG5cblx0XHQvLyBTZXQgdG8gdHJ1ZSB0byBlbmFibGUgZGFtcGluZyAoaW5lcnRpYSlcblx0XHQvLyBJZiBkYW1waW5nIGlzIGVuYWJsZWQsIHlvdSBtdXN0IGNhbGwgY29udHJvbHMudXBkYXRlKCkgaW4geW91ciBhbmltYXRpb24gbG9vcFxuXHRcdHRoaXMuZW5hYmxlRGFtcGluZyA9IGZhbHNlO1xuXHRcdHRoaXMuZGFtcGluZ0ZhY3RvciA9IDAuMjU7XG5cblx0XHQvLyBUaGlzIG9wdGlvbiBhY3R1YWxseSBlbmFibGVzIGRvbGx5aW5nIGluIGFuZCBvdXQ7IGxlZnQgYXMgXCJ6b29tXCIgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5LlxuXHRcdC8vIFNldCB0byBmYWxzZSB0byBkaXNhYmxlIHpvb21pbmdcblx0XHR0aGlzLmVuYWJsZVpvb20gPSB0cnVlO1xuXHRcdHRoaXMuem9vbVNwZWVkID0gMS4wO1xuXG5cdFx0Ly8gU2V0IHRvIGZhbHNlIHRvIGRpc2FibGUgcm90YXRpbmdcblx0XHR0aGlzLmVuYWJsZVJvdGF0ZSA9IHRydWU7XG5cdFx0dGhpcy5yb3RhdGVTcGVlZCA9IDEuMDtcblxuXHRcdC8vIFNldCB0byBmYWxzZSB0byBkaXNhYmxlIHBhbm5pbmdcblx0XHR0aGlzLmVuYWJsZVBhbiA9IHRydWU7XG5cdFx0dGhpcy5rZXlQYW5TcGVlZCA9IDcuMDtcdC8vIHBpeGVscyBtb3ZlZCBwZXIgYXJyb3cga2V5IHB1c2hcblxuXHRcdC8vIFNldCB0byB0cnVlIHRvIGF1dG9tYXRpY2FsbHkgcm90YXRlIGFyb3VuZCB0aGUgdGFyZ2V0XG5cdFx0Ly8gSWYgYXV0by1yb3RhdGUgaXMgZW5hYmxlZCwgeW91IG11c3QgY2FsbCBjb250cm9scy51cGRhdGUoKSBpbiB5b3VyIGFuaW1hdGlvbiBsb29wXG5cdFx0dGhpcy5hdXRvUm90YXRlID0gZmFsc2U7XG5cdFx0dGhpcy5hdXRvUm90YXRlU3BlZWQgPSAyLjA7IC8vIDMwIHNlY29uZHMgcGVyIHJvdW5kIHdoZW4gZnBzIGlzIDYwXG5cblx0XHQvLyBTZXQgdG8gZmFsc2UgdG8gZGlzYWJsZSB1c2Ugb2YgdGhlIGtleXNcblx0XHR0aGlzLmVuYWJsZUtleXMgPSB0cnVlO1xuXG5cdFx0Ly8gVGhlIGZvdXIgYXJyb3cga2V5c1xuXHRcdHRoaXMua2V5cyA9IHsgTEVGVDogMzcsIFVQOiAzOCwgUklHSFQ6IDM5LCBCT1RUT006IDQwIH07XG5cblx0XHQvLyBNb3VzZSBidXR0b25zXG5cdFx0dGhpcy5tb3VzZUJ1dHRvbnMgPSB7IE9SQklUOiBUSFJFRS5NT1VTRS5MRUZULCBaT09NOiBUSFJFRS5NT1VTRS5NSURETEUsIFBBTjogVEhSRUUuTU9VU0UuUklHSFQgfTtcblxuXHRcdC8vIGZvciByZXNldFxuXHRcdHRoaXMudGFyZ2V0MCA9IHRoaXMudGFyZ2V0LmNsb25lKCk7XG5cdFx0dGhpcy5wb3NpdGlvbjAgPSB0aGlzLm9iamVjdC5wb3NpdGlvbi5jbG9uZSgpO1xuXHRcdHRoaXMuem9vbTAgPSB0aGlzLm9iamVjdC56b29tO1xuXG5cdFx0Ly9cblx0XHQvLyBwdWJsaWMgbWV0aG9kc1xuXHRcdC8vXG5cblx0XHR0aGlzLmdldFBvbGFyQW5nbGUgPSBmdW5jdGlvbiAoKSB7XG5cblx0XHRcdHJldHVybiBzcGhlcmljYWwucGhpO1xuXG5cdFx0fTtcblxuXHRcdHRoaXMuZ2V0QXppbXV0aGFsQW5nbGUgPSBmdW5jdGlvbiAoKSB7XG5cblx0XHRcdHJldHVybiBzcGhlcmljYWwudGhldGE7XG5cblx0XHR9O1xuXG5cdFx0dGhpcy5yZXNldCA9IGZ1bmN0aW9uICgpIHtcblxuXHRcdFx0c2NvcGUudGFyZ2V0LmNvcHkoIHNjb3BlLnRhcmdldDAgKTtcblx0XHRcdHNjb3BlLm9iamVjdC5wb3NpdGlvbi5jb3B5KCBzY29wZS5wb3NpdGlvbjAgKTtcblx0XHRcdHNjb3BlLm9iamVjdC56b29tID0gc2NvcGUuem9vbTA7XG5cblx0XHRcdHNjb3BlLm9iamVjdC51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG5cdFx0XHRzY29wZS5kaXNwYXRjaEV2ZW50KCBjaGFuZ2VFdmVudCApO1xuXG5cdFx0XHRzY29wZS51cGRhdGUoKTtcblxuXHRcdFx0c3RhdGUgPSBTVEFURS5OT05FO1xuXG5cdFx0fTtcblxuXHRcdC8vIHRoaXMgbWV0aG9kIGlzIGV4cG9zZWQsIGJ1dCBwZXJoYXBzIGl0IHdvdWxkIGJlIGJldHRlciBpZiB3ZSBjYW4gbWFrZSBpdCBwcml2YXRlLi4uXG5cdFx0dGhpcy51cGRhdGUgPSBmdW5jdGlvbigpIHtcblxuXHRcdFx0dmFyIG9mZnNldCA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7XG5cblx0XHRcdC8vIHNvIGNhbWVyYS51cCBpcyB0aGUgb3JiaXQgYXhpc1xuXHRcdFx0dmFyIHF1YXQgPSBuZXcgVEhSRUUuUXVhdGVybmlvbigpLnNldEZyb21Vbml0VmVjdG9ycyggb2JqZWN0LnVwLCBuZXcgVEhSRUUuVmVjdG9yMyggMCwgMSwgMCApICk7XG5cdFx0XHR2YXIgcXVhdEludmVyc2UgPSBxdWF0LmNsb25lKCkuaW52ZXJzZSgpO1xuXG5cdFx0XHR2YXIgbGFzdFBvc2l0aW9uID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcblx0XHRcdHZhciBsYXN0UXVhdGVybmlvbiA9IG5ldyBUSFJFRS5RdWF0ZXJuaW9uKCk7XG5cblx0XHRcdHJldHVybiBmdW5jdGlvbiB1cGRhdGUgKCkge1xuXG5cdFx0XHRcdHZhciBwb3NpdGlvbiA9IHNjb3BlLm9iamVjdC5wb3NpdGlvbjtcblxuXHRcdFx0XHRvZmZzZXQuY29weSggcG9zaXRpb24gKS5zdWIoIHNjb3BlLnRhcmdldCApO1xuXG5cdFx0XHRcdC8vIHJvdGF0ZSBvZmZzZXQgdG8gXCJ5LWF4aXMtaXMtdXBcIiBzcGFjZVxuXHRcdFx0XHRvZmZzZXQuYXBwbHlRdWF0ZXJuaW9uKCBxdWF0ICk7XG5cblx0XHRcdFx0Ly8gYW5nbGUgZnJvbSB6LWF4aXMgYXJvdW5kIHktYXhpc1xuXHRcdFx0XHRzcGhlcmljYWwuc2V0RnJvbVZlY3RvcjMoIG9mZnNldCApO1xuXG5cdFx0XHRcdGlmICggc2NvcGUuYXV0b1JvdGF0ZSAmJiBzdGF0ZSA9PT0gU1RBVEUuTk9ORSApIHtcblxuXHRcdFx0XHRcdHJvdGF0ZUxlZnQoIGdldEF1dG9Sb3RhdGlvbkFuZ2xlKCkgKTtcblxuXHRcdFx0XHR9XG5cblx0XHRcdFx0c3BoZXJpY2FsLnRoZXRhICs9IHNwaGVyaWNhbERlbHRhLnRoZXRhO1xuXHRcdFx0XHRzcGhlcmljYWwucGhpICs9IHNwaGVyaWNhbERlbHRhLnBoaTtcblxuXHRcdFx0XHQvLyByZXN0cmljdCB0aGV0YSB0byBiZSBiZXR3ZWVuIGRlc2lyZWQgbGltaXRzXG5cdFx0XHRcdHNwaGVyaWNhbC50aGV0YSA9IE1hdGgubWF4KCBzY29wZS5taW5BemltdXRoQW5nbGUsIE1hdGgubWluKCBzY29wZS5tYXhBemltdXRoQW5nbGUsIHNwaGVyaWNhbC50aGV0YSApICk7XG5cblx0XHRcdFx0Ly8gcmVzdHJpY3QgcGhpIHRvIGJlIGJldHdlZW4gZGVzaXJlZCBsaW1pdHNcblx0XHRcdFx0c3BoZXJpY2FsLnBoaSA9IE1hdGgubWF4KCBzY29wZS5taW5Qb2xhckFuZ2xlLCBNYXRoLm1pbiggc2NvcGUubWF4UG9sYXJBbmdsZSwgc3BoZXJpY2FsLnBoaSApICk7XG5cblx0XHRcdFx0c3BoZXJpY2FsLm1ha2VTYWZlKCk7XG5cblxuXHRcdFx0XHRzcGhlcmljYWwucmFkaXVzICo9IHNjYWxlO1xuXG5cdFx0XHRcdC8vIHJlc3RyaWN0IHJhZGl1cyB0byBiZSBiZXR3ZWVuIGRlc2lyZWQgbGltaXRzXG5cdFx0XHRcdHNwaGVyaWNhbC5yYWRpdXMgPSBNYXRoLm1heCggc2NvcGUubWluRGlzdGFuY2UsIE1hdGgubWluKCBzY29wZS5tYXhEaXN0YW5jZSwgc3BoZXJpY2FsLnJhZGl1cyApICk7XG5cblx0XHRcdFx0Ly8gbW92ZSB0YXJnZXQgdG8gcGFubmVkIGxvY2F0aW9uXG5cdFx0XHRcdHNjb3BlLnRhcmdldC5hZGQoIHBhbk9mZnNldCApO1xuXG5cdFx0XHRcdG9mZnNldC5zZXRGcm9tU3BoZXJpY2FsKCBzcGhlcmljYWwgKTtcblxuXHRcdFx0XHQvLyByb3RhdGUgb2Zmc2V0IGJhY2sgdG8gXCJjYW1lcmEtdXAtdmVjdG9yLWlzLXVwXCIgc3BhY2Vcblx0XHRcdFx0b2Zmc2V0LmFwcGx5UXVhdGVybmlvbiggcXVhdEludmVyc2UgKTtcblxuXHRcdFx0XHRwb3NpdGlvbi5jb3B5KCBzY29wZS50YXJnZXQgKS5hZGQoIG9mZnNldCApO1xuXG5cdFx0XHRcdHNjb3BlLm9iamVjdC5sb29rQXQoIHNjb3BlLnRhcmdldCApO1xuXG5cdFx0XHRcdGlmICggc2NvcGUuZW5hYmxlRGFtcGluZyA9PT0gdHJ1ZSApIHtcblxuXHRcdFx0XHRcdHNwaGVyaWNhbERlbHRhLnRoZXRhICo9ICggMSAtIHNjb3BlLmRhbXBpbmdGYWN0b3IgKTtcblx0XHRcdFx0XHRzcGhlcmljYWxEZWx0YS5waGkgKj0gKCAxIC0gc2NvcGUuZGFtcGluZ0ZhY3RvciApO1xuXG5cdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHRzcGhlcmljYWxEZWx0YS5zZXQoIDAsIDAsIDAgKTtcblxuXHRcdFx0XHR9XG5cblx0XHRcdFx0c2NhbGUgPSAxO1xuXHRcdFx0XHRwYW5PZmZzZXQuc2V0KCAwLCAwLCAwICk7XG5cblx0XHRcdFx0Ly8gdXBkYXRlIGNvbmRpdGlvbiBpczpcblx0XHRcdFx0Ly8gbWluKGNhbWVyYSBkaXNwbGFjZW1lbnQsIGNhbWVyYSByb3RhdGlvbiBpbiByYWRpYW5zKV4yID4gRVBTXG5cdFx0XHRcdC8vIHVzaW5nIHNtYWxsLWFuZ2xlIGFwcHJveGltYXRpb24gY29zKHgvMikgPSAxIC0geF4yIC8gOFxuXG5cdFx0XHRcdGlmICggem9vbUNoYW5nZWQgfHxcblx0XHRcdFx0XHRsYXN0UG9zaXRpb24uZGlzdGFuY2VUb1NxdWFyZWQoIHNjb3BlLm9iamVjdC5wb3NpdGlvbiApID4gRVBTIHx8XG5cdFx0XHRcdFx0OCAqICggMSAtIGxhc3RRdWF0ZXJuaW9uLmRvdCggc2NvcGUub2JqZWN0LnF1YXRlcm5pb24gKSApID4gRVBTICkge1xuXG5cdFx0XHRcdFx0c2NvcGUuZGlzcGF0Y2hFdmVudCggY2hhbmdlRXZlbnQgKTtcblxuXHRcdFx0XHRcdGxhc3RQb3NpdGlvbi5jb3B5KCBzY29wZS5vYmplY3QucG9zaXRpb24gKTtcblx0XHRcdFx0XHRsYXN0UXVhdGVybmlvbi5jb3B5KCBzY29wZS5vYmplY3QucXVhdGVybmlvbiApO1xuXHRcdFx0XHRcdHpvb21DaGFuZ2VkID0gZmFsc2U7XG5cblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblxuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXG5cdFx0XHR9O1xuXG5cdFx0fSgpO1xuXG5cdFx0dGhpcy5kaXNwb3NlID0gZnVuY3Rpb24oKSB7XG5cblx0XHRcdHNjb3BlLmRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lciggJ2NvbnRleHRtZW51Jywgb25Db250ZXh0TWVudSwgZmFsc2UgKTtcblx0XHRcdHNjb3BlLmRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lciggJ21vdXNlZG93bicsIG9uTW91c2VEb3duLCBmYWxzZSApO1xuXHRcdFx0c2NvcGUuZG9tRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCAnd2hlZWwnLCBvbk1vdXNlV2hlZWwsIGZhbHNlICk7XG5cblx0XHRcdHNjb3BlLmRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lciggJ3RvdWNoc3RhcnQnLCBvblRvdWNoU3RhcnQsIGZhbHNlICk7XG5cdFx0XHRzY29wZS5kb21FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoICd0b3VjaGVuZCcsIG9uVG91Y2hFbmQsIGZhbHNlICk7XG5cdFx0XHRzY29wZS5kb21FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoICd0b3VjaG1vdmUnLCBvblRvdWNoTW92ZSwgZmFsc2UgKTtcblxuXHRcdFx0ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lciggJ21vdXNlbW92ZScsIG9uTW91c2VNb3ZlLCBmYWxzZSApO1xuXHRcdFx0ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lciggJ21vdXNldXAnLCBvbk1vdXNlVXAsIGZhbHNlICk7XG5cblx0XHRcdHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCAna2V5ZG93bicsIG9uS2V5RG93biwgZmFsc2UgKTtcblxuXHRcdFx0Ly9zY29wZS5kaXNwYXRjaEV2ZW50KCB7IHR5cGU6ICdkaXNwb3NlJyB9ICk7IC8vIHNob3VsZCB0aGlzIGJlIGFkZGVkIGhlcmU/XG5cblx0XHR9O1xuXG5cdFx0Ly9cblx0XHQvLyBpbnRlcm5hbHNcblx0XHQvL1xuXG5cdFx0dmFyIHNjb3BlID0gdGhpcztcblxuXHRcdHZhciBjaGFuZ2VFdmVudCA9IHsgdHlwZTogJ2NoYW5nZScgfTtcblx0XHR2YXIgc3RhcnRFdmVudCA9IHsgdHlwZTogJ3N0YXJ0JyB9O1xuXHRcdHZhciBlbmRFdmVudCA9IHsgdHlwZTogJ2VuZCcgfTtcblxuXHRcdHZhciBTVEFURSA9IHsgTk9ORSA6IC0gMSwgUk9UQVRFIDogMCwgRE9MTFkgOiAxLCBQQU4gOiAyLCBUT1VDSF9ST1RBVEUgOiAzLCBUT1VDSF9ET0xMWSA6IDQsIFRPVUNIX1BBTiA6IDUgfTtcblxuXHRcdHZhciBzdGF0ZSA9IFNUQVRFLk5PTkU7XG5cblx0XHR2YXIgRVBTID0gMC4wMDAwMDE7XG5cblx0XHQvLyBjdXJyZW50IHBvc2l0aW9uIGluIHNwaGVyaWNhbCBjb29yZGluYXRlc1xuXHRcdHZhciBzcGhlcmljYWwgPSBuZXcgVEhSRUUuU3BoZXJpY2FsKCk7XG5cdFx0dmFyIHNwaGVyaWNhbERlbHRhID0gbmV3IFRIUkVFLlNwaGVyaWNhbCgpO1xuXG5cdFx0dmFyIHNjYWxlID0gMTtcblx0XHR2YXIgcGFuT2Zmc2V0ID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcblx0XHR2YXIgem9vbUNoYW5nZWQgPSBmYWxzZTtcblxuXHRcdHZhciByb3RhdGVTdGFydCA9IG5ldyBUSFJFRS5WZWN0b3IyKCk7XG5cdFx0dmFyIHJvdGF0ZUVuZCA9IG5ldyBUSFJFRS5WZWN0b3IyKCk7XG5cdFx0dmFyIHJvdGF0ZURlbHRhID0gbmV3IFRIUkVFLlZlY3RvcjIoKTtcblxuXHRcdHZhciBwYW5TdGFydCA9IG5ldyBUSFJFRS5WZWN0b3IyKCk7XG5cdFx0dmFyIHBhbkVuZCA9IG5ldyBUSFJFRS5WZWN0b3IyKCk7XG5cdFx0dmFyIHBhbkRlbHRhID0gbmV3IFRIUkVFLlZlY3RvcjIoKTtcblxuXHRcdHZhciBkb2xseVN0YXJ0ID0gbmV3IFRIUkVFLlZlY3RvcjIoKTtcblx0XHR2YXIgZG9sbHlFbmQgPSBuZXcgVEhSRUUuVmVjdG9yMigpO1xuXHRcdHZhciBkb2xseURlbHRhID0gbmV3IFRIUkVFLlZlY3RvcjIoKTtcblxuXHRcdGZ1bmN0aW9uIGdldEF1dG9Sb3RhdGlvbkFuZ2xlKCkge1xuXG5cdFx0XHRyZXR1cm4gMiAqIE1hdGguUEkgLyA2MCAvIDYwICogc2NvcGUuYXV0b1JvdGF0ZVNwZWVkO1xuXG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gZ2V0Wm9vbVNjYWxlKCkge1xuXG5cdFx0XHRyZXR1cm4gTWF0aC5wb3coIDAuOTUsIHNjb3BlLnpvb21TcGVlZCApO1xuXG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gcm90YXRlTGVmdCggYW5nbGUgKSB7XG5cblx0XHRcdHNwaGVyaWNhbERlbHRhLnRoZXRhIC09IGFuZ2xlO1xuXG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gcm90YXRlVXAoIGFuZ2xlICkge1xuXG5cdFx0XHRzcGhlcmljYWxEZWx0YS5waGkgLT0gYW5nbGU7XG5cblx0XHR9XG5cblx0XHR2YXIgcGFuTGVmdCA9IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHR2YXIgdiA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7XG5cblx0XHRcdHJldHVybiBmdW5jdGlvbiBwYW5MZWZ0KCBkaXN0YW5jZSwgb2JqZWN0TWF0cml4ICkge1xuXG5cdFx0XHRcdHYuc2V0RnJvbU1hdHJpeENvbHVtbiggb2JqZWN0TWF0cml4LCAwICk7IC8vIGdldCBYIGNvbHVtbiBvZiBvYmplY3RNYXRyaXhcblx0XHRcdFx0di5tdWx0aXBseVNjYWxhciggLSBkaXN0YW5jZSApO1xuXG5cdFx0XHRcdHBhbk9mZnNldC5hZGQoIHYgKTtcblxuXHRcdFx0fTtcblxuXHRcdH0oKTtcblxuXHRcdHZhciBwYW5VcCA9IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHR2YXIgdiA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7XG5cblx0XHRcdHJldHVybiBmdW5jdGlvbiBwYW5VcCggZGlzdGFuY2UsIG9iamVjdE1hdHJpeCApIHtcblxuXHRcdFx0XHR2LnNldEZyb21NYXRyaXhDb2x1bW4oIG9iamVjdE1hdHJpeCwgMSApOyAvLyBnZXQgWSBjb2x1bW4gb2Ygb2JqZWN0TWF0cml4XG5cdFx0XHRcdHYubXVsdGlwbHlTY2FsYXIoIGRpc3RhbmNlICk7XG5cblx0XHRcdFx0cGFuT2Zmc2V0LmFkZCggdiApO1xuXG5cdFx0XHR9O1xuXG5cdFx0fSgpO1xuXG5cdFx0Ly8gZGVsdGFYIGFuZCBkZWx0YVkgYXJlIGluIHBpeGVsczsgcmlnaHQgYW5kIGRvd24gYXJlIHBvc2l0aXZlXG5cdFx0dmFyIHBhbiA9IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHR2YXIgb2Zmc2V0ID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcblxuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uIHBhbiAoIGRlbHRhWCwgZGVsdGFZICkge1xuXG5cdFx0XHRcdHZhciBlbGVtZW50ID0gc2NvcGUuZG9tRWxlbWVudCA9PT0gZG9jdW1lbnQgPyBzY29wZS5kb21FbGVtZW50LmJvZHkgOiBzY29wZS5kb21FbGVtZW50O1xuXG5cdFx0XHRcdGlmICggc2NvcGUub2JqZWN0IGluc3RhbmNlb2YgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEgKSB7XG5cblx0XHRcdFx0XHQvLyBwZXJzcGVjdGl2ZVxuXHRcdFx0XHRcdHZhciBwb3NpdGlvbiA9IHNjb3BlLm9iamVjdC5wb3NpdGlvbjtcblx0XHRcdFx0XHRvZmZzZXQuY29weSggcG9zaXRpb24gKS5zdWIoIHNjb3BlLnRhcmdldCApO1xuXHRcdFx0XHRcdHZhciB0YXJnZXREaXN0YW5jZSA9IG9mZnNldC5sZW5ndGgoKTtcblxuXHRcdFx0XHRcdC8vIGhhbGYgb2YgdGhlIGZvdiBpcyBjZW50ZXIgdG8gdG9wIG9mIHNjcmVlblxuXHRcdFx0XHRcdHRhcmdldERpc3RhbmNlICo9IE1hdGgudGFuKCAoIHNjb3BlLm9iamVjdC5mb3YgLyAyICkgKiBNYXRoLlBJIC8gMTgwLjAgKTtcblxuXHRcdFx0XHRcdC8vIHdlIGFjdHVhbGx5IGRvbid0IHVzZSBzY3JlZW5XaWR0aCwgc2luY2UgcGVyc3BlY3RpdmUgY2FtZXJhIGlzIGZpeGVkIHRvIHNjcmVlbiBoZWlnaHRcblx0XHRcdFx0XHRwYW5MZWZ0KCAyICogZGVsdGFYICogdGFyZ2V0RGlzdGFuY2UgLyBlbGVtZW50LmNsaWVudEhlaWdodCwgc2NvcGUub2JqZWN0Lm1hdHJpeCApO1xuXHRcdFx0XHRcdHBhblVwKCAyICogZGVsdGFZICogdGFyZ2V0RGlzdGFuY2UgLyBlbGVtZW50LmNsaWVudEhlaWdodCwgc2NvcGUub2JqZWN0Lm1hdHJpeCApO1xuXG5cdFx0XHRcdH0gZWxzZSBpZiAoIHNjb3BlLm9iamVjdCBpbnN0YW5jZW9mIFRIUkVFLk9ydGhvZ3JhcGhpY0NhbWVyYSApIHtcblxuXHRcdFx0XHRcdC8vIG9ydGhvZ3JhcGhpY1xuXHRcdFx0XHRcdHBhbkxlZnQoIGRlbHRhWCAqICggc2NvcGUub2JqZWN0LnJpZ2h0IC0gc2NvcGUub2JqZWN0LmxlZnQgKSAvIHNjb3BlLm9iamVjdC56b29tIC8gZWxlbWVudC5jbGllbnRXaWR0aCwgc2NvcGUub2JqZWN0Lm1hdHJpeCApO1xuXHRcdFx0XHRcdHBhblVwKCBkZWx0YVkgKiAoIHNjb3BlLm9iamVjdC50b3AgLSBzY29wZS5vYmplY3QuYm90dG9tICkgLyBzY29wZS5vYmplY3Quem9vbSAvIGVsZW1lbnQuY2xpZW50SGVpZ2h0LCBzY29wZS5vYmplY3QubWF0cml4ICk7XG5cblx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdC8vIGNhbWVyYSBuZWl0aGVyIG9ydGhvZ3JhcGhpYyBub3IgcGVyc3BlY3RpdmVcblx0XHRcdFx0XHRjb25zb2xlLndhcm4oICdXQVJOSU5HOiBPcmJpdENvbnRyb2xzLmpzIGVuY291bnRlcmVkIGFuIHVua25vd24gY2FtZXJhIHR5cGUgLSBwYW4gZGlzYWJsZWQuJyApO1xuXHRcdFx0XHRcdHNjb3BlLmVuYWJsZVBhbiA9IGZhbHNlO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0fTtcblxuXHRcdH0oKTtcblxuXHRcdGZ1bmN0aW9uIGRvbGx5SW4oIGRvbGx5U2NhbGUgKSB7XG5cblx0XHRcdGlmICggc2NvcGUub2JqZWN0IGluc3RhbmNlb2YgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEgKSB7XG5cblx0XHRcdFx0c2NhbGUgLz0gZG9sbHlTY2FsZTtcblxuXHRcdFx0fSBlbHNlIGlmICggc2NvcGUub2JqZWN0IGluc3RhbmNlb2YgVEhSRUUuT3J0aG9ncmFwaGljQ2FtZXJhICkge1xuXG5cdFx0XHRcdHNjb3BlLm9iamVjdC56b29tID0gTWF0aC5tYXgoIHNjb3BlLm1pblpvb20sIE1hdGgubWluKCBzY29wZS5tYXhab29tLCBzY29wZS5vYmplY3Quem9vbSAqIGRvbGx5U2NhbGUgKSApO1xuXHRcdFx0XHRzY29wZS5vYmplY3QudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuXHRcdFx0XHR6b29tQ2hhbmdlZCA9IHRydWU7XG5cblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0Y29uc29sZS53YXJuKCAnV0FSTklORzogT3JiaXRDb250cm9scy5qcyBlbmNvdW50ZXJlZCBhbiB1bmtub3duIGNhbWVyYSB0eXBlIC0gZG9sbHkvem9vbSBkaXNhYmxlZC4nICk7XG5cdFx0XHRcdHNjb3BlLmVuYWJsZVpvb20gPSBmYWxzZTtcblxuXHRcdFx0fVxuXG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gZG9sbHlPdXQoIGRvbGx5U2NhbGUgKSB7XG5cblx0XHRcdGlmICggc2NvcGUub2JqZWN0IGluc3RhbmNlb2YgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEgKSB7XG5cblx0XHRcdFx0c2NhbGUgKj0gZG9sbHlTY2FsZTtcblxuXHRcdFx0fSBlbHNlIGlmICggc2NvcGUub2JqZWN0IGluc3RhbmNlb2YgVEhSRUUuT3J0aG9ncmFwaGljQ2FtZXJhICkge1xuXG5cdFx0XHRcdHNjb3BlLm9iamVjdC56b29tID0gTWF0aC5tYXgoIHNjb3BlLm1pblpvb20sIE1hdGgubWluKCBzY29wZS5tYXhab29tLCBzY29wZS5vYmplY3Quem9vbSAvIGRvbGx5U2NhbGUgKSApO1xuXHRcdFx0XHRzY29wZS5vYmplY3QudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuXHRcdFx0XHR6b29tQ2hhbmdlZCA9IHRydWU7XG5cblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0Y29uc29sZS53YXJuKCAnV0FSTklORzogT3JiaXRDb250cm9scy5qcyBlbmNvdW50ZXJlZCBhbiB1bmtub3duIGNhbWVyYSB0eXBlIC0gZG9sbHkvem9vbSBkaXNhYmxlZC4nICk7XG5cdFx0XHRcdHNjb3BlLmVuYWJsZVpvb20gPSBmYWxzZTtcblxuXHRcdFx0fVxuXG5cdFx0fVxuXG5cdFx0Ly9cblx0XHQvLyBldmVudCBjYWxsYmFja3MgLSB1cGRhdGUgdGhlIG9iamVjdCBzdGF0ZVxuXHRcdC8vXG5cblx0XHRmdW5jdGlvbiBoYW5kbGVNb3VzZURvd25Sb3RhdGUoIGV2ZW50ICkge1xuXG5cdFx0XHQvL2NvbnNvbGUubG9nKCAnaGFuZGxlTW91c2VEb3duUm90YXRlJyApO1xuXG5cdFx0XHRyb3RhdGVTdGFydC5zZXQoIGV2ZW50LmNsaWVudFgsIGV2ZW50LmNsaWVudFkgKTtcblxuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIGhhbmRsZU1vdXNlRG93bkRvbGx5KCBldmVudCApIHtcblxuXHRcdFx0Ly9jb25zb2xlLmxvZyggJ2hhbmRsZU1vdXNlRG93bkRvbGx5JyApO1xuXG5cdFx0XHRkb2xseVN0YXJ0LnNldCggZXZlbnQuY2xpZW50WCwgZXZlbnQuY2xpZW50WSApO1xuXG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gaGFuZGxlTW91c2VEb3duUGFuKCBldmVudCApIHtcblxuXHRcdFx0Ly9jb25zb2xlLmxvZyggJ2hhbmRsZU1vdXNlRG93blBhbicgKTtcblxuXHRcdFx0cGFuU3RhcnQuc2V0KCBldmVudC5jbGllbnRYLCBldmVudC5jbGllbnRZICk7XG5cblx0XHR9XG5cblx0XHRmdW5jdGlvbiBoYW5kbGVNb3VzZU1vdmVSb3RhdGUoIGV2ZW50ICkge1xuXG5cdFx0XHQvL2NvbnNvbGUubG9nKCAnaGFuZGxlTW91c2VNb3ZlUm90YXRlJyApO1xuXG5cdFx0XHRyb3RhdGVFbmQuc2V0KCBldmVudC5jbGllbnRYLCBldmVudC5jbGllbnRZICk7XG5cdFx0XHRyb3RhdGVEZWx0YS5zdWJWZWN0b3JzKCByb3RhdGVFbmQsIHJvdGF0ZVN0YXJ0ICk7XG5cblx0XHRcdHZhciBlbGVtZW50ID0gc2NvcGUuZG9tRWxlbWVudCA9PT0gZG9jdW1lbnQgPyBzY29wZS5kb21FbGVtZW50LmJvZHkgOiBzY29wZS5kb21FbGVtZW50O1xuXG5cdFx0XHQvLyByb3RhdGluZyBhY3Jvc3Mgd2hvbGUgc2NyZWVuIGdvZXMgMzYwIGRlZ3JlZXMgYXJvdW5kXG5cdFx0XHRyb3RhdGVMZWZ0KCAyICogTWF0aC5QSSAqIHJvdGF0ZURlbHRhLnggLyBlbGVtZW50LmNsaWVudFdpZHRoICogc2NvcGUucm90YXRlU3BlZWQgKTtcblxuXHRcdFx0Ly8gcm90YXRpbmcgdXAgYW5kIGRvd24gYWxvbmcgd2hvbGUgc2NyZWVuIGF0dGVtcHRzIHRvIGdvIDM2MCwgYnV0IGxpbWl0ZWQgdG8gMTgwXG5cdFx0XHRyb3RhdGVVcCggMiAqIE1hdGguUEkgKiByb3RhdGVEZWx0YS55IC8gZWxlbWVudC5jbGllbnRIZWlnaHQgKiBzY29wZS5yb3RhdGVTcGVlZCApO1xuXG5cdFx0XHRyb3RhdGVTdGFydC5jb3B5KCByb3RhdGVFbmQgKTtcblxuXHRcdFx0c2NvcGUudXBkYXRlKCk7XG5cblx0XHR9XG5cblx0XHRmdW5jdGlvbiBoYW5kbGVNb3VzZU1vdmVEb2xseSggZXZlbnQgKSB7XG5cblx0XHRcdC8vY29uc29sZS5sb2coICdoYW5kbGVNb3VzZU1vdmVEb2xseScgKTtcblxuXHRcdFx0ZG9sbHlFbmQuc2V0KCBldmVudC5jbGllbnRYLCBldmVudC5jbGllbnRZICk7XG5cblx0XHRcdGRvbGx5RGVsdGEuc3ViVmVjdG9ycyggZG9sbHlFbmQsIGRvbGx5U3RhcnQgKTtcblxuXHRcdFx0aWYgKCBkb2xseURlbHRhLnkgPiAwICkge1xuXG5cdFx0XHRcdGRvbGx5SW4oIGdldFpvb21TY2FsZSgpICk7XG5cblx0XHRcdH0gZWxzZSBpZiAoIGRvbGx5RGVsdGEueSA8IDAgKSB7XG5cblx0XHRcdFx0ZG9sbHlPdXQoIGdldFpvb21TY2FsZSgpICk7XG5cblx0XHRcdH1cblxuXHRcdFx0ZG9sbHlTdGFydC5jb3B5KCBkb2xseUVuZCApO1xuXG5cdFx0XHRzY29wZS51cGRhdGUoKTtcblxuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIGhhbmRsZU1vdXNlTW92ZVBhbiggZXZlbnQgKSB7XG5cblx0XHRcdC8vY29uc29sZS5sb2coICdoYW5kbGVNb3VzZU1vdmVQYW4nICk7XG5cblx0XHRcdHBhbkVuZC5zZXQoIGV2ZW50LmNsaWVudFgsIGV2ZW50LmNsaWVudFkgKTtcblxuXHRcdFx0cGFuRGVsdGEuc3ViVmVjdG9ycyggcGFuRW5kLCBwYW5TdGFydCApO1xuXG5cdFx0XHRwYW4oIHBhbkRlbHRhLngsIHBhbkRlbHRhLnkgKTtcblxuXHRcdFx0cGFuU3RhcnQuY29weSggcGFuRW5kICk7XG5cblx0XHRcdHNjb3BlLnVwZGF0ZSgpO1xuXG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gaGFuZGxlTW91c2VVcCggZXZlbnQgKSB7XG5cblx0XHRcdC8vY29uc29sZS5sb2coICdoYW5kbGVNb3VzZVVwJyApO1xuXG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gaGFuZGxlTW91c2VXaGVlbCggZXZlbnQgKSB7XG5cblx0XHRcdC8vY29uc29sZS5sb2coICdoYW5kbGVNb3VzZVdoZWVsJyApO1xuXG5cdFx0XHRpZiAoIGV2ZW50LmRlbHRhWSA8IDAgKSB7XG5cblx0XHRcdFx0ZG9sbHlPdXQoIGdldFpvb21TY2FsZSgpICk7XG5cblx0XHRcdH0gZWxzZSBpZiAoIGV2ZW50LmRlbHRhWSA+IDAgKSB7XG5cblx0XHRcdFx0ZG9sbHlJbiggZ2V0Wm9vbVNjYWxlKCkgKTtcblxuXHRcdFx0fVxuXG5cdFx0XHRzY29wZS51cGRhdGUoKTtcblxuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIGhhbmRsZUtleURvd24oIGV2ZW50ICkge1xuXG5cdFx0XHQvL2NvbnNvbGUubG9nKCAnaGFuZGxlS2V5RG93bicgKTtcblxuXHRcdFx0c3dpdGNoICggZXZlbnQua2V5Q29kZSApIHtcblxuXHRcdFx0XHRjYXNlIHNjb3BlLmtleXMuVVA6XG5cdFx0XHRcdFx0cGFuKCAwLCBzY29wZS5rZXlQYW5TcGVlZCApO1xuXHRcdFx0XHRcdHNjb3BlLnVwZGF0ZSgpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2Ugc2NvcGUua2V5cy5CT1RUT006XG5cdFx0XHRcdFx0cGFuKCAwLCAtIHNjb3BlLmtleVBhblNwZWVkICk7XG5cdFx0XHRcdFx0c2NvcGUudXBkYXRlKCk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSBzY29wZS5rZXlzLkxFRlQ6XG5cdFx0XHRcdFx0cGFuKCBzY29wZS5rZXlQYW5TcGVlZCwgMCApO1xuXHRcdFx0XHRcdHNjb3BlLnVwZGF0ZSgpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2Ugc2NvcGUua2V5cy5SSUdIVDpcblx0XHRcdFx0XHRwYW4oIC0gc2NvcGUua2V5UGFuU3BlZWQsIDAgKTtcblx0XHRcdFx0XHRzY29wZS51cGRhdGUoKTtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0fVxuXG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gaGFuZGxlVG91Y2hTdGFydFJvdGF0ZSggZXZlbnQgKSB7XG5cblx0XHRcdC8vY29uc29sZS5sb2coICdoYW5kbGVUb3VjaFN0YXJ0Um90YXRlJyApO1xuXG5cdFx0XHRyb3RhdGVTdGFydC5zZXQoIGV2ZW50LnRvdWNoZXNbIDAgXS5wYWdlWCwgZXZlbnQudG91Y2hlc1sgMCBdLnBhZ2VZICk7XG5cblx0XHR9XG5cblx0XHRmdW5jdGlvbiBoYW5kbGVUb3VjaFN0YXJ0RG9sbHkoIGV2ZW50ICkge1xuXG5cdFx0XHQvL2NvbnNvbGUubG9nKCAnaGFuZGxlVG91Y2hTdGFydERvbGx5JyApO1xuXG5cdFx0XHR2YXIgZHggPSBldmVudC50b3VjaGVzWyAwIF0ucGFnZVggLSBldmVudC50b3VjaGVzWyAxIF0ucGFnZVg7XG5cdFx0XHR2YXIgZHkgPSBldmVudC50b3VjaGVzWyAwIF0ucGFnZVkgLSBldmVudC50b3VjaGVzWyAxIF0ucGFnZVk7XG5cblx0XHRcdHZhciBkaXN0YW5jZSA9IE1hdGguc3FydCggZHggKiBkeCArIGR5ICogZHkgKTtcblxuXHRcdFx0ZG9sbHlTdGFydC5zZXQoIDAsIGRpc3RhbmNlICk7XG5cblx0XHR9XG5cblx0XHRmdW5jdGlvbiBoYW5kbGVUb3VjaFN0YXJ0UGFuKCBldmVudCApIHtcblxuXHRcdFx0Ly9jb25zb2xlLmxvZyggJ2hhbmRsZVRvdWNoU3RhcnRQYW4nICk7XG5cblx0XHRcdHBhblN0YXJ0LnNldCggZXZlbnQudG91Y2hlc1sgMCBdLnBhZ2VYLCBldmVudC50b3VjaGVzWyAwIF0ucGFnZVkgKTtcblxuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIGhhbmRsZVRvdWNoTW92ZVJvdGF0ZSggZXZlbnQgKSB7XG5cblx0XHRcdC8vY29uc29sZS5sb2coICdoYW5kbGVUb3VjaE1vdmVSb3RhdGUnICk7XG5cblx0XHRcdHJvdGF0ZUVuZC5zZXQoIGV2ZW50LnRvdWNoZXNbIDAgXS5wYWdlWCwgZXZlbnQudG91Y2hlc1sgMCBdLnBhZ2VZICk7XG5cdFx0XHRyb3RhdGVEZWx0YS5zdWJWZWN0b3JzKCByb3RhdGVFbmQsIHJvdGF0ZVN0YXJ0ICk7XG5cblx0XHRcdHZhciBlbGVtZW50ID0gc2NvcGUuZG9tRWxlbWVudCA9PT0gZG9jdW1lbnQgPyBzY29wZS5kb21FbGVtZW50LmJvZHkgOiBzY29wZS5kb21FbGVtZW50O1xuXG5cdFx0XHQvLyByb3RhdGluZyBhY3Jvc3Mgd2hvbGUgc2NyZWVuIGdvZXMgMzYwIGRlZ3JlZXMgYXJvdW5kXG5cdFx0XHRyb3RhdGVMZWZ0KCAyICogTWF0aC5QSSAqIHJvdGF0ZURlbHRhLnggLyBlbGVtZW50LmNsaWVudFdpZHRoICogc2NvcGUucm90YXRlU3BlZWQgKTtcblxuXHRcdFx0Ly8gcm90YXRpbmcgdXAgYW5kIGRvd24gYWxvbmcgd2hvbGUgc2NyZWVuIGF0dGVtcHRzIHRvIGdvIDM2MCwgYnV0IGxpbWl0ZWQgdG8gMTgwXG5cdFx0XHRyb3RhdGVVcCggMiAqIE1hdGguUEkgKiByb3RhdGVEZWx0YS55IC8gZWxlbWVudC5jbGllbnRIZWlnaHQgKiBzY29wZS5yb3RhdGVTcGVlZCApO1xuXG5cdFx0XHRyb3RhdGVTdGFydC5jb3B5KCByb3RhdGVFbmQgKTtcblxuXHRcdFx0c2NvcGUudXBkYXRlKCk7XG5cblx0XHR9XG5cblx0XHRmdW5jdGlvbiBoYW5kbGVUb3VjaE1vdmVEb2xseSggZXZlbnQgKSB7XG5cblx0XHRcdC8vY29uc29sZS5sb2coICdoYW5kbGVUb3VjaE1vdmVEb2xseScgKTtcblxuXHRcdFx0dmFyIGR4ID0gZXZlbnQudG91Y2hlc1sgMCBdLnBhZ2VYIC0gZXZlbnQudG91Y2hlc1sgMSBdLnBhZ2VYO1xuXHRcdFx0dmFyIGR5ID0gZXZlbnQudG91Y2hlc1sgMCBdLnBhZ2VZIC0gZXZlbnQudG91Y2hlc1sgMSBdLnBhZ2VZO1xuXG5cdFx0XHR2YXIgZGlzdGFuY2UgPSBNYXRoLnNxcnQoIGR4ICogZHggKyBkeSAqIGR5ICk7XG5cblx0XHRcdGRvbGx5RW5kLnNldCggMCwgZGlzdGFuY2UgKTtcblxuXHRcdFx0ZG9sbHlEZWx0YS5zdWJWZWN0b3JzKCBkb2xseUVuZCwgZG9sbHlTdGFydCApO1xuXG5cdFx0XHRpZiAoIGRvbGx5RGVsdGEueSA+IDAgKSB7XG5cblx0XHRcdFx0ZG9sbHlPdXQoIGdldFpvb21TY2FsZSgpICk7XG5cblx0XHRcdH0gZWxzZSBpZiAoIGRvbGx5RGVsdGEueSA8IDAgKSB7XG5cblx0XHRcdFx0ZG9sbHlJbiggZ2V0Wm9vbVNjYWxlKCkgKTtcblxuXHRcdFx0fVxuXG5cdFx0XHRkb2xseVN0YXJ0LmNvcHkoIGRvbGx5RW5kICk7XG5cblx0XHRcdHNjb3BlLnVwZGF0ZSgpO1xuXG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gaGFuZGxlVG91Y2hNb3ZlUGFuKCBldmVudCApIHtcblxuXHRcdFx0Ly9jb25zb2xlLmxvZyggJ2hhbmRsZVRvdWNoTW92ZVBhbicgKTtcblxuXHRcdFx0cGFuRW5kLnNldCggZXZlbnQudG91Y2hlc1sgMCBdLnBhZ2VYLCBldmVudC50b3VjaGVzWyAwIF0ucGFnZVkgKTtcblxuXHRcdFx0cGFuRGVsdGEuc3ViVmVjdG9ycyggcGFuRW5kLCBwYW5TdGFydCApO1xuXG5cdFx0XHRwYW4oIHBhbkRlbHRhLngsIHBhbkRlbHRhLnkgKTtcblxuXHRcdFx0cGFuU3RhcnQuY29weSggcGFuRW5kICk7XG5cblx0XHRcdHNjb3BlLnVwZGF0ZSgpO1xuXG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gaGFuZGxlVG91Y2hFbmQoIGV2ZW50ICkge1xuXG5cdFx0XHQvL2NvbnNvbGUubG9nKCAnaGFuZGxlVG91Y2hFbmQnICk7XG5cblx0XHR9XG5cblx0XHQvL1xuXHRcdC8vIGV2ZW50IGhhbmRsZXJzIC0gRlNNOiBsaXN0ZW4gZm9yIGV2ZW50cyBhbmQgcmVzZXQgc3RhdGVcblx0XHQvL1xuXG5cdFx0ZnVuY3Rpb24gb25Nb3VzZURvd24oIGV2ZW50ICkge1xuXG5cdFx0XHRpZiAoIHNjb3BlLmVuYWJsZWQgPT09IGZhbHNlICkgcmV0dXJuO1xuXG5cdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0XHRpZiAoIGV2ZW50LmJ1dHRvbiA9PT0gc2NvcGUubW91c2VCdXR0b25zLk9SQklUICkge1xuXG5cdFx0XHRcdGlmICggc2NvcGUuZW5hYmxlUm90YXRlID09PSBmYWxzZSApIHJldHVybjtcblxuXHRcdFx0XHRoYW5kbGVNb3VzZURvd25Sb3RhdGUoIGV2ZW50ICk7XG5cblx0XHRcdFx0c3RhdGUgPSBTVEFURS5ST1RBVEU7XG5cblx0XHRcdH0gZWxzZSBpZiAoIGV2ZW50LmJ1dHRvbiA9PT0gc2NvcGUubW91c2VCdXR0b25zLlpPT00gKSB7XG5cblx0XHRcdFx0aWYgKCBzY29wZS5lbmFibGVab29tID09PSBmYWxzZSApIHJldHVybjtcblxuXHRcdFx0XHRoYW5kbGVNb3VzZURvd25Eb2xseSggZXZlbnQgKTtcblxuXHRcdFx0XHRzdGF0ZSA9IFNUQVRFLkRPTExZO1xuXG5cdFx0XHR9IGVsc2UgaWYgKCBldmVudC5idXR0b24gPT09IHNjb3BlLm1vdXNlQnV0dG9ucy5QQU4gKSB7XG5cblx0XHRcdFx0aWYgKCBzY29wZS5lbmFibGVQYW4gPT09IGZhbHNlICkgcmV0dXJuO1xuXG5cdFx0XHRcdGhhbmRsZU1vdXNlRG93blBhbiggZXZlbnQgKTtcblxuXHRcdFx0XHRzdGF0ZSA9IFNUQVRFLlBBTjtcblxuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIHN0YXRlICE9PSBTVEFURS5OT05FICkge1xuXG5cdFx0XHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoICdtb3VzZW1vdmUnLCBvbk1vdXNlTW92ZSwgZmFsc2UgKTtcblx0XHRcdFx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggJ21vdXNldXAnLCBvbk1vdXNlVXAsIGZhbHNlICk7XG5cblx0XHRcdFx0c2NvcGUuZGlzcGF0Y2hFdmVudCggc3RhcnRFdmVudCApO1xuXG5cdFx0XHR9XG5cblx0XHR9XG5cblx0XHRmdW5jdGlvbiBvbk1vdXNlTW92ZSggZXZlbnQgKSB7XG5cblx0XHRcdGlmICggc2NvcGUuZW5hYmxlZCA9PT0gZmFsc2UgKSByZXR1cm47XG5cblx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRcdGlmICggc3RhdGUgPT09IFNUQVRFLlJPVEFURSApIHtcblxuXHRcdFx0XHRpZiAoIHNjb3BlLmVuYWJsZVJvdGF0ZSA9PT0gZmFsc2UgKSByZXR1cm47XG5cblx0XHRcdFx0aGFuZGxlTW91c2VNb3ZlUm90YXRlKCBldmVudCApO1xuXG5cdFx0XHR9IGVsc2UgaWYgKCBzdGF0ZSA9PT0gU1RBVEUuRE9MTFkgKSB7XG5cblx0XHRcdFx0aWYgKCBzY29wZS5lbmFibGVab29tID09PSBmYWxzZSApIHJldHVybjtcblxuXHRcdFx0XHRoYW5kbGVNb3VzZU1vdmVEb2xseSggZXZlbnQgKTtcblxuXHRcdFx0fSBlbHNlIGlmICggc3RhdGUgPT09IFNUQVRFLlBBTiApIHtcblxuXHRcdFx0XHRpZiAoIHNjb3BlLmVuYWJsZVBhbiA9PT0gZmFsc2UgKSByZXR1cm47XG5cblx0XHRcdFx0aGFuZGxlTW91c2VNb3ZlUGFuKCBldmVudCApO1xuXG5cdFx0XHR9XG5cblx0XHR9XG5cblx0XHRmdW5jdGlvbiBvbk1vdXNlVXAoIGV2ZW50ICkge1xuXG5cdFx0XHRpZiAoIHNjb3BlLmVuYWJsZWQgPT09IGZhbHNlICkgcmV0dXJuO1xuXG5cdFx0XHRoYW5kbGVNb3VzZVVwKCBldmVudCApO1xuXG5cdFx0XHRkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCAnbW91c2Vtb3ZlJywgb25Nb3VzZU1vdmUsIGZhbHNlICk7XG5cdFx0XHRkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCAnbW91c2V1cCcsIG9uTW91c2VVcCwgZmFsc2UgKTtcblxuXHRcdFx0c2NvcGUuZGlzcGF0Y2hFdmVudCggZW5kRXZlbnQgKTtcblxuXHRcdFx0c3RhdGUgPSBTVEFURS5OT05FO1xuXG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gb25Nb3VzZVdoZWVsKCBldmVudCApIHtcblxuXHRcdFx0aWYgKCBzY29wZS5lbmFibGVkID09PSBmYWxzZSB8fCBzY29wZS5lbmFibGVab29tID09PSBmYWxzZSB8fCAoIHN0YXRlICE9PSBTVEFURS5OT05FICYmIHN0YXRlICE9PSBTVEFURS5ST1RBVEUgKSApIHJldHVybjtcblxuXHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXG5cdFx0XHRoYW5kbGVNb3VzZVdoZWVsKCBldmVudCApO1xuXG5cdFx0XHRzY29wZS5kaXNwYXRjaEV2ZW50KCBzdGFydEV2ZW50ICk7IC8vIG5vdCBzdXJlIHdoeSB0aGVzZSBhcmUgaGVyZS4uLlxuXHRcdFx0c2NvcGUuZGlzcGF0Y2hFdmVudCggZW5kRXZlbnQgKTtcblxuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIG9uS2V5RG93biggZXZlbnQgKSB7XG5cblx0XHRcdGlmICggc2NvcGUuZW5hYmxlZCA9PT0gZmFsc2UgfHwgc2NvcGUuZW5hYmxlS2V5cyA9PT0gZmFsc2UgfHwgc2NvcGUuZW5hYmxlUGFuID09PSBmYWxzZSApIHJldHVybjtcblxuXHRcdFx0aGFuZGxlS2V5RG93biggZXZlbnQgKTtcblxuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIG9uVG91Y2hTdGFydCggZXZlbnQgKSB7XG5cblx0XHRcdGlmICggc2NvcGUuZW5hYmxlZCA9PT0gZmFsc2UgKSByZXR1cm47XG5cblx0XHRcdHN3aXRjaCAoIGV2ZW50LnRvdWNoZXMubGVuZ3RoICkge1xuXG5cdFx0XHRcdGNhc2UgMTpcdC8vIG9uZS1maW5nZXJlZCB0b3VjaDogcm90YXRlXG5cblx0XHRcdFx0XHRpZiAoIHNjb3BlLmVuYWJsZVJvdGF0ZSA9PT0gZmFsc2UgKSByZXR1cm47XG5cblx0XHRcdFx0XHRoYW5kbGVUb3VjaFN0YXJ0Um90YXRlKCBldmVudCApO1xuXG5cdFx0XHRcdFx0c3RhdGUgPSBTVEFURS5UT1VDSF9ST1RBVEU7XG5cblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDI6XHQvLyB0d28tZmluZ2VyZWQgdG91Y2g6IGRvbGx5XG5cblx0XHRcdFx0XHRpZiAoIHNjb3BlLmVuYWJsZVpvb20gPT09IGZhbHNlICkgcmV0dXJuO1xuXG5cdFx0XHRcdFx0aGFuZGxlVG91Y2hTdGFydERvbGx5KCBldmVudCApO1xuXG5cdFx0XHRcdFx0c3RhdGUgPSBTVEFURS5UT1VDSF9ET0xMWTtcblxuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgMzogLy8gdGhyZWUtZmluZ2VyZWQgdG91Y2g6IHBhblxuXG5cdFx0XHRcdFx0aWYgKCBzY29wZS5lbmFibGVQYW4gPT09IGZhbHNlICkgcmV0dXJuO1xuXG5cdFx0XHRcdFx0aGFuZGxlVG91Y2hTdGFydFBhbiggZXZlbnQgKTtcblxuXHRcdFx0XHRcdHN0YXRlID0gU1RBVEUuVE9VQ0hfUEFOO1xuXG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0ZGVmYXVsdDpcblxuXHRcdFx0XHRcdHN0YXRlID0gU1RBVEUuTk9ORTtcblxuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIHN0YXRlICE9PSBTVEFURS5OT05FICkge1xuXG5cdFx0XHRcdHNjb3BlLmRpc3BhdGNoRXZlbnQoIHN0YXJ0RXZlbnQgKTtcblxuXHRcdFx0fVxuXG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gb25Ub3VjaE1vdmUoIGV2ZW50ICkge1xuXG5cdFx0XHRpZiAoIHNjb3BlLmVuYWJsZWQgPT09IGZhbHNlICkgcmV0dXJuO1xuXG5cdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cblx0XHRcdHN3aXRjaCAoIGV2ZW50LnRvdWNoZXMubGVuZ3RoICkge1xuXG5cdFx0XHRcdGNhc2UgMTogLy8gb25lLWZpbmdlcmVkIHRvdWNoOiByb3RhdGVcblxuXHRcdFx0XHRcdGlmICggc2NvcGUuZW5hYmxlUm90YXRlID09PSBmYWxzZSApIHJldHVybjtcblx0XHRcdFx0XHRpZiAoIHN0YXRlICE9PSBTVEFURS5UT1VDSF9ST1RBVEUgKSByZXR1cm47IC8vIGlzIHRoaXMgbmVlZGVkPy4uLlxuXG5cdFx0XHRcdFx0aGFuZGxlVG91Y2hNb3ZlUm90YXRlKCBldmVudCApO1xuXG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAyOiAvLyB0d28tZmluZ2VyZWQgdG91Y2g6IGRvbGx5XG5cblx0XHRcdFx0XHRpZiAoIHNjb3BlLmVuYWJsZVpvb20gPT09IGZhbHNlICkgcmV0dXJuO1xuXHRcdFx0XHRcdGlmICggc3RhdGUgIT09IFNUQVRFLlRPVUNIX0RPTExZICkgcmV0dXJuOyAvLyBpcyB0aGlzIG5lZWRlZD8uLi5cblxuXHRcdFx0XHRcdGhhbmRsZVRvdWNoTW92ZURvbGx5KCBldmVudCApO1xuXG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAzOiAvLyB0aHJlZS1maW5nZXJlZCB0b3VjaDogcGFuXG5cblx0XHRcdFx0XHRpZiAoIHNjb3BlLmVuYWJsZVBhbiA9PT0gZmFsc2UgKSByZXR1cm47XG5cdFx0XHRcdFx0aWYgKCBzdGF0ZSAhPT0gU1RBVEUuVE9VQ0hfUEFOICkgcmV0dXJuOyAvLyBpcyB0aGlzIG5lZWRlZD8uLi5cblxuXHRcdFx0XHRcdGhhbmRsZVRvdWNoTW92ZVBhbiggZXZlbnQgKTtcblxuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGRlZmF1bHQ6XG5cblx0XHRcdFx0XHRzdGF0ZSA9IFNUQVRFLk5PTkU7XG5cblx0XHRcdH1cblxuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIG9uVG91Y2hFbmQoIGV2ZW50ICkge1xuXG5cdFx0XHRpZiAoIHNjb3BlLmVuYWJsZWQgPT09IGZhbHNlICkgcmV0dXJuO1xuXG5cdFx0XHRoYW5kbGVUb3VjaEVuZCggZXZlbnQgKTtcblxuXHRcdFx0c2NvcGUuZGlzcGF0Y2hFdmVudCggZW5kRXZlbnQgKTtcblxuXHRcdFx0c3RhdGUgPSBTVEFURS5OT05FO1xuXG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gb25Db250ZXh0TWVudSggZXZlbnQgKSB7XG5cblx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHR9XG5cblx0XHQvL1xuXG5cdFx0c2NvcGUuZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCAnY29udGV4dG1lbnUnLCBvbkNvbnRleHRNZW51LCBmYWxzZSApO1xuXG5cdFx0c2NvcGUuZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCAnbW91c2Vkb3duJywgb25Nb3VzZURvd24sIGZhbHNlICk7XG5cdFx0c2NvcGUuZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCAnd2hlZWwnLCBvbk1vdXNlV2hlZWwsIGZhbHNlICk7XG5cblx0XHRzY29wZS5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoICd0b3VjaHN0YXJ0Jywgb25Ub3VjaFN0YXJ0LCBmYWxzZSApO1xuXHRcdHNjb3BlLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggJ3RvdWNoZW5kJywgb25Ub3VjaEVuZCwgZmFsc2UgKTtcblx0XHRzY29wZS5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoICd0b3VjaG1vdmUnLCBvblRvdWNoTW92ZSwgZmFsc2UgKTtcblxuXHRcdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCAna2V5ZG93bicsIG9uS2V5RG93biwgZmFsc2UgKTtcblxuXHRcdC8vIGZvcmNlIGFuIHVwZGF0ZSBhdCBzdGFydFxuXG5cdFx0dGhpcy51cGRhdGUoKTtcblxuXHR9O1xuXG5cdE9yYml0Q29udHJvbHMucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggVEhSRUUuRXZlbnREaXNwYXRjaGVyLnByb3RvdHlwZSApO1xuXHRPcmJpdENvbnRyb2xzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IE9yYml0Q29udHJvbHM7XG5cblx0T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIE9yYml0Q29udHJvbHMucHJvdG90eXBlLCB7XG5cblx0XHRjZW50ZXI6IHtcblxuXHRcdFx0Z2V0OiBmdW5jdGlvbiAoKSB7XG5cblx0XHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuT3JiaXRDb250cm9sczogLmNlbnRlciBoYXMgYmVlbiByZW5hbWVkIHRvIC50YXJnZXQnICk7XG5cdFx0XHRcdHJldHVybiB0aGlzLnRhcmdldDtcblxuXHRcdFx0fVxuXG5cdFx0fSxcblxuXHRcdC8vIGJhY2t3YXJkIGNvbXBhdGliaWxpdHlcblxuXHRcdG5vWm9vbToge1xuXG5cdFx0XHRnZXQ6IGZ1bmN0aW9uICgpIHtcblxuXHRcdFx0XHRjb25zb2xlLndhcm4oICdUSFJFRS5PcmJpdENvbnRyb2xzOiAubm9ab29tIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSAuZW5hYmxlWm9vbSBpbnN0ZWFkLicgKTtcblx0XHRcdFx0cmV0dXJuICEgdGhpcy5lbmFibGVab29tO1xuXG5cdFx0XHR9LFxuXG5cdFx0XHRzZXQ6IGZ1bmN0aW9uICggdmFsdWUgKSB7XG5cblx0XHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuT3JiaXRDb250cm9sczogLm5vWm9vbSBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgLmVuYWJsZVpvb20gaW5zdGVhZC4nICk7XG5cdFx0XHRcdHRoaXMuZW5hYmxlWm9vbSA9ICEgdmFsdWU7XG5cblx0XHRcdH1cblxuXHRcdH0sXG5cblx0XHRub1JvdGF0ZToge1xuXG5cdFx0XHRnZXQ6IGZ1bmN0aW9uICgpIHtcblxuXHRcdFx0XHRjb25zb2xlLndhcm4oICdUSFJFRS5PcmJpdENvbnRyb2xzOiAubm9Sb3RhdGUgaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIC5lbmFibGVSb3RhdGUgaW5zdGVhZC4nICk7XG5cdFx0XHRcdHJldHVybiAhIHRoaXMuZW5hYmxlUm90YXRlO1xuXG5cdFx0XHR9LFxuXG5cdFx0XHRzZXQ6IGZ1bmN0aW9uICggdmFsdWUgKSB7XG5cblx0XHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuT3JiaXRDb250cm9sczogLm5vUm90YXRlIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSAuZW5hYmxlUm90YXRlIGluc3RlYWQuJyApO1xuXHRcdFx0XHR0aGlzLmVuYWJsZVJvdGF0ZSA9ICEgdmFsdWU7XG5cblx0XHRcdH1cblxuXHRcdH0sXG5cblx0XHRub1Bhbjoge1xuXG5cdFx0XHRnZXQ6IGZ1bmN0aW9uICgpIHtcblxuXHRcdFx0XHRjb25zb2xlLndhcm4oICdUSFJFRS5PcmJpdENvbnRyb2xzOiAubm9QYW4gaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIC5lbmFibGVQYW4gaW5zdGVhZC4nICk7XG5cdFx0XHRcdHJldHVybiAhIHRoaXMuZW5hYmxlUGFuO1xuXG5cdFx0XHR9LFxuXG5cdFx0XHRzZXQ6IGZ1bmN0aW9uICggdmFsdWUgKSB7XG5cblx0XHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuT3JiaXRDb250cm9sczogLm5vUGFuIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSAuZW5hYmxlUGFuIGluc3RlYWQuJyApO1xuXHRcdFx0XHR0aGlzLmVuYWJsZVBhbiA9ICEgdmFsdWU7XG5cblx0XHRcdH1cblxuXHRcdH0sXG5cblx0XHRub0tleXM6IHtcblxuXHRcdFx0Z2V0OiBmdW5jdGlvbiAoKSB7XG5cblx0XHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuT3JiaXRDb250cm9sczogLm5vS2V5cyBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgLmVuYWJsZUtleXMgaW5zdGVhZC4nICk7XG5cdFx0XHRcdHJldHVybiAhIHRoaXMuZW5hYmxlS2V5cztcblxuXHRcdFx0fSxcblxuXHRcdFx0c2V0OiBmdW5jdGlvbiAoIHZhbHVlICkge1xuXG5cdFx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLk9yYml0Q29udHJvbHM6IC5ub0tleXMgaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIC5lbmFibGVLZXlzIGluc3RlYWQuJyApO1xuXHRcdFx0XHR0aGlzLmVuYWJsZUtleXMgPSAhIHZhbHVlO1xuXG5cdFx0XHR9XG5cblx0XHR9LFxuXG5cdFx0c3RhdGljTW92aW5nIDoge1xuXG5cdFx0XHRnZXQ6IGZ1bmN0aW9uICgpIHtcblxuXHRcdFx0XHRjb25zb2xlLndhcm4oICdUSFJFRS5PcmJpdENvbnRyb2xzOiAuc3RhdGljTW92aW5nIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSAuZW5hYmxlRGFtcGluZyBpbnN0ZWFkLicgKTtcblx0XHRcdFx0cmV0dXJuICEgdGhpcy5lbmFibGVEYW1waW5nO1xuXG5cdFx0XHR9LFxuXG5cdFx0XHRzZXQ6IGZ1bmN0aW9uICggdmFsdWUgKSB7XG5cblx0XHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuT3JiaXRDb250cm9sczogLnN0YXRpY01vdmluZyBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgLmVuYWJsZURhbXBpbmcgaW5zdGVhZC4nICk7XG5cdFx0XHRcdHRoaXMuZW5hYmxlRGFtcGluZyA9ICEgdmFsdWU7XG5cblx0XHRcdH1cblxuXHRcdH0sXG5cblx0XHRkeW5hbWljRGFtcGluZ0ZhY3RvciA6IHtcblxuXHRcdFx0Z2V0OiBmdW5jdGlvbiAoKSB7XG5cblx0XHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuT3JiaXRDb250cm9sczogLmR5bmFtaWNEYW1waW5nRmFjdG9yIGhhcyBiZWVuIHJlbmFtZWQuIFVzZSAuZGFtcGluZ0ZhY3RvciBpbnN0ZWFkLicgKTtcblx0XHRcdFx0cmV0dXJuIHRoaXMuZGFtcGluZ0ZhY3RvcjtcblxuXHRcdFx0fSxcblxuXHRcdFx0c2V0OiBmdW5jdGlvbiAoIHZhbHVlICkge1xuXG5cdFx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLk9yYml0Q29udHJvbHM6IC5keW5hbWljRGFtcGluZ0ZhY3RvciBoYXMgYmVlbiByZW5hbWVkLiBVc2UgLmRhbXBpbmdGYWN0b3IgaW5zdGVhZC4nICk7XG5cdFx0XHRcdHRoaXMuZGFtcGluZ0ZhY3RvciA9IHZhbHVlO1xuXG5cdFx0XHR9XG5cblx0XHR9XG5cblx0fSApO1xuXG5cdHJldHVybiBPcmJpdENvbnRyb2xzO1xufTtcbiIsIlxuZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gdHJpbTtcblxuZnVuY3Rpb24gdHJpbShzdHIpe1xuICByZXR1cm4gc3RyLnJlcGxhY2UoL15cXHMqfFxccyokL2csICcnKTtcbn1cblxuZXhwb3J0cy5sZWZ0ID0gZnVuY3Rpb24oc3RyKXtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC9eXFxzKi8sICcnKTtcbn07XG5cbmV4cG9ydHMucmlnaHQgPSBmdW5jdGlvbihzdHIpe1xuICByZXR1cm4gc3RyLnJlcGxhY2UoL1xccyokLywgJycpO1xufTtcbiIsInZhciBBdWRpb0NvbnRleHQgPSB3aW5kb3cuQXVkaW9Db250ZXh0IHx8IHdpbmRvdy53ZWJraXRBdWRpb0NvbnRleHRcblxubW9kdWxlLmV4cG9ydHMgPSBXZWJBdWRpb0FuYWx5c2VyXG5cbmZ1bmN0aW9uIFdlYkF1ZGlvQW5hbHlzZXIoYXVkaW8sIGN0eCwgb3B0cykge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgV2ViQXVkaW9BbmFseXNlcikpIHJldHVybiBuZXcgV2ViQXVkaW9BbmFseXNlcihhdWRpbywgY3R4LCBvcHRzKVxuICBpZiAoIShjdHggaW5zdGFuY2VvZiBBdWRpb0NvbnRleHQpKSAob3B0cyA9IGN0eCksIChjdHggPSBudWxsKVxuXG4gIG9wdHMgPSBvcHRzIHx8IHt9XG4gIHRoaXMuY3R4ID0gY3R4ID0gY3R4IHx8IG5ldyBBdWRpb0NvbnRleHRcblxuICBpZiAoIShhdWRpbyBpbnN0YW5jZW9mIEF1ZGlvTm9kZSkpIHtcbiAgICBhdWRpbyA9IChhdWRpbyBpbnN0YW5jZW9mIEF1ZGlvIHx8IGF1ZGlvIGluc3RhbmNlb2YgSFRNTEF1ZGlvRWxlbWVudClcbiAgICAgID8gY3R4LmNyZWF0ZU1lZGlhRWxlbWVudFNvdXJjZShhdWRpbylcbiAgICAgIDogY3R4LmNyZWF0ZU1lZGlhU3RyZWFtU291cmNlKGF1ZGlvKVxuICB9XG5cbiAgdGhpcy5hbmFseXNlciA9IGN0eC5jcmVhdGVBbmFseXNlcigpXG4gIHRoaXMuc3RlcmVvICAgPSAhIW9wdHMuc3RlcmVvXG4gIHRoaXMuYXVkaWJsZSAgPSBvcHRzLmF1ZGlibGUgIT09IGZhbHNlXG4gIHRoaXMud2F2ZWRhdGEgPSBudWxsXG4gIHRoaXMuZnJlcWRhdGEgPSBudWxsXG4gIHRoaXMuc3BsaXR0ZXIgPSBudWxsXG4gIHRoaXMubWVyZ2VyICAgPSBudWxsXG4gIHRoaXMuc291cmNlICAgPSBhdWRpb1xuXG4gIGlmICghdGhpcy5zdGVyZW8pIHtcbiAgICB0aGlzLm91dHB1dCA9IHRoaXMuc291cmNlXG4gICAgdGhpcy5zb3VyY2UuY29ubmVjdCh0aGlzLmFuYWx5c2VyKVxuICAgIGlmICh0aGlzLmF1ZGlibGUpXG4gICAgICB0aGlzLmFuYWx5c2VyLmNvbm5lY3QoY3R4LmRlc3RpbmF0aW9uKVxuICB9IGVsc2Uge1xuICAgIHRoaXMuYW5hbHlzZXIgPSBbdGhpcy5hbmFseXNlcl1cbiAgICB0aGlzLmFuYWx5c2VyLnB1c2goY3R4LmNyZWF0ZUFuYWx5c2VyKCkpXG5cbiAgICB0aGlzLnNwbGl0dGVyID0gY3R4LmNyZWF0ZUNoYW5uZWxTcGxpdHRlcigyKVxuICAgIHRoaXMubWVyZ2VyICAgPSBjdHguY3JlYXRlQ2hhbm5lbE1lcmdlcigyKVxuICAgIHRoaXMub3V0cHV0ICAgPSB0aGlzLm1lcmdlclxuXG4gICAgdGhpcy5zb3VyY2UuY29ubmVjdCh0aGlzLnNwbGl0dGVyKVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCAyOyBpKyspIHtcbiAgICAgIHRoaXMuc3BsaXR0ZXIuY29ubmVjdCh0aGlzLmFuYWx5c2VyW2ldLCBpLCAwKVxuICAgICAgdGhpcy5hbmFseXNlcltpXS5jb25uZWN0KHRoaXMubWVyZ2VyLCAwLCBpKVxuICAgIH1cblxuICAgIGlmICh0aGlzLmF1ZGlibGUpXG4gICAgICB0aGlzLm1lcmdlci5jb25uZWN0KGN0eC5kZXN0aW5hdGlvbilcbiAgfVxufVxuXG5XZWJBdWRpb0FuYWx5c2VyLnByb3RvdHlwZS53YXZlZm9ybSA9IGZ1bmN0aW9uKG91dHB1dCwgY2hhbm5lbCkge1xuICBpZiAoIW91dHB1dCkgb3V0cHV0ID0gdGhpcy53YXZlZGF0YSB8fCAoXG4gICAgdGhpcy53YXZlZGF0YSA9IG5ldyBVaW50OEFycmF5KCh0aGlzLmFuYWx5c2VyWzBdIHx8IHRoaXMuYW5hbHlzZXIpLmZyZXF1ZW5jeUJpbkNvdW50KVxuICApXG5cbiAgdmFyIGFuYWx5c2VyID0gdGhpcy5zdGVyZW9cbiAgICA/IHRoaXMuYW5hbHlzZXJbY2hhbm5lbCB8fCAwXVxuICAgIDogdGhpcy5hbmFseXNlclxuXG4gIGFuYWx5c2VyLmdldEJ5dGVUaW1lRG9tYWluRGF0YShvdXRwdXQpXG5cbiAgcmV0dXJuIG91dHB1dFxufVxuXG5XZWJBdWRpb0FuYWx5c2VyLnByb3RvdHlwZS5mcmVxdWVuY2llcyA9IGZ1bmN0aW9uKG91dHB1dCwgY2hhbm5lbCkge1xuICBpZiAoIW91dHB1dCkgb3V0cHV0ID0gdGhpcy5mcmVxZGF0YSB8fCAoXG4gICAgdGhpcy5mcmVxZGF0YSA9IG5ldyBVaW50OEFycmF5KCh0aGlzLmFuYWx5c2VyWzBdIHx8IHRoaXMuYW5hbHlzZXIpLmZyZXF1ZW5jeUJpbkNvdW50KVxuICApXG5cbiAgdmFyIGFuYWx5c2VyID0gdGhpcy5zdGVyZW9cbiAgICA/IHRoaXMuYW5hbHlzZXJbY2hhbm5lbCB8fCAwXVxuICAgIDogdGhpcy5hbmFseXNlclxuXG4gIGFuYWx5c2VyLmdldEJ5dGVGcmVxdWVuY3lEYXRhKG91dHB1dClcblxuICByZXR1cm4gb3V0cHV0XG59XG4iLCJ2YXIgYnVmZmVyID0gcmVxdWlyZSgnLi9saWIvYnVmZmVyLXNvdXJjZScpXG52YXIgbWVkaWEgPSByZXF1aXJlKCcuL2xpYi9tZWRpYS1zb3VyY2UnKVxuXG5tb2R1bGUuZXhwb3J0cyA9IHdlYkF1ZGlvUGxheWVyXG5mdW5jdGlvbiB3ZWJBdWRpb1BsYXllciAoc3JjLCBvcHQpIHtcbiAgaWYgKCFzcmMpIHRocm93IG5ldyBUeXBlRXJyb3IoJ211c3Qgc3BlY2lmeSBhIHNyYyBwYXJhbWV0ZXInKVxuICBvcHQgPSBvcHQgfHwge31cbiAgaWYgKG9wdC5idWZmZXIpIHJldHVybiBidWZmZXIoc3JjLCBvcHQpXG4gIGVsc2UgcmV0dXJuIG1lZGlhKHNyYywgb3B0KVxufVxuIiwibW9kdWxlLmV4cG9ydHMgPSBjcmVhdGVBdWRpb0NvbnRleHRcbmZ1bmN0aW9uIGNyZWF0ZUF1ZGlvQ29udGV4dCAoKSB7XG4gIHZhciBBdWRpb0N0b3IgPSB3aW5kb3cuQXVkaW9Db250ZXh0IHx8IHdpbmRvdy53ZWJraXRBdWRpb0NvbnRleHRcbiAgcmV0dXJuIG5ldyBBdWRpb0N0b3IoKVxufVxuIiwidmFyIGNhblBsYXlTcmMgPSByZXF1aXJlKCcuL2Nhbi1wbGF5LXNyYycpXG52YXIgY3JlYXRlQXVkaW9Db250ZXh0ID0gcmVxdWlyZSgnLi9hdWRpby1jb250ZXh0JylcbnZhciB4aHJBdWRpbyA9IHJlcXVpcmUoJy4veGhyLWF1ZGlvJylcbnZhciBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudHMnKS5FdmVudEVtaXR0ZXJcbnZhciByaWdodE5vdyA9IHJlcXVpcmUoJ3JpZ2h0LW5vdycpXG52YXIgcmVzdW1lID0gcmVxdWlyZSgnLi9yZXN1bWUtY29udGV4dCcpXG5cbm1vZHVsZS5leHBvcnRzID0gY3JlYXRlQnVmZmVyU291cmNlXG5mdW5jdGlvbiBjcmVhdGVCdWZmZXJTb3VyY2UgKHNyYywgb3B0KSB7XG4gIG9wdCA9IG9wdCB8fCB7fVxuICB2YXIgZW1pdHRlciA9IG5ldyBFdmVudEVtaXR0ZXIoKVxuICB2YXIgYXVkaW9Db250ZXh0ID0gb3B0LmNvbnRleHQgfHwgY3JlYXRlQXVkaW9Db250ZXh0KClcblxuICAvLyBhIHBhc3MtdGhyb3VnaCBub2RlIHNvIHVzZXIganVzdCBuZWVkcyB0b1xuICAvLyBjb25uZWN0KCkgb25jZVxuICB2YXIgYnVmZmVyTm9kZSwgYnVmZmVyLCBkdXJhdGlvblxuICB2YXIgbm9kZSA9IGF1ZGlvQ29udGV4dC5jcmVhdGVHYWluKClcbiAgdmFyIGF1ZGlvU3RhcnRUaW1lID0gbnVsbFxuICB2YXIgYXVkaW9QYXVzZVRpbWUgPSBudWxsXG4gIHZhciBhdWRpb0N1cnJlbnRUaW1lID0gMFxuICB2YXIgcGxheWluZyA9IGZhbHNlXG4gIHZhciBsb29wID0gb3B0Lmxvb3BcblxuICBlbWl0dGVyLnBsYXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHBsYXlpbmcpIHJldHVyblxuICAgIHBsYXlpbmcgPSB0cnVlXG5cbiAgICBpZiAob3B0LmF1dG9SZXN1bWUgIT09IGZhbHNlKSByZXN1bWUoZW1pdHRlci5jb250ZXh0KVxuICAgIGRpc3Bvc2VCdWZmZXIoKVxuICAgIGJ1ZmZlck5vZGUgPSBhdWRpb0NvbnRleHQuY3JlYXRlQnVmZmVyU291cmNlKClcbiAgICBidWZmZXJOb2RlLmNvbm5lY3QoZW1pdHRlci5ub2RlKVxuICAgIGJ1ZmZlck5vZGUub25lbmRlZCA9IGVuZGVkXG4gICAgaWYgKGJ1ZmZlcikge1xuICAgICAgLy8gTWlnaHQgYmUgbnVsbCB1bmRlZmluZWQgaWYgd2UgYXJlIHN0aWxsIGxvYWRpbmdcbiAgICAgIGJ1ZmZlck5vZGUuYnVmZmVyID0gYnVmZmVyXG4gICAgfVxuICAgIGlmIChsb29wKSB7XG4gICAgICBidWZmZXJOb2RlLmxvb3AgPSB0cnVlXG4gICAgICBpZiAodHlwZW9mIG9wdC5sb29wU3RhcnQgPT09ICdudW1iZXInKSBidWZmZXJOb2RlLmxvb3BTdGFydCA9IG9wdC5sb29wU3RhcnRcbiAgICAgIGlmICh0eXBlb2Ygb3B0Lmxvb3BFbmQgPT09ICdudW1iZXInKSBidWZmZXJOb2RlLmxvb3BFbmQgPSBvcHQubG9vcEVuZFxuICAgIH1cblxuICAgIGlmIChkdXJhdGlvbiAmJiBhdWRpb0N1cnJlbnRUaW1lID4gZHVyYXRpb24pIHtcbiAgICAgIC8vIGZvciB3aGVuIGl0IGxvb3BzLi4uXG4gICAgICBhdWRpb0N1cnJlbnRUaW1lID0gYXVkaW9DdXJyZW50VGltZSAlIGR1cmF0aW9uXG4gICAgfVxuICAgIHZhciBuZXh0VGltZSA9IGF1ZGlvQ3VycmVudFRpbWVcblxuICAgIGJ1ZmZlck5vZGUuc3RhcnQoMCwgbmV4dFRpbWUpXG4gICAgYXVkaW9TdGFydFRpbWUgPSByaWdodE5vdygpXG4gIH1cblxuICBlbWl0dGVyLnBhdXNlID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICghcGxheWluZykgcmV0dXJuXG4gICAgcGxheWluZyA9IGZhbHNlXG4gICAgLy8gRG9uJ3QgbGV0IHRoZSBcImVuZFwiIGV2ZW50XG4gICAgLy8gZ2V0IHRyaWdnZXJlZCBvbiBtYW51YWwgcGF1c2UuXG4gICAgYnVmZmVyTm9kZS5vbmVuZGVkID0gbnVsbFxuICAgIGJ1ZmZlck5vZGUuc3RvcCgwKVxuICAgIGF1ZGlvUGF1c2VUaW1lID0gcmlnaHROb3coKVxuICAgIGF1ZGlvQ3VycmVudFRpbWUgKz0gKGF1ZGlvUGF1c2VUaW1lIC0gYXVkaW9TdGFydFRpbWUpIC8gMTAwMFxuICB9XG5cbiAgZW1pdHRlci5zdG9wID0gZnVuY3Rpb24gKCkge1xuICAgIGVtaXR0ZXIucGF1c2UoKVxuICAgIGVuZGVkKClcbiAgfVxuXG4gIGVtaXR0ZXIuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBkaXNwb3NlQnVmZmVyKClcbiAgICBidWZmZXIgPSBudWxsXG4gIH1cblxuICBlbWl0dGVyLm5vZGUgPSBub2RlXG4gIGVtaXR0ZXIuY29udGV4dCA9IGF1ZGlvQ29udGV4dFxuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGVtaXR0ZXIsIHtcbiAgICBkdXJhdGlvbjoge1xuICAgICAgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBkdXJhdGlvblxuICAgICAgfVxuICAgIH0sXG4gICAgcGxheWluZzoge1xuICAgICAgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBwbGF5aW5nXG4gICAgICB9XG4gICAgfSxcbiAgICBidWZmZXI6IHtcbiAgICAgIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gYnVmZmVyXG4gICAgICB9XG4gICAgfSxcbiAgICB2b2x1bWU6IHtcbiAgICAgIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbm9kZS5nYWluLnZhbHVlXG4gICAgICB9LFxuICAgICAgc2V0OiBmdW5jdGlvbiAobikge1xuICAgICAgICBub2RlLmdhaW4udmFsdWUgPSBuXG4gICAgICB9XG4gICAgfVxuICB9KVxuXG4gIC8vIHNldCBpbml0aWFsIHZvbHVtZVxuICBpZiAodHlwZW9mIG9wdC52b2x1bWUgPT09ICdudW1iZXInKSB7XG4gICAgZW1pdHRlci52b2x1bWUgPSBvcHQudm9sdW1lXG4gIH1cblxuICAvLyBmaWx0ZXIgZG93biB0byBhIGxpc3Qgb2YgcGxheWFibGUgc291cmNlc1xuICB2YXIgc291cmNlcyA9IEFycmF5LmlzQXJyYXkoc3JjKSA/IHNyYyA6IFsgc3JjIF1cbiAgc291cmNlcyA9IHNvdXJjZXMuZmlsdGVyKEJvb2xlYW4pXG4gIHZhciBwbGF5YWJsZSA9IHNvdXJjZXMuc29tZShjYW5QbGF5U3JjKVxuICBpZiAocGxheWFibGUpIHtcbiAgICB2YXIgc291cmNlID0gc291cmNlcy5maWx0ZXIoY2FuUGxheVNyYylbMF1cbiAgICAvLyBTdXBwb3J0IHRoZSBzYW1lIHNvdXJjZSB0eXBlcyBhcyBpblxuICAgIC8vIE1lZGlhRWxlbWVudCBtb2RlLi4uXG4gICAgaWYgKHR5cGVvZiBzb3VyY2UuZ2V0QXR0cmlidXRlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBzb3VyY2UgPSBzb3VyY2UuZ2V0QXR0cmlidXRlKCdzcmMnKVxuICAgIH0gZWxzZSBpZiAodHlwZW9mIHNvdXJjZS5zcmMgPT09ICdzdHJpbmcnKSB7XG4gICAgICBzb3VyY2UgPSBzb3VyY2Uuc3JjXG4gICAgfVxuICAgIC8vIFdlIGhhdmUgYXQgbGVhc3Qgb25lIHBsYXlhYmxlIHNvdXJjZS5cbiAgICAvLyBGb3Igbm93IGp1c3QgcGxheSB0aGUgZmlyc3QsXG4gICAgLy8gaWRlYWxseSB0aGlzIG1vZHVsZSBjb3VsZCBhdHRlbXB0IGVhY2ggb25lLlxuICAgIHN0YXJ0TG9hZChzb3VyY2UpXG4gIH0gZWxzZSB7XG4gICAgLy8gbm8gc291cmNlcyBjYW4gYmUgcGxheWVkLi4uXG4gICAgcHJvY2Vzcy5uZXh0VGljayhmdW5jdGlvbiAoKSB7XG4gICAgICBlbWl0dGVyLmVtaXQoJ2Vycm9yJywgY2FuUGxheVNyYy5jcmVhdGVFcnJvcihzb3VyY2VzKSlcbiAgICB9KVxuICB9XG4gIHJldHVybiBlbWl0dGVyXG5cbiAgZnVuY3Rpb24gc3RhcnRMb2FkIChzcmMpIHtcbiAgICB4aHJBdWRpbyhhdWRpb0NvbnRleHQsIHNyYywgZnVuY3Rpb24gYXVkaW9EZWNvZGVkIChlcnIsIGRlY29kZWQpIHtcbiAgICAgIGlmIChlcnIpIHJldHVybiBlbWl0dGVyLmVtaXQoJ2Vycm9yJywgZXJyKVxuICAgICAgYnVmZmVyID0gZGVjb2RlZCAvLyBzdG9yZSBmb3IgbGF0ZXIgdXNlXG4gICAgICBpZiAoYnVmZmVyTm9kZSkge1xuICAgICAgICAvLyBpZiBwbGF5KCkgd2FzIGNhbGxlZCBlYXJseVxuICAgICAgICBidWZmZXJOb2RlLmJ1ZmZlciA9IGJ1ZmZlclxuICAgICAgfVxuICAgICAgZHVyYXRpb24gPSBidWZmZXIuZHVyYXRpb25cbiAgICAgIG5vZGUuYnVmZmVyID0gYnVmZmVyXG4gICAgICBlbWl0dGVyLmVtaXQoJ2xvYWQnKVxuICAgIH0sIGZ1bmN0aW9uIGF1ZGlvUHJvZ3Jlc3MgKGFtb3VudCwgdG90YWwpIHtcbiAgICAgIGVtaXR0ZXIuZW1pdCgncHJvZ3Jlc3MnLCBhbW91bnQsIHRvdGFsKVxuICAgIH0sIGZ1bmN0aW9uIGF1ZGlvRGVjb2RpbmcgKCkge1xuICAgICAgZW1pdHRlci5lbWl0KCdkZWNvZGluZycpXG4gICAgfSlcbiAgfVxuXG4gIGZ1bmN0aW9uIGVuZGVkICgpIHtcbiAgICBlbWl0dGVyLmVtaXQoJ2VuZCcpXG4gICAgcGxheWluZyA9IGZhbHNlXG4gICAgYXVkaW9DdXJyZW50VGltZSA9IDBcbiAgfVxuXG4gIGZ1bmN0aW9uIGRpc3Bvc2VCdWZmZXIgKCkge1xuICAgIGlmIChidWZmZXJOb2RlKSBidWZmZXJOb2RlLmRpc2Nvbm5lY3QoKVxuICB9XG59XG4iLCJ2YXIgbG9va3VwID0gcmVxdWlyZSgnYnJvd3Nlci1tZWRpYS1taW1lLXR5cGUnKVxudmFyIGF1ZGlvXG5cbm1vZHVsZS5leHBvcnRzID0gaXNTcmNQbGF5YWJsZVxuZnVuY3Rpb24gaXNTcmNQbGF5YWJsZSAoc3JjKSB7XG4gIGlmICghc3JjKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdzcmMgY2Fubm90IGJlIGVtcHR5JylcbiAgdmFyIHR5cGVcbiAgaWYgKHR5cGVvZiBzcmMuZ2V0QXR0cmlidXRlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgLy8gPHNvdXJjZT4gZWxlbWVudFxuICAgIHR5cGUgPSBzcmMuZ2V0QXR0cmlidXRlKCd0eXBlJylcbiAgfSBlbHNlIGlmICh0eXBlb2Ygc3JjID09PSAnc3RyaW5nJykge1xuICAgIC8vICdmb28ubXAzJyBzdHJpbmdcbiAgICB2YXIgZXh0ID0gZXh0ZW5zaW9uKHNyYylcbiAgICBpZiAoZXh0KSB0eXBlID0gbG9va3VwKGV4dClcbiAgfSBlbHNlIHtcbiAgICAvLyB7IHNyYzogJ2Zvby5tcDMnLCB0eXBlOiAnYXVkaW8vbXBlZzsgY29kZWNzLi4nfVxuICAgIHR5cGUgPSBzcmMudHlwZVxuICB9XG5cbiAgLy8gV2UgaGF2ZSBhbiB1bmtub3duIGZpbGUgZXh0ZW5zaW9uIG9yXG4gIC8vIGEgPHNvdXJjZT4gdGFnIHdpdGhvdXQgYW4gZXhwbGljaXQgdHlwZSxcbiAgLy8ganVzdCBsZXQgdGhlIGJyb3dzZXIgaGFuZGxlIGl0IVxuICBpZiAoIXR5cGUpIHJldHVybiB0cnVlXG5cbiAgLy8gaGFuZGxlIFwibm9cIiBlZGdlIGNhc2Ugd2l0aCBzdXBlciBsZWdhY3kgYnJvd3NlcnMuLi5cbiAgLy8gaHR0cHM6Ly9ncm91cHMuZ29vZ2xlLmNvbS9mb3J1bS8jIXRvcGljL2dvb2dsZS13ZWItdG9vbGtpdC1jb250cmlidXRvcnMvYThVeTBiWHExSG9cbiAgaWYgKCFhdWRpbykgYXVkaW8gPSBuZXcgd2luZG93LkF1ZGlvKClcbiAgdmFyIGNhbnBsYXkgPSBhdWRpby5jYW5QbGF5VHlwZSh0eXBlKS5yZXBsYWNlKC9uby8sICcnKVxuICByZXR1cm4gQm9vbGVhbihjYW5wbGF5KVxufVxuXG5tb2R1bGUuZXhwb3J0cy5jcmVhdGVFcnJvciA9IGNyZWF0ZUVycm9yXG5mdW5jdGlvbiBjcmVhdGVFcnJvciAoc291cmNlcykge1xuICAvLyBBbGwgc291cmNlcyBhcmUgdW5wbGF5YWJsZVxuICB2YXIgZXJyID0gbmV3IEVycm9yKCdUaGlzIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBhbnkgb2YgdGhlIGZvbGxvd2luZyBzb3VyY2VzOlxcbiAgICAnICtcbiAgICAgIHNvdXJjZXMuam9pbignLCAnKSArICdcXG4nICtcbiAgICAgICdUcnkgdXNpbmcgYW4gYXJyYXkgb2YgT0dHLCBNUDMgYW5kIFdBVi4nKVxuICBlcnIudHlwZSA9ICdBVURJT19GT1JNQVQnXG4gIHJldHVybiBlcnJcbn1cblxuZnVuY3Rpb24gZXh0ZW5zaW9uIChkYXRhKSB7XG4gIHZhciBleHRJZHggPSBkYXRhLmxhc3RJbmRleE9mKCcuJylcbiAgaWYgKGV4dElkeCA8PSAwIHx8IGV4dElkeCA9PT0gZGF0YS5sZW5ndGggLSAxKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZFxuICB9XG4gIHJldHVybiBkYXRhLnN1YnN0cmluZyhleHRJZHggKyAxKVxufVxuIiwibW9kdWxlLmV4cG9ydHMgPSBhZGRPbmNlXG5mdW5jdGlvbiBhZGRPbmNlIChlbGVtZW50LCBldmVudCwgZm4pIHtcbiAgZnVuY3Rpb24gdG1wIChldikge1xuICAgIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgdG1wLCBmYWxzZSlcbiAgICBmbihldiwgZWxlbWVudClcbiAgfVxuICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIHRtcCwgZmFsc2UpXG59IiwidmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50cycpLkV2ZW50RW1pdHRlclxudmFyIGNyZWF0ZUF1ZGlvID0gcmVxdWlyZSgnc2ltcGxlLW1lZGlhLWVsZW1lbnQnKS5hdWRpb1xudmFyIGFzc2lnbiA9IHJlcXVpcmUoJ29iamVjdC1hc3NpZ24nKVxuXG52YXIgcmVzdW1lID0gcmVxdWlyZSgnLi9yZXN1bWUtY29udGV4dCcpXG52YXIgY3JlYXRlQXVkaW9Db250ZXh0ID0gcmVxdWlyZSgnLi9hdWRpby1jb250ZXh0JylcbnZhciBjYW5QbGF5U3JjID0gcmVxdWlyZSgnLi9jYW4tcGxheS1zcmMnKVxudmFyIGFkZE9uY2UgPSByZXF1aXJlKCcuL2V2ZW50LWFkZC1vbmNlJylcblxubW9kdWxlLmV4cG9ydHMgPSBjcmVhdGVNZWRpYVNvdXJjZVxuZnVuY3Rpb24gY3JlYXRlTWVkaWFTb3VyY2UgKHNyYywgb3B0KSB7XG4gIG9wdCA9IGFzc2lnbih7fSwgb3B0KVxuICB2YXIgZW1pdHRlciA9IG5ldyBFdmVudEVtaXR0ZXIoKVxuXG4gIC8vIERlZmF1bHQgdG8gQXVkaW8gaW5zdGVhZCBvZiBIVE1MQXVkaW9FbGVtZW50XG4gIC8vIFRoZXJlIGlzIG5vdCBtdWNoIGRpZmZlcmVuY2UgZXhjZXB0IGluIHRoZSBmb2xsb3dpbmc6XG4gIC8vICAgIHggaW5zdGFuY2VvZiBBdWRpb1xuICAvLyAgICB4IGluc3RhbmNlb2YgSFRNTEF1ZGlvRWxlbWVudFxuICAvLyBBbmQgaW4gbXkgZXhwZXJpZW5jZSBBdWRpbyBoYXMgYmV0dGVyIHN1cHBvcnQgb24gdmFyaW91c1xuICAvLyBwbGF0Zm9ybXMgbGlrZSBDb2Nvb25KUy5cbiAgLy8gUGxlYXNlIG9wZW4gYW4gaXNzdWUgaWYgdGhlcmUgaXMgYSBjb25jZXJuIHdpdGggdGhpcy5cbiAgaWYgKCFvcHQuZWxlbWVudCkgb3B0LmVsZW1lbnQgPSBuZXcgd2luZG93LkF1ZGlvKClcblxuICB2YXIgZGVzaXJlZFZvbHVtZSA9IG9wdC52b2x1bWVcbiAgZGVsZXRlIG9wdC52b2x1bWUgLy8gbWFrZSBzdXJlIDxhdWRpbz4gdGFnIHJlY2VpdmVzIGZ1bGwgdm9sdW1lXG4gIHZhciBhdWRpbyA9IGNyZWF0ZUF1ZGlvKHNyYywgb3B0KVxuICB2YXIgYXVkaW9Db250ZXh0ID0gb3B0LmNvbnRleHQgfHwgY3JlYXRlQXVkaW9Db250ZXh0KClcbiAgdmFyIG5vZGUgPSBhdWRpb0NvbnRleHQuY3JlYXRlR2FpbigpXG4gIHZhciBtZWRpYU5vZGUgPSBhdWRpb0NvbnRleHQuY3JlYXRlTWVkaWFFbGVtZW50U291cmNlKGF1ZGlvKVxuICBtZWRpYU5vZGUuY29ubmVjdChub2RlKVxuXG4gIGF1ZGlvLmFkZEV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgZnVuY3Rpb24gKCkge1xuICAgIGVtaXR0ZXIuZW1pdCgnZW5kJylcbiAgfSlcbiAgYXVkaW8uYWRkRXZlbnRMaXN0ZW5lcigncGxheScsIGZ1bmN0aW9uICgpIHtcbiAgICBjb25zb2xlLmxvZyhcIlBMQVlcIilcbiAgfSlcblxuICB2YXIgbG9vcFN0YXJ0ID0gb3B0Lmxvb3BTdGFydFxuICB2YXIgbG9vcEVuZCA9IG9wdC5sb29wRW5kXG4gIHZhciBoYXNMb29wU3RhcnQgPSB0eXBlb2YgbG9vcFN0YXJ0ID09PSAnbnVtYmVyJyAmJiBpc0Zpbml0ZShsb29wU3RhcnQpXG4gIHZhciBoYXNMb29wRW5kID0gdHlwZW9mIGxvb3BFbmQgPT09ICdudW1iZXInICYmIGlzRmluaXRlKGxvb3BFbmQpXG4gIHZhciBpc0xvb3BSZWFkeSA9IGZhbHNlXG4gIGlmIChoYXNMb29wU3RhcnQgfHwgaGFzTG9vcEVuZCkge1xuICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24gdXBkYXRlICgpIHtcbiAgICAgIC8vIGF1ZGlvIGhhc24ndCBiZWVuIGxvYWRlZCB5ZXQuLi5cbiAgICAgIGlmICh0eXBlb2YgYXVkaW8uZHVyYXRpb24gIT09ICdudW1iZXInKSByZXR1cm5cbiAgICAgIHZhciBjdXJyZW50VGltZSA9IGF1ZGlvLmN1cnJlbnRUaW1lXG5cbiAgICAgIC8vIHdoZXJlIHRvIGVuZCB0aGUgYnVmZmVyXG4gICAgICB2YXIgZW5kVGltZSA9IGhhc0xvb3BFbmQgPyBNYXRoLm1pbihhdWRpby5kdXJhdGlvbiwgbG9vcEVuZCkgOiBhdWRpby5kdXJhdGlvblxuXG4gICAgICBpZiAoY3VycmVudFRpbWUgPiAobG9vcFN0YXJ0IHx8IDApKSB7XG4gICAgICAgIGlzTG9vcFJlYWR5ID0gdHJ1ZVxuICAgICAgfVxuXG4gICAgICAvLyBqdW1wIGFoZWFkIHRvIGxvb3Agc3RhcnQgcG9pbnRcbiAgICAgIGlmIChoYXNMb29wU3RhcnQgJiYgaXNMb29wUmVhZHkgJiYgY3VycmVudFRpbWUgPCBsb29wU3RhcnQpIHtcbiAgICAgICAgYXVkaW8uY3VycmVudFRpbWUgPSBsb29wU3RhcnRcbiAgICAgIH1cblxuICAgICAgLy8gaWYgd2UndmUgaGl0IHRoZSBlbmQgb2YgdGhlIGJ1ZmZlclxuICAgICAgaWYgKGN1cnJlbnRUaW1lID49IGVuZFRpbWUpIHtcbiAgICAgICAgLy8gaWYgdGhlcmUgaXMgbm8gbG9vcCBlbmQgcG9pbnQsIGxldCBuYXRpdmUgbG9vcGluZyB0YWtlIG92ZXJcbiAgICAgICAgLy8gaWYgd2UgaGF2ZSBhIGxvb3AgZW5kIHBvaW50LCBqdW1wIGJhY2sgdG8gc3RhcnQgcG9pbnQgb3IgemVyb1xuICAgICAgICBpZiAoaGFzTG9vcEVuZCkge1xuICAgICAgICAgIGF1ZGlvLmN1cnJlbnRUaW1lID0gaGFzTG9vcFN0YXJ0ID8gbG9vcFN0YXJ0IDogMFxuICAgICAgICB9XG4gICAgICB9XG4gICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHVwZGF0ZSlcbiAgICB9KTtcbiAgfVxuXG4gIGVtaXR0ZXIuZWxlbWVudCA9IGF1ZGlvXG4gIGVtaXR0ZXIuY29udGV4dCA9IGF1ZGlvQ29udGV4dFxuICBlbWl0dGVyLm5vZGUgPSBub2RlXG4gIGVtaXR0ZXIucGF1c2UgPSBhdWRpby5wYXVzZS5iaW5kKGF1ZGlvKVxuICBlbWl0dGVyLnBsYXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKG9wdC5hdXRvUmVzdW1lICE9PSBmYWxzZSkgcmVzdW1lKGVtaXR0ZXIuY29udGV4dClcbiAgICByZXR1cm4gYXVkaW8ucGxheSgpXG4gIH1cblxuICAvLyBUaGlzIGV4aXN0cyBjdXJyZW50bHkgZm9yIHBhcml0eSB3aXRoIEJ1ZmZlciBzb3VyY2VcbiAgLy8gT3BlbiB0byBzdWdnZXN0aW9ucyBmb3Igd2hhdCB0aGlzIHNob3VsZCBkaXNwb3NlLi4uXG4gIGVtaXR0ZXIuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHt9XG5cbiAgZW1pdHRlci5zdG9wID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB3YXNQbGF5aW5nID0gZW1pdHRlci5wbGF5aW5nXG4gICAgYXVkaW8ucGF1c2UoKVxuICAgIGF1ZGlvLmN1cnJlbnRUaW1lID0gMFxuICAgIGlzTG9vcFJlYWR5ID0gZmFsc2VcbiAgICBpZiAod2FzUGxheWluZykge1xuICAgICAgZW1pdHRlci5lbWl0KCdlbmQnKVxuICAgIH1cbiAgfVxuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGVtaXR0ZXIsIHtcbiAgICBkdXJhdGlvbjoge1xuICAgICAgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBhdWRpby5kdXJhdGlvblxuICAgICAgfVxuICAgIH0sXG4gICAgY3VycmVudFRpbWU6IHtcbiAgICAgIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gYXVkaW8uY3VycmVudFRpbWVcbiAgICAgIH1cbiAgICB9LFxuICAgIHBsYXlpbmc6IHtcbiAgICAgIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gIWF1ZGlvLnBhdXNlZFxuICAgICAgfVxuICAgIH0sXG4gICAgdm9sdW1lOiB7XG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5vZGUuZ2Fpbi52YWx1ZVxuICAgICAgfSxcbiAgICAgIHNldDogZnVuY3Rpb24gKG4pIHtcbiAgICAgICAgbm9kZS5nYWluLnZhbHVlID0gblxuICAgICAgfVxuICAgIH1cbiAgfSlcblxuICAvLyBTZXQgaW5pdGlhbCB2b2x1bWVcbiAgaWYgKHR5cGVvZiBkZXNpcmVkVm9sdW1lID09PSAnbnVtYmVyJykge1xuICAgIGVtaXR0ZXIudm9sdW1lID0gZGVzaXJlZFZvbHVtZVxuICB9XG5cbiAgLy8gQ2hlY2sgaWYgYWxsIHNvdXJjZXMgYXJlIHVucGxheWFibGUsXG4gIC8vIGlmIHNvIHdlIGVtaXQgYW4gZXJyb3Igc2luY2UgdGhlIGJyb3dzZXJcbiAgLy8gbWlnaHQgbm90LlxuICB2YXIgc291cmNlcyA9IEFycmF5LmlzQXJyYXkoc3JjKSA/IHNyYyA6IFsgc3JjIF1cbiAgc291cmNlcyA9IHNvdXJjZXMuZmlsdGVyKEJvb2xlYW4pXG4gIHZhciBwbGF5YWJsZSA9IHNvdXJjZXMuc29tZShjYW5QbGF5U3JjKVxuICBpZiAocGxheWFibGUpIHtcbiAgICAvLyBBdCBsZWFzdCBvbmUgc291cmNlIGlzIHByb2JhYmx5L21heWJlIHBsYXlhYmxlXG4gICAgc3RhcnRMb2FkKClcbiAgfSBlbHNlIHtcbiAgICAvLyBlbWl0IGVycm9yIG9uIG5leHQgdGljayBzbyB1c2VyIGNhbiBjYXRjaCBpdFxuICAgIHByb2Nlc3MubmV4dFRpY2soZnVuY3Rpb24gKCkge1xuICAgICAgZW1pdHRlci5lbWl0KCdlcnJvcicsIGNhblBsYXlTcmMuY3JlYXRlRXJyb3Ioc291cmNlcykpXG4gICAgfSlcbiAgfVxuXG4gIHJldHVybiBlbWl0dGVyXG5cbiAgZnVuY3Rpb24gc3RhcnRMb2FkICgpIHtcbiAgICAvLyBUaGUgZmlsZSBlcnJvcnMgKGxpa2UgZGVjb2RpbmcgLyA0MDRzKSBhcHBlYXIgb24gPHNvdXJjZT5cbiAgICB2YXIgc3JjRWxlbWVudHMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhdWRpby5jaGlsZHJlbilcbiAgICB2YXIgcmVtYWluaW5nU3JjRXJyb3JzID0gc3JjRWxlbWVudHMubGVuZ3RoXG4gICAgdmFyIGhhc0Vycm9yZWQgPSBmYWxzZVxuICAgIHZhciBzb3VyY2VFcnJvciA9IGZ1bmN0aW9uIChlcnIsIGVsKSB7XG4gICAgICBpZiAoaGFzRXJyb3JlZCkgcmV0dXJuXG4gICAgICByZW1haW5pbmdTcmNFcnJvcnMtLVxuICAgICAgY29uc29sZS53YXJuKCdFcnJvciBsb2FkaW5nIHNvdXJjZTogJyArIGVsLmdldEF0dHJpYnV0ZSgnc3JjJykpXG4gICAgICBpZiAocmVtYWluaW5nU3JjRXJyb3JzIDw9IDApIHtcbiAgICAgICAgaGFzRXJyb3JlZCA9IHRydWVcbiAgICAgICAgc3JjRWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKCdlcnJvcicsIHNvdXJjZUVycm9yLCBmYWxzZSlcbiAgICAgICAgfSlcbiAgICAgICAgZW1pdHRlci5lbWl0KCdlcnJvcicsIG5ldyBFcnJvcignQ291bGQgbm90IHBsYXkgYW55IG9mIHRoZSBzdXBwbGllZCBzb3VyY2VzJykpXG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGRvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBlbWl0dGVyLmVtaXQoJ2xvYWQnKVxuICAgIH1cblxuICAgIGlmIChhdWRpby5yZWFkeVN0YXRlID49IGF1ZGlvLkhBVkVfRU5PVUdIX0RBVEEpIHtcbiAgICAgIHByb2Nlc3MubmV4dFRpY2soZG9uZSlcbiAgICB9IGVsc2Uge1xuICAgICAgYWRkT25jZShhdWRpbywgJ2NhbnBsYXknLCBkb25lKVxuICAgICAgYWRkT25jZShhdWRpbywgJ2Vycm9yJywgZnVuY3Rpb24gKGV2KSB7XG4gICAgICAgIGVtaXR0ZXIuZW1pdChuZXcgRXJyb3IoJ1Vua25vd24gZXJyb3Igd2hpbGUgbG9hZGluZyA8YXVkaW8+JykpXG4gICAgICB9KVxuICAgICAgc3JjRWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgYWRkT25jZShlbCwgJ2Vycm9yJywgc291cmNlRXJyb3IpXG4gICAgICB9KVxuICAgIH1cblxuICAgIC8vIE9uIG1vc3QgYnJvd3NlcnMgdGhlIGxvYWRpbmcgYmVnaW5zXG4gICAgLy8gaW1tZWRpYXRlbHkuIEhvd2V2ZXIsIG9uIGlPUyA5LjIgU2FmYXJpLFxuICAgIC8vIHlvdSBuZWVkIHRvIGNhbGwgbG9hZCgpIGZvciBldmVudHNcbiAgICAvLyB0byBiZSB0cmlnZ2VyZWQuXG4gICAgYXVkaW8ubG9hZCgpXG4gIH1cbn1cbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGF1ZGlvQ29udGV4dCkge1xuICBpZiAoYXVkaW9Db250ZXh0LnN0YXRlID09PSAnc3VzcGVuZGVkJyAmJlxuICAgICAgdHlwZW9mIGF1ZGlvQ29udGV4dC5yZXN1bWUgPT09ICdmdW5jdGlvbicpIHtcbiAgICBhdWRpb0NvbnRleHQucmVzdW1lKClcbiAgfVxufVxuIiwidmFyIHhociA9IHJlcXVpcmUoJ3hocicpXG52YXIgeGhyUHJvZ3Jlc3MgPSByZXF1aXJlKCd4aHItcHJvZ3Jlc3MnKVxuXG5tb2R1bGUuZXhwb3J0cyA9IHhockF1ZGlvXG5mdW5jdGlvbiB4aHJBdWRpbyAoYXVkaW9Db250ZXh0LCBzcmMsIGNiLCBwcm9ncmVzcywgZGVjb2RpbmcpIHtcbiAgdmFyIHhock9iamVjdCA9IHhocih7XG4gICAgdXJpOiBzcmMsXG4gICAgcmVzcG9uc2VUeXBlOiAnYXJyYXlidWZmZXInXG4gIH0sIGZ1bmN0aW9uIChlcnIsIHJlc3AsIGFycmF5QnVmKSB7XG4gICAgaWYgKCEvXjIvLnRlc3QocmVzcC5zdGF0dXNDb2RlKSkge1xuICAgICAgZXJyID0gbmV3IEVycm9yKCdzdGF0dXMgY29kZSAnICsgcmVzcC5zdGF0dXNDb2RlICsgJyByZXF1ZXN0aW5nICcgKyBzcmMpXG4gICAgfVxuICAgIGlmIChlcnIpIHJldHVybiBjYihlcnIpXG4gICAgZGVjb2RlKGFycmF5QnVmKVxuICB9KVxuXG4gIHhoclByb2dyZXNzKHhock9iamVjdClcbiAgICAub24oJ2RhdGEnLCBmdW5jdGlvbiAoYW1vdW50LCB0b3RhbCkge1xuICAgICAgcHJvZ3Jlc3MoYW1vdW50LCB0b3RhbClcbiAgICB9KVxuXG4gIGZ1bmN0aW9uIGRlY29kZSAoYXJyYXlCdWYpIHtcbiAgICBkZWNvZGluZygpXG4gICAgYXVkaW9Db250ZXh0LmRlY29kZUF1ZGlvRGF0YShhcnJheUJ1ZiwgZnVuY3Rpb24gKGRlY29kZWQpIHtcbiAgICAgIGNiKG51bGwsIGRlY29kZWQpXG4gICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGVyciA9IG5ldyBFcnJvcignRXJyb3IgZGVjb2RpbmcgYXVkaW8gZGF0YScpXG4gICAgICBlcnIudHlwZSA9ICdERUNPREVfQVVESU9fREFUQSdcbiAgICAgIGNiKGVycilcbiAgICB9KVxuICB9XG59XG4iLCJ2YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRzJykuRXZlbnRFbWl0dGVyXG5cbm1vZHVsZS5leHBvcnRzID0gcHJvZ3Jlc3NcblxuZnVuY3Rpb24gcHJvZ3Jlc3MoeGhyKSB7XG4gIHZhciBlbWl0dGVyID0gbmV3IEV2ZW50RW1pdHRlclxuICB2YXIgZmluaXNoZWQgPSBmYWxzZVxuXG4gIGlmICh4aHIuYXR0YWNoRXZlbnQpIHtcbiAgICB4aHIuYXR0YWNoRXZlbnQoJ29ucmVhZHlzdGF0ZWNoYW5nZScsIGRvbmUpXG4gICAgcmV0dXJuIGVtaXR0ZXJcbiAgfVxuXG4gIHhoci5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZG9uZSwgZmFsc2UpXG4gIHhoci5hZGRFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIHByb2dyZXNzLCBmYWxzZSlcbiAgZnVuY3Rpb24gcHJvZ3Jlc3MoZXZlbnQpIHtcbiAgICB2YXIgdmFsdWUgPSBldmVudC5sZW5ndGhDb21wdXRhYmxlXG4gICAgICA/IGV2ZW50LmxvYWRlZCAvIGV2ZW50LnRvdGFsXG4gICAgICA6IDBcblxuICAgIGlmICghZmluaXNoZWQpIGVtaXR0ZXIuZW1pdCgnZGF0YSdcbiAgICAgICwgdmFsdWVcbiAgICAgICwgZXZlbnQudG90YWwgfHwgbnVsbFxuICAgIClcblxuICAgIGZpbmlzaGVkID0gdmFsdWUgPT09IDFcbiAgfVxuXG4gIGZ1bmN0aW9uIGRvbmUoZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQudHlwZSAhPT0gJ2xvYWQnICYmICEvXihyZWFkeXxjb21wbGV0ZSkkL2cudGVzdChcbiAgICAgIChldmVudC5jdXJyZW50VGFyZ2V0IHx8IGV2ZW50LnNyY0VsZW1lbnQpLnJlYWR5U3RhdGVcbiAgICApKSByZXR1cm5cblxuICAgIGlmIChmaW5pc2hlZCkgcmV0dXJuXG4gICAgaWYgKHhoci5yZW1vdmVFdmVudExpc3RlbmVyKSB7XG4gICAgICB4aHIucmVtb3ZlRXZlbnRMaXN0ZW5lcignbG9hZCcsIGRvbmUsIGZhbHNlKVxuICAgICAgeGhyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgcHJvZ3Jlc3MsIGZhbHNlKVxuICAgIH0gZWxzZVxuICAgIGlmICh4aHIuZGV0YXRjaEV2ZW50KSB7XG4gICAgICB4aHIuZGV0YXRjaEV2ZW50KCdvbnJlYWR5c3RhdGVjaGFuZ2UnLCBkb25lKVxuICAgIH1cblxuICAgIGVtaXR0ZXIuZW1pdCgnZGF0YScsIDEsIGV2ZW50LnRvdGFsIHx8IG51bGwpXG4gICAgZW1pdHRlci5lbWl0KCdkb25lJylcbiAgICBmaW5pc2hlZCA9IHRydWVcbiAgfVxuXG4gIHJldHVybiBlbWl0dGVyXG59XG4iLCJcInVzZSBzdHJpY3RcIjtcbnZhciB3aW5kb3cgPSByZXF1aXJlKFwiZ2xvYmFsL3dpbmRvd1wiKVxudmFyIGlzRnVuY3Rpb24gPSByZXF1aXJlKFwiaXMtZnVuY3Rpb25cIilcbnZhciBwYXJzZUhlYWRlcnMgPSByZXF1aXJlKFwicGFyc2UtaGVhZGVyc1wiKVxudmFyIHh0ZW5kID0gcmVxdWlyZShcInh0ZW5kXCIpXG5cbm1vZHVsZS5leHBvcnRzID0gY3JlYXRlWEhSXG5jcmVhdGVYSFIuWE1MSHR0cFJlcXVlc3QgPSB3aW5kb3cuWE1MSHR0cFJlcXVlc3QgfHwgbm9vcFxuY3JlYXRlWEhSLlhEb21haW5SZXF1ZXN0ID0gXCJ3aXRoQ3JlZGVudGlhbHNcIiBpbiAobmV3IGNyZWF0ZVhIUi5YTUxIdHRwUmVxdWVzdCgpKSA/IGNyZWF0ZVhIUi5YTUxIdHRwUmVxdWVzdCA6IHdpbmRvdy5YRG9tYWluUmVxdWVzdFxuXG5mb3JFYWNoQXJyYXkoW1wiZ2V0XCIsIFwicHV0XCIsIFwicG9zdFwiLCBcInBhdGNoXCIsIFwiaGVhZFwiLCBcImRlbGV0ZVwiXSwgZnVuY3Rpb24obWV0aG9kKSB7XG4gICAgY3JlYXRlWEhSW21ldGhvZCA9PT0gXCJkZWxldGVcIiA/IFwiZGVsXCIgOiBtZXRob2RdID0gZnVuY3Rpb24odXJpLCBvcHRpb25zLCBjYWxsYmFjaykge1xuICAgICAgICBvcHRpb25zID0gaW5pdFBhcmFtcyh1cmksIG9wdGlvbnMsIGNhbGxiYWNrKVxuICAgICAgICBvcHRpb25zLm1ldGhvZCA9IG1ldGhvZC50b1VwcGVyQ2FzZSgpXG4gICAgICAgIHJldHVybiBfY3JlYXRlWEhSKG9wdGlvbnMpXG4gICAgfVxufSlcblxuZnVuY3Rpb24gZm9yRWFjaEFycmF5KGFycmF5LCBpdGVyYXRvcikge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaXRlcmF0b3IoYXJyYXlbaV0pXG4gICAgfVxufVxuXG5mdW5jdGlvbiBpc0VtcHR5KG9iail7XG4gICAgZm9yKHZhciBpIGluIG9iail7XG4gICAgICAgIGlmKG9iai5oYXNPd25Qcm9wZXJ0eShpKSkgcmV0dXJuIGZhbHNlXG4gICAgfVxuICAgIHJldHVybiB0cnVlXG59XG5cbmZ1bmN0aW9uIGluaXRQYXJhbXModXJpLCBvcHRpb25zLCBjYWxsYmFjaykge1xuICAgIHZhciBwYXJhbXMgPSB1cmlcblxuICAgIGlmIChpc0Z1bmN0aW9uKG9wdGlvbnMpKSB7XG4gICAgICAgIGNhbGxiYWNrID0gb3B0aW9uc1xuICAgICAgICBpZiAodHlwZW9mIHVyaSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgcGFyYW1zID0ge3VyaTp1cml9XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBwYXJhbXMgPSB4dGVuZChvcHRpb25zLCB7dXJpOiB1cml9KVxuICAgIH1cblxuICAgIHBhcmFtcy5jYWxsYmFjayA9IGNhbGxiYWNrXG4gICAgcmV0dXJuIHBhcmFtc1xufVxuXG5mdW5jdGlvbiBjcmVhdGVYSFIodXJpLCBvcHRpb25zLCBjYWxsYmFjaykge1xuICAgIG9wdGlvbnMgPSBpbml0UGFyYW1zKHVyaSwgb3B0aW9ucywgY2FsbGJhY2spXG4gICAgcmV0dXJuIF9jcmVhdGVYSFIob3B0aW9ucylcbn1cblxuZnVuY3Rpb24gX2NyZWF0ZVhIUihvcHRpb25zKSB7XG4gICAgaWYodHlwZW9mIG9wdGlvbnMuY2FsbGJhY2sgPT09IFwidW5kZWZpbmVkXCIpe1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJjYWxsYmFjayBhcmd1bWVudCBtaXNzaW5nXCIpXG4gICAgfVxuXG4gICAgdmFyIGNhbGxlZCA9IGZhbHNlXG4gICAgdmFyIGNhbGxiYWNrID0gZnVuY3Rpb24gY2JPbmNlKGVyciwgcmVzcG9uc2UsIGJvZHkpe1xuICAgICAgICBpZighY2FsbGVkKXtcbiAgICAgICAgICAgIGNhbGxlZCA9IHRydWVcbiAgICAgICAgICAgIG9wdGlvbnMuY2FsbGJhY2soZXJyLCByZXNwb25zZSwgYm9keSlcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlYWR5c3RhdGVjaGFuZ2UoKSB7XG4gICAgICAgIGlmICh4aHIucmVhZHlTdGF0ZSA9PT0gNCkge1xuICAgICAgICAgICAgc2V0VGltZW91dChsb2FkRnVuYywgMClcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldEJvZHkoKSB7XG4gICAgICAgIC8vIENocm9tZSB3aXRoIHJlcXVlc3RUeXBlPWJsb2IgdGhyb3dzIGVycm9ycyBhcnJvdW5kIHdoZW4gZXZlbiB0ZXN0aW5nIGFjY2VzcyB0byByZXNwb25zZVRleHRcbiAgICAgICAgdmFyIGJvZHkgPSB1bmRlZmluZWRcblxuICAgICAgICBpZiAoeGhyLnJlc3BvbnNlKSB7XG4gICAgICAgICAgICBib2R5ID0geGhyLnJlc3BvbnNlXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBib2R5ID0geGhyLnJlc3BvbnNlVGV4dCB8fCBnZXRYbWwoeGhyKVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzSnNvbikge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBib2R5ID0gSlNPTi5wYXJzZShib2R5KVxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBib2R5XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZXJyb3JGdW5jKGV2dCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dFRpbWVyKVxuICAgICAgICBpZighKGV2dCBpbnN0YW5jZW9mIEVycm9yKSl7XG4gICAgICAgICAgICBldnQgPSBuZXcgRXJyb3IoXCJcIiArIChldnQgfHwgXCJVbmtub3duIFhNTEh0dHBSZXF1ZXN0IEVycm9yXCIpIClcbiAgICAgICAgfVxuICAgICAgICBldnQuc3RhdHVzQ29kZSA9IDBcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGV2dCwgZmFpbHVyZVJlc3BvbnNlKVxuICAgIH1cblxuICAgIC8vIHdpbGwgbG9hZCB0aGUgZGF0YSAmIHByb2Nlc3MgdGhlIHJlc3BvbnNlIGluIGEgc3BlY2lhbCByZXNwb25zZSBvYmplY3RcbiAgICBmdW5jdGlvbiBsb2FkRnVuYygpIHtcbiAgICAgICAgaWYgKGFib3J0ZWQpIHJldHVyblxuICAgICAgICB2YXIgc3RhdHVzXG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0VGltZXIpXG4gICAgICAgIGlmKG9wdGlvbnMudXNlWERSICYmIHhoci5zdGF0dXM9PT11bmRlZmluZWQpIHtcbiAgICAgICAgICAgIC8vSUU4IENPUlMgR0VUIHN1Y2Nlc3NmdWwgcmVzcG9uc2UgZG9lc24ndCBoYXZlIGEgc3RhdHVzIGZpZWxkLCBidXQgYm9keSBpcyBmaW5lXG4gICAgICAgICAgICBzdGF0dXMgPSAyMDBcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0YXR1cyA9ICh4aHIuc3RhdHVzID09PSAxMjIzID8gMjA0IDogeGhyLnN0YXR1cylcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVzcG9uc2UgPSBmYWlsdXJlUmVzcG9uc2VcbiAgICAgICAgdmFyIGVyciA9IG51bGxcblxuICAgICAgICBpZiAoc3RhdHVzICE9PSAwKXtcbiAgICAgICAgICAgIHJlc3BvbnNlID0ge1xuICAgICAgICAgICAgICAgIGJvZHk6IGdldEJvZHkoKSxcbiAgICAgICAgICAgICAgICBzdGF0dXNDb2RlOiBzdGF0dXMsXG4gICAgICAgICAgICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICAgICAgICAgICAgaGVhZGVyczoge30sXG4gICAgICAgICAgICAgICAgdXJsOiB1cmksXG4gICAgICAgICAgICAgICAgcmF3UmVxdWVzdDogeGhyXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZih4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKXsgLy9yZW1lbWJlciB4aHIgY2FuIGluIGZhY3QgYmUgWERSIGZvciBDT1JTIGluIElFXG4gICAgICAgICAgICAgICAgcmVzcG9uc2UuaGVhZGVycyA9IHBhcnNlSGVhZGVycyh4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlcnIgPSBuZXcgRXJyb3IoXCJJbnRlcm5hbCBYTUxIdHRwUmVxdWVzdCBFcnJvclwiKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjYWxsYmFjayhlcnIsIHJlc3BvbnNlLCByZXNwb25zZS5ib2R5KVxuICAgIH1cblxuICAgIHZhciB4aHIgPSBvcHRpb25zLnhociB8fCBudWxsXG5cbiAgICBpZiAoIXhocikge1xuICAgICAgICBpZiAob3B0aW9ucy5jb3JzIHx8IG9wdGlvbnMudXNlWERSKSB7XG4gICAgICAgICAgICB4aHIgPSBuZXcgY3JlYXRlWEhSLlhEb21haW5SZXF1ZXN0KClcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICB4aHIgPSBuZXcgY3JlYXRlWEhSLlhNTEh0dHBSZXF1ZXN0KClcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhciBrZXlcbiAgICB2YXIgYWJvcnRlZFxuICAgIHZhciB1cmkgPSB4aHIudXJsID0gb3B0aW9ucy51cmkgfHwgb3B0aW9ucy51cmxcbiAgICB2YXIgbWV0aG9kID0geGhyLm1ldGhvZCA9IG9wdGlvbnMubWV0aG9kIHx8IFwiR0VUXCJcbiAgICB2YXIgYm9keSA9IG9wdGlvbnMuYm9keSB8fCBvcHRpb25zLmRhdGFcbiAgICB2YXIgaGVhZGVycyA9IHhoci5oZWFkZXJzID0gb3B0aW9ucy5oZWFkZXJzIHx8IHt9XG4gICAgdmFyIHN5bmMgPSAhIW9wdGlvbnMuc3luY1xuICAgIHZhciBpc0pzb24gPSBmYWxzZVxuICAgIHZhciB0aW1lb3V0VGltZXJcbiAgICB2YXIgZmFpbHVyZVJlc3BvbnNlID0ge1xuICAgICAgICBib2R5OiB1bmRlZmluZWQsXG4gICAgICAgIGhlYWRlcnM6IHt9LFxuICAgICAgICBzdGF0dXNDb2RlOiAwLFxuICAgICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgICAgdXJsOiB1cmksXG4gICAgICAgIHJhd1JlcXVlc3Q6IHhoclxuICAgIH1cblxuICAgIGlmIChcImpzb25cIiBpbiBvcHRpb25zICYmIG9wdGlvbnMuanNvbiAhPT0gZmFsc2UpIHtcbiAgICAgICAgaXNKc29uID0gdHJ1ZVxuICAgICAgICBoZWFkZXJzW1wiYWNjZXB0XCJdIHx8IGhlYWRlcnNbXCJBY2NlcHRcIl0gfHwgKGhlYWRlcnNbXCJBY2NlcHRcIl0gPSBcImFwcGxpY2F0aW9uL2pzb25cIikgLy9Eb24ndCBvdmVycmlkZSBleGlzdGluZyBhY2NlcHQgaGVhZGVyIGRlY2xhcmVkIGJ5IHVzZXJcbiAgICAgICAgaWYgKG1ldGhvZCAhPT0gXCJHRVRcIiAmJiBtZXRob2QgIT09IFwiSEVBRFwiKSB7XG4gICAgICAgICAgICBoZWFkZXJzW1wiY29udGVudC10eXBlXCJdIHx8IGhlYWRlcnNbXCJDb250ZW50LVR5cGVcIl0gfHwgKGhlYWRlcnNbXCJDb250ZW50LVR5cGVcIl0gPSBcImFwcGxpY2F0aW9uL2pzb25cIikgLy9Eb24ndCBvdmVycmlkZSBleGlzdGluZyBhY2NlcHQgaGVhZGVyIGRlY2xhcmVkIGJ5IHVzZXJcbiAgICAgICAgICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeShvcHRpb25zLmpzb24gPT09IHRydWUgPyBib2R5IDogb3B0aW9ucy5qc29uKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IHJlYWR5c3RhdGVjaGFuZ2VcbiAgICB4aHIub25sb2FkID0gbG9hZEZ1bmNcbiAgICB4aHIub25lcnJvciA9IGVycm9yRnVuY1xuICAgIC8vIElFOSBtdXN0IGhhdmUgb25wcm9ncmVzcyBiZSBzZXQgdG8gYSB1bmlxdWUgZnVuY3Rpb24uXG4gICAgeGhyLm9ucHJvZ3Jlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIElFIG11c3QgZGllXG4gICAgfVxuICAgIHhoci5vbmFib3J0ID0gZnVuY3Rpb24oKXtcbiAgICAgICAgYWJvcnRlZCA9IHRydWU7XG4gICAgfVxuICAgIHhoci5vbnRpbWVvdXQgPSBlcnJvckZ1bmNcbiAgICB4aHIub3BlbihtZXRob2QsIHVyaSwgIXN5bmMsIG9wdGlvbnMudXNlcm5hbWUsIG9wdGlvbnMucGFzc3dvcmQpXG4gICAgLy9oYXMgdG8gYmUgYWZ0ZXIgb3BlblxuICAgIGlmKCFzeW5jKSB7XG4gICAgICAgIHhoci53aXRoQ3JlZGVudGlhbHMgPSAhIW9wdGlvbnMud2l0aENyZWRlbnRpYWxzXG4gICAgfVxuICAgIC8vIENhbm5vdCBzZXQgdGltZW91dCB3aXRoIHN5bmMgcmVxdWVzdFxuICAgIC8vIG5vdCBzZXR0aW5nIHRpbWVvdXQgb24gdGhlIHhociBvYmplY3QsIGJlY2F1c2Ugb2Ygb2xkIHdlYmtpdHMgZXRjLiBub3QgaGFuZGxpbmcgdGhhdCBjb3JyZWN0bHlcbiAgICAvLyBib3RoIG5wbSdzIHJlcXVlc3QgYW5kIGpxdWVyeSAxLnggdXNlIHRoaXMga2luZCBvZiB0aW1lb3V0LCBzbyB0aGlzIGlzIGJlaW5nIGNvbnNpc3RlbnRcbiAgICBpZiAoIXN5bmMgJiYgb3B0aW9ucy50aW1lb3V0ID4gMCApIHtcbiAgICAgICAgdGltZW91dFRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICAgICAgaWYgKGFib3J0ZWQpIHJldHVyblxuICAgICAgICAgICAgYWJvcnRlZCA9IHRydWUvL0lFOSBtYXkgc3RpbGwgY2FsbCByZWFkeXN0YXRlY2hhbmdlXG4gICAgICAgICAgICB4aHIuYWJvcnQoXCJ0aW1lb3V0XCIpXG4gICAgICAgICAgICB2YXIgZSA9IG5ldyBFcnJvcihcIlhNTEh0dHBSZXF1ZXN0IHRpbWVvdXRcIilcbiAgICAgICAgICAgIGUuY29kZSA9IFwiRVRJTUVET1VUXCJcbiAgICAgICAgICAgIGVycm9yRnVuYyhlKVxuICAgICAgICB9LCBvcHRpb25zLnRpbWVvdXQgKVxuICAgIH1cblxuICAgIGlmICh4aHIuc2V0UmVxdWVzdEhlYWRlcikge1xuICAgICAgICBmb3Ioa2V5IGluIGhlYWRlcnMpe1xuICAgICAgICAgICAgaWYoaGVhZGVycy5oYXNPd25Qcm9wZXJ0eShrZXkpKXtcbiAgICAgICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihrZXksIGhlYWRlcnNba2V5XSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAob3B0aW9ucy5oZWFkZXJzICYmICFpc0VtcHR5KG9wdGlvbnMuaGVhZGVycykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSGVhZGVycyBjYW5ub3QgYmUgc2V0IG9uIGFuIFhEb21haW5SZXF1ZXN0IG9iamVjdFwiKVxuICAgIH1cblxuICAgIGlmIChcInJlc3BvbnNlVHlwZVwiIGluIG9wdGlvbnMpIHtcbiAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9IG9wdGlvbnMucmVzcG9uc2VUeXBlXG4gICAgfVxuXG4gICAgaWYgKFwiYmVmb3JlU2VuZFwiIGluIG9wdGlvbnMgJiZcbiAgICAgICAgdHlwZW9mIG9wdGlvbnMuYmVmb3JlU2VuZCA9PT0gXCJmdW5jdGlvblwiXG4gICAgKSB7XG4gICAgICAgIG9wdGlvbnMuYmVmb3JlU2VuZCh4aHIpXG4gICAgfVxuXG4gICAgLy8gTWljcm9zb2Z0IEVkZ2UgYnJvd3NlciBzZW5kcyBcInVuZGVmaW5lZFwiIHdoZW4gc2VuZCBpcyBjYWxsZWQgd2l0aCB1bmRlZmluZWQgdmFsdWUuXG4gICAgLy8gWE1MSHR0cFJlcXVlc3Qgc3BlYyBzYXlzIHRvIHBhc3MgbnVsbCBhcyBib2R5IHRvIGluZGljYXRlIG5vIGJvZHlcbiAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL25hdWd0dXIveGhyL2lzc3Vlcy8xMDAuXG4gICAgeGhyLnNlbmQoYm9keSB8fCBudWxsKVxuXG4gICAgcmV0dXJuIHhoclxuXG5cbn1cblxuZnVuY3Rpb24gZ2V0WG1sKHhocikge1xuICAgIGlmICh4aHIucmVzcG9uc2VUeXBlID09PSBcImRvY3VtZW50XCIpIHtcbiAgICAgICAgcmV0dXJuIHhoci5yZXNwb25zZVhNTFxuICAgIH1cbiAgICB2YXIgZmlyZWZveEJ1Z1Rha2VuRWZmZWN0ID0geGhyLnJlc3BvbnNlWE1MICYmIHhoci5yZXNwb25zZVhNTC5kb2N1bWVudEVsZW1lbnQubm9kZU5hbWUgPT09IFwicGFyc2VyZXJyb3JcIlxuICAgIGlmICh4aHIucmVzcG9uc2VUeXBlID09PSBcIlwiICYmICFmaXJlZm94QnVnVGFrZW5FZmZlY3QpIHtcbiAgICAgICAgcmV0dXJuIHhoci5yZXNwb25zZVhNTFxuICAgIH1cblxuICAgIHJldHVybiBudWxsXG59XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuIiwibW9kdWxlLmV4cG9ydHMgPSBleHRlbmRcblxudmFyIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcblxuZnVuY3Rpb24gZXh0ZW5kKCkge1xuICAgIHZhciB0YXJnZXQgPSB7fVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXVxuXG4gICAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXRcbn1cbiIsImNvbnN0IGNyZWF0ZUFwcCA9IHJlcXVpcmUoJy4vdXRpbC9jcmVhdGVBcHAnKTtcblxuaW1wb3J0IFV0aWxzIGZyb20gJy4vdXRpbC9VdGlscyc7XG5cbi8vIEV2ZW50c1xuaW1wb3J0IEV2ZW50c01hbmFnZXIgZnJvbSAnLi9ldmVudHMvRXZlbnRzTWFuYWdlcic7XG5pbXBvcnQgRXZlbnRzIGZyb20gJy4vZXZlbnRzL0V2ZW50cyc7XG5cbi8vIE1hbmFnZXJzXG5pbXBvcnQgUmFmTWFuYWdlciBmcm9tICcuL21hbmFnZXJzL1JhZk1hbmFnZXInO1xuaW1wb3J0IEludGVyYWN0aW9uTWFuYWdlciBmcm9tICcuL21hbmFnZXJzL0ludGVyYWN0aW9uTWFuYWdlcic7XG5pbXBvcnQgU291bmRNYW5hZ2VyIGZyb20gJy4vbWFuYWdlcnMvU291bmRNYW5hZ2VyJztcblxuLy8gQ29udHJvbGxlcnNcbmltcG9ydCBLZXlib2FyZENvbnRyb2xsZXIgZnJvbSAnLi9jb250cm9sbGVycy9LZXlib2FyZENvbnRyb2xsZXInO1xuaW1wb3J0IEVmZmVjdENvbnRyb2xsZXIgZnJvbSAnLi9jb250cm9sbGVycy9FZmZlY3RDb250cm9sbGVyJztcbmltcG9ydCBTaGFwZUNvbnRyb2xsZXIgZnJvbSAnLi9jb250cm9sbGVycy9TaGFwZUNvbnRyb2xsZXInO1xuXG4vLyBPYmplY3RzM0RcbmltcG9ydCBTdXBlcnNoYXBlIGZyb20gJy4vYXBwL1N1cGVyc2hhcGUnO1xuaW1wb3J0IEJhY2tncm91bmQgZnJvbSAnLi9hcHAvQmFja2dyb3VuZCc7XG5pbXBvcnQgQ2lyY2xlcyBmcm9tICcuL2FwcC9DaXJjbGVzJztcblxuY29uc3QgZ2xzbGlmeSA9IHJlcXVpcmUoJ2dsc2xpZnknKTtcblxuLyoqXG4gKiBNT05PR1JJRCBERVZYIFhQXG4gKlxuICogTWFpblxuICovXG5cbmNsYXNzIE1haW4ge1xuXG5cdGNvbnN0cnVjdG9yKCkge1xuXHRcdC8vIEdsb2JhbFxuXHRcdHdpbmRvdy52alBsYXlpbmcgPSBmYWxzZTtcblxuXHRcdC8vIEJpbmRpbmdzXG5cdFx0dGhpcy5yZW5kZXIgXHRcdD0gOjp0aGlzLnJlbmRlcjtcbiAgICAgICAgdGhpcy5vbk1vdXNlRG93biBcdD0gOjp0aGlzLm9uTW91c2VEb3duO1xuICAgICAgICB0aGlzLm9uTW91c2VVcCBcdFx0PSA6OnRoaXMub25Nb3VzZVVwO1xuICAgICAgICB0aGlzLm9uUGxheUVmZmVjdCBcdD0gOjp0aGlzLm9uUGxheUVmZmVjdDtcbiAgICAgICAgdGhpcy5vblNwbGl0RWZmZWN0IFx0PSA6OnRoaXMub25TcGxpdEVmZmVjdDtcbiAgICAgICAgdGhpcy5vblNvdW5kRW5kZWQgXHQ9IDo6dGhpcy5vblNvdW5kRW5kZWQ7XG4gICAgICAgIHRoaXMub25SZXN1bWVWamluZyBcdD0gOjp0aGlzLm9uUmVzdW1lVmppbmc7XG4gICAgICAgIHRoaXMub25QYXVzZVZqaW5nIFx0PSA6OnRoaXMub25QYXVzZVZqaW5nO1xuXG4gICAgICAgIC8vIFByb3BzXG4gICAgICAgIHRoaXMudGltZSA9IERhdGUubm93KCk7XG4gICAgICAgIHRoaXMuc21vb3RoUm90YXRpb25YID0gMDtcbiAgICAgICAgdGhpcy5zbW9vdGhSb3RhdGlvblkgPSAwO1xuXG4gICAgICAgIC8vIERPTSBlbGVtZW50c1xuICAgICAgICB0aGlzLiR1aSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy51aScpO1xuICAgICAgICB0aGlzLiRoZWxwZXIgPSB0aGlzLiR1aS5xdWVyeVNlbGVjdG9yKCcuaGVscGVyJyk7XG4gICAgICAgIHRoaXMuJGNyZWRpdHMgPSB0aGlzLiR1aS5xdWVyeVNlbGVjdG9yKCcuY3JlZGl0cycpO1xuICAgICAgICB0aGlzLiRicmFuZCA9IHRoaXMuJHVpLnF1ZXJ5U2VsZWN0b3IoJy5icmFuZCcpO1xuICAgICAgICB0aGlzLiRsb2dvID0gdGhpcy4kdWkucXVlcnlTZWxlY3RvcignLmxvZ28nKTtcbiAgICAgICAgdGhpcy4kY3Jvc3NlcyA9IHRoaXMuJHVpLnF1ZXJ5U2VsZWN0b3JBbGwoJy5jcm9zcycpO1xuXG5cdFx0Ly8gQ3JlYXRlIEFwcFxuXHRcdHdpbmRvdy5hcHAgPSBjcmVhdGVBcHAoeyBkZWJ1ZzpmYWxzZSB9KTtcblxuXHRcdC8vIENhbWVyYSBcblx0XHR3aW5kb3cuYXBwLmNhbWVyYS5wb3NpdGlvbi56ID0gMTIwMDtcblx0XHR3aW5kb3cuYXBwLmNhbWVyYS5sb29rQXQobmV3IFRIUkVFLlZlY3RvcjMoMCwwLDApKTtcblxuXHRcdC8vIENTUzNEIENhbWVyYSBcblx0XHR3aW5kb3cuYXBwLmNzczNEQ2FtZXJhLnBvc2l0aW9uLnogPSAxMjAwO1xuXHRcdHdpbmRvdy5hcHAuY3NzM0RDYW1lcmEubG9va0F0KG5ldyBUSFJFRS5WZWN0b3IzKDAsMCwwKSk7XG5cblx0XHQvLyBQb3N0Rlhcblx0XHR0aGlzLkZYQUFQYXNzID0gbmV3IFdBR05FUi5GWEFBUGFzcygpO1xuXHRcdHRoaXMucG9zdEZYUGFzcyA9IG5ldyBXQUdORVIuUGFzcygpO1xuXHRcdHRoaXMucG9zdEZYUGFzcy5zaGFkZXIgPSBXQUdORVIucHJvY2Vzc1NoYWRlcihXQUdORVIuYmFzaWNWcywgZ2xzbGlmeSgnLi9zaGFkZXJzL3Bvc3RGWC5mcmFnLmdsc2wnKSk7XG5cdFx0dGhpcy5wb3N0RlhQYXNzLnNoYWRlci51bmlmb3Jtcy5kaXZpZGUudmFsdWUgPSAxO1xuXHRcdHRoaXMucG9zdEZYUGFzcy5zaGFkZXIudW5pZm9ybXMubWlycm9yWC52YWx1ZSA9IDA7XG5cdFx0dGhpcy5wb3N0RlhQYXNzLnNoYWRlci51bmlmb3Jtcy5taXJyb3JZLnZhbHVlID0gMDtcblx0XHR0aGlzLnBvc3RGWFBhc3Muc2hhZGVyLnVuaWZvcm1zLm1vcnBoLnZhbHVlID0gMDtcblxuXHRcdC8vIE1hbmFnZXJzXG5cdFx0UmFmTWFuYWdlci5zdGFydCgpO1xuXHRcdEludGVyYWN0aW9uTWFuYWdlci5zdGFydCgpO1xuXHRcdFNvdW5kTWFuYWdlci5zdGFydCgpO1xuXHRcdFxuXHRcdC8vIENvbnRyb2xsZXJzXG5cdFx0S2V5Ym9hcmRDb250cm9sbGVyLnN0YXJ0KCk7XG5cdFx0RWZmZWN0Q29udHJvbGxlci5zdGFydCgpO1xuXHRcdFNoYXBlQ29udHJvbGxlci5zdGFydCgpO1xuXG5cdFx0Ly8gVUlcblx0XHR0aGlzLnVpID0gbmV3IFRIUkVFLkNTUzNET2JqZWN0KHRoaXMuJHVpKTtcblx0XHR0aGlzLnVpLnBvc2l0aW9uLnggPSAxODtcblx0XHR0aGlzLnVpLnBvc2l0aW9uLnkgPSAxODtcblx0XHR0aGlzLnVpLnBvc2l0aW9uLnogPSAwO1xuXHRcdHdpbmRvdy5hcHAuY3NzM0RTY2VuZS5hZGQodGhpcy51aSk7XG5cblx0XHQvLyBDaXJjbGVzXG5cdFx0dGhpcy5jaXJjbGVzID0gbmV3IENpcmNsZXMoKTtcblx0XHR0aGlzLmNpcmNsZXMucG9zaXRpb24ueCA9IDE0MDtcblx0XHR0aGlzLmNpcmNsZXMucG9zaXRpb24ueSA9IDE4O1xuXHRcdHRoaXMuY2lyY2xlcy5wb3NpdGlvbi56ID0gLTE7XG5cdFx0d2luZG93LmFwcC5zY2VuZS5hZGQodGhpcy5jaXJjbGVzKTtcblxuXHRcdC8vIEJhY2tncm91bmRcblx0XHR0aGlzLmJhY2tncm91bmQgPSBuZXcgQmFja2dyb3VuZCgpO1xuXHRcdHRoaXMuYmFja2dyb3VuZC5wb3NpdGlvbi54ID0gMTg7XG5cdFx0dGhpcy5iYWNrZ3JvdW5kLnBvc2l0aW9uLnkgPSAxODtcblx0XHR0aGlzLmJhY2tncm91bmQucG9zaXRpb24ueiA9IDA7XG5cdFx0d2luZG93LmFwcC5zY2VuZS5hZGQodGhpcy5iYWNrZ3JvdW5kKTtcblxuXHRcdC8vIFN1cGVyc2hhcGVcblx0XHR0aGlzLnN1cGVyc2hhcGUgPSBuZXcgU3VwZXJzaGFwZSgxODApO1xuXHRcdHRoaXMuc3VwZXJzaGFwZS5zY2FsZS54ID0gdGhpcy5zdXBlcnNoYXBlLnNjYWxlLnkgPSB0aGlzLnN1cGVyc2hhcGUuc2NhbGUueiA9IDAuMDE7XG5cdFx0dGhpcy5zdXBlcnNoYXBlLnBvc2l0aW9uLnggPSAtMTg7XG5cdFx0dGhpcy5zdXBlcnNoYXBlLnBvc2l0aW9uLnkgPSAtMTg7XG5cdFx0dGhpcy5zdXBlcnNoYXBlLnBvc2l0aW9uLnogPSAzMDA7XG5cdFx0d2luZG93LmFwcC5zY2VuZS5hZGQodGhpcy5zdXBlcnNoYXBlKTtcblxuXHRcdC8vIFJhbmRvbSBwYWxldHRlXG5cdFx0Y29uc3QgcGFsZXR0ZSA9IFV0aWxzLmdldFBhbGV0dGUoKTtcblx0XHRFdmVudHNNYW5hZ2VyLmVtaXQoRXZlbnRzLlBBTEVUVEVfQ0hBTkdFLCBwYWxldHRlKTtcblxuXHRcdC8vIFN0YXJ0IHJlbmRlclxuXHRcdFJhZk1hbmFnZXIuYmluZCgnbWFpbicsIHRoaXMucmVuZGVyKTtcblxuICAgICAgICAvLyBMaXN0ZW5lcnNcbiAgICAgICAgRXZlbnRzTWFuYWdlci5vbihFdmVudHMuTU9VU0VfRE9XTiwgdGhpcy5vbk1vdXNlRG93bik7XG4gICAgICAgIEV2ZW50c01hbmFnZXIub24oRXZlbnRzLk1PVVNFX1VQLCB0aGlzLm9uTW91c2VVcCk7XG4gICAgICAgIEV2ZW50c01hbmFnZXIub24oRXZlbnRzLlBMQVlfRUZGRUNULCB0aGlzLm9uUGxheUVmZmVjdCk7XG4gICAgICAgIEV2ZW50c01hbmFnZXIub24oRXZlbnRzLlNQTElUX0VGRkVDVCwgdGhpcy5vblNwbGl0RWZmZWN0KTtcbiAgICAgICAgRXZlbnRzTWFuYWdlci5vbihFdmVudHMuU09VTkRfRU5ERUQsIHRoaXMub25Tb3VuZEVuZGVkKTtcbiAgICAgICAgRXZlbnRzTWFuYWdlci5vbihFdmVudHMuUkVTVU1FX1ZKSU5HLCB0aGlzLm9uUmVzdW1lVmppbmcpO1xuICAgICAgICBFdmVudHNNYW5hZ2VyLm9uKEV2ZW50cy5QQVVTRV9WSklORywgdGhpcy5vblBhdXNlVmppbmcpO1xuXHRcdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCA6OnRoaXMucmVzaXplLCB0cnVlKTtcblx0fVxuXG4gICAgb25Tb3VuZEVuZGVkKCkge1xuICAgIFx0d2luZG93LnZqUGxheWluZyA9IGZhbHNlO1xuXG5cdFx0VHdlZW5NYXguZGVsYXllZENhbGwoMC42LCAoKSA9PiB7XG5cdFx0XHR0aGlzLnBhdXNlVmppbmcoKVxuXHRcdH0pO1xuICAgIH1cblxuXHRvbk1vdXNlRG93bigpIHtcblx0XHRpZiAod2luZG93LnZqUGxheWluZykgcmV0dXJuO1xuXG5cdFx0Ly8gRGlzcGxheSBzdXBlcnNoYXBlXG5cdFx0dGhpcy5zdXBlcnNoYXBlLmRpc3BsYXkoKTtcblxuXHRcdC8vIE1vdmUgY2FtZXJhc1xuXHRcdFR3ZWVuTWF4LnRvKFt3aW5kb3cuYXBwLmNhbWVyYS5wb3NpdGlvbiwgd2luZG93LmFwcC5jc3MzRENhbWVyYS5wb3NpdGlvbl0sIDAuNiwgeyB6OjE0MDAsIGVhc2U6UG93ZXIyLmVhc2VPdXQgfSk7XG5cblx0XHQvLyBIaWRlIGhlbHBlclxuXHRcdFR3ZWVuTWF4LnRvKFt0aGlzLiRoZWxwZXIsIHRoaXMuJGxvZ29dLCAwLjMsIHsgb3BhY2l0eTowLCBlYXNlOlBvd2VyMi5lYXNlT3V0IH0pO1xuXHR9XG5cblx0b25Nb3VzZVVwKCkge1xuXHRcdGlmICh3aW5kb3cudmpQbGF5aW5nKSByZXR1cm47XG5cdFx0d2luZG93LnZqUGxheWluZyA9IHRydWU7XG5cblx0XHQvLyBTZXQgd2hpdGUgbW9kZSBVSSBcbiAgICAgICAgdGhpcy4kdWkuY2xhc3NMaXN0LmFkZCgndWktLXdoaXRlJyk7XG5cbiAgLy8gICAgICAgLy8gVGltZWxpbmVcblx0XHQvLyBjb25zdCB0bCA9IG5ldyBUaW1lbGluZU1heCh7IG9uQ29tcGxldGU6KCkgPT4ge1xuXHRcdC8vIFx0U291bmRNYW5hZ2VyLnBsYXkoKTtcblx0XHQvLyB9fSk7XG5cdFx0Ly8gdGwudG8odGhpcy5iYWNrZ3JvdW5kLnNjYWxlLCAwLjYsIHsgeDp3aW5kb3cuaW5uZXJXaWR0aC80MDAsIHk6d2luZG93LmlubmVySGVpZ2h0LzQwMCwgZWFzZTpQb3dlcjIuZWFzZU91dCB9LCAwKTtcblx0XHQvLyB0bC50byhbd2luZG93LmFwcC5jYW1lcmEucG9zaXRpb24sIHdpbmRvdy5hcHAuY3NzM0RDYW1lcmEucG9zaXRpb25dLCAwLjYsIHsgejoxMjAwLCBlYXNlOlBvd2VyMi5lYXNlT3V0IH0sIDApO1xuXHRcdC8vIHRsLnRvKFt0aGlzLiRjcmVkaXRzLCB0aGlzLiRicmFuZCwgdGhpcy4kY3Jvc3Nlc10sIDAuMywgeyBvcGFjaXR5OjAsIGVhc2U6UG93ZXIyLmVhc2VPdXQgfSwgMCk7XG5cdFx0dGhpcy5wbGF5VmppbmcoKTtcblx0fVxuXG5cdG9uUGxheUVmZmVjdCh7IGRpc2FsbG93IH0pIHtcblx0XHQvLyBTcGxpdFxuXHRcdHRoaXMucG9zdEZYUGFzcy5zaGFkZXIudW5pZm9ybXMuZGl2aWRlLnZhbHVlID0gVXRpbHMucmFuZ2UoWzEsMSwyLDIsNF0pO1xuXG5cdFx0Ly8gTWlycm9yIFhcblx0XHR0aGlzLnBvc3RGWFBhc3Muc2hhZGVyLnVuaWZvcm1zLm1pcnJvclgudmFsdWUgPSBVdGlscy5sdWNreSgyKTtcblx0XHRcblx0XHQvLyBNaXJyb3IgWVxuXHRcdHRoaXMucG9zdEZYUGFzcy5zaGFkZXIudW5pZm9ybXMubWlycm9yWS52YWx1ZSA9IFV0aWxzLmx1Y2t5KDIpO1xuXHRcdFxuXHRcdC8vIE1vcnBoXG5cdFx0aWYgKHRoaXMucG9zdEZYUGFzcy5zaGFkZXIudW5pZm9ybXMuZGl2aWRlLnZhbHVlIDwgNCkge1xuXHRcdFx0dGhpcy5wb3N0RlhQYXNzLnNoYWRlci51bmlmb3Jtcy5tb3JwaC52YWx1ZSA9IFV0aWxzLmx1Y2t5KDIpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLnBvc3RGWFBhc3Muc2hhZGVyLnVuaWZvcm1zLm1vcnBoLnZhbHVlID0gMDtcblx0XHR9XG5cblx0XHQvLyBQYWxldHRlXG5cdFx0aWYgKCFkaXNhbGxvdykge1xuXHRcdFx0Y29uc3QgcGFsZXR0ZSA9IFV0aWxzLmdldFBhbGV0dGUoKTtcblx0XHRcdEV2ZW50c01hbmFnZXIuZW1pdChFdmVudHMuUEFMRVRURV9DSEFOR0UsIHBhbGV0dGUpO1xuXHRcdH1cblxuXHRcdC8vIFNjYWxlIGJhY2tncm91bmRcblx0XHR0aGlzLmJhY2tncm91bmQuc2NhbGUueCA9IHRoaXMuYmFja2dyb3VuZC5zY2FsZS55ID0gVXRpbHMucmFuZ2UoWzEsNl0pO1xuXG5cdFx0Ly8gTG9nb1xuXHRcdGlmICghZGlzYWxsb3cpIHtcblx0XHRcdHRoaXMuJGxvZ28uc3R5bGUub3BhY2l0eSA9IH5+KE1hdGgucmFuZG9tKCkgKiAyKTtcblx0XHR9XG5cblx0XHQvLyBDYW1lcmFcblx0XHRpZiAodGhpcy5iYWNrZ3JvdW5kLnNjYWxlLnggPiAxKSB7XG5cdFx0XHRUd2Vlbk1heC50byh3aW5kb3cuYXBwLmNhbWVyYS5wb3NpdGlvbiwgMC4xNSwgeyB6Ok1hdGgucmFuZG9tKCkgKiA1MDAgKyA2MDAsIGVhc2U6UG93ZXIyLmVhc2VPdXQgfSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdFR3ZWVuTWF4LnRvKHdpbmRvdy5hcHAuY2FtZXJhLnBvc2l0aW9uLCAwLjE1LCB7IHo6TWF0aC5yYW5kb20oKSAqIDUwMCArIDgwMCwgZWFzZTpQb3dlcjIuZWFzZU91dCB9KTtcblx0XHR9XG5cdH1cblxuXHRvblNwbGl0RWZmZWN0KHNwbGl0Q291bnQpIHtcblx0XHR0aGlzLnBvc3RGWFBhc3Muc2hhZGVyLnVuaWZvcm1zLmRpdmlkZS52YWx1ZSA9IHNwbGl0Q291bnQ7XG5cdFx0dGhpcy5wb3N0RlhQYXNzLnNoYWRlci51bmlmb3Jtcy5tb3JwaC52YWx1ZSA9IDE7XG5cdH1cblxuXHRvblJlc3VtZVZqaW5nKCkge1xuXHRcdHRoaXMucGxheVZqaW5nKGZhbHNlKTtcblx0fVxuXG5cdG9uUGF1c2VWamluZygpIHtcblx0XHR0aGlzLnBhdXNlVmppbmcoKTtcblx0fVxuXG5cdHBsYXlWamluZyhwbGF5U291bmQgPSB0cnVlKSB7XG5cdFx0Ly8gVGltZWxpbmVcblx0XHRjb25zdCB0bCA9IG5ldyBUaW1lbGluZU1heCh7IG9uQ29tcGxldGU6KCkgPT4ge1xuXHRcdFx0aWYgKHBsYXlTb3VuZCkgU291bmRNYW5hZ2VyLnBsYXkoKTtcblx0XHR9fSk7XG5cdFx0dGwudG8odGhpcy5iYWNrZ3JvdW5kLnNjYWxlLCAwLjYsIHsgeDp3aW5kb3cuaW5uZXJXaWR0aC80MDAsIHk6d2luZG93LmlubmVySGVpZ2h0LzQwMCwgZWFzZTpQb3dlcjIuZWFzZU91dCB9LCAwKTtcblx0XHR0bC50byhbd2luZG93LmFwcC5jYW1lcmEucG9zaXRpb24sIHdpbmRvdy5hcHAuY3NzM0RDYW1lcmEucG9zaXRpb25dLCAwLjYsIHsgejoxMjAwLCBlYXNlOlBvd2VyMi5lYXNlT3V0IH0sIDApO1xuXHRcdHRsLnRvKFt0aGlzLiRjcmVkaXRzLCB0aGlzLiRicmFuZCwgdGhpcy4kY3Jvc3Nlc10sIDAuMywgeyBvcGFjaXR5OjAsIGVhc2U6UG93ZXIyLmVhc2VPdXQgfSwgMCk7XG5cdH1cblxuXHRwYXVzZVZqaW5nKCkge1xuXHRcdC8vIFJlc2V0IHBvc3RGWFxuICAgIFx0dGhpcy5wb3N0RlhQYXNzLnNoYWRlci51bmlmb3Jtcy5kaXZpZGUudmFsdWUgPSAxO1xuXHRcdHRoaXMucG9zdEZYUGFzcy5zaGFkZXIudW5pZm9ybXMubWlycm9yWC52YWx1ZSA9IDA7XG5cdFx0dGhpcy5wb3N0RlhQYXNzLnNoYWRlci51bmlmb3Jtcy5taXJyb3JZLnZhbHVlID0gMDtcblx0XHR0aGlzLnBvc3RGWFBhc3Muc2hhZGVyLnVuaWZvcm1zLm1vcnBoLnZhbHVlID0gMDtcblxuXHRcdC8vIFNldCBiYWNrZ3JvdW5kIHNjYWxlIGZ1bGxzaXplXG5cdFx0dGhpcy5iYWNrZ3JvdW5kLnNjYWxlLnggPSB3aW5kb3cuaW5uZXJXaWR0aCAvIDQwMDtcblx0XHR0aGlzLmJhY2tncm91bmQuc2NhbGUueSA9IHdpbmRvdy5pbm5lckhlaWdodCAvIDQwMDtcblxuXHRcdC8vIERpc3BsYXkgbG9nb1xuXHRcdHRoaXMuJGxvZ28uc3R5bGUub3BhY2l0eSA9IDE7XG5cblx0XHQvLyBUaW1lbGluZVxuXHRcdGNvbnN0IHRsID0gbmV3IFRpbWVsaW5lTWF4KCk7XG5cdFx0dGwudG8od2luZG93LmFwcC5jYW1lcmEucG9zaXRpb24sIDAuNywgeyB6OjEyMDAsIGVhc2U6UG93ZXIyLmVhc2VPdXQgfSwgMCk7XG5cdFx0dGwudG8odGhpcy5iYWNrZ3JvdW5kLnNjYWxlLCAwLjcsIHsgeDoxLCB5OjEsIGVhc2U6UG93ZXIyLmVhc2VPdXQgfSwgMCk7XG5cdFx0dGwudG8odGhpcy5zdXBlcnNoYXBlLnNjYWxlLCAwLjcsIHsgeDowLjcsIHk6MC43LCB6OjAuNywgZWFzZTpQb3dlcjIuZWFzZU91dCB9LCAwKTtcblx0XHR0bC50byhbdGhpcy4kdWksIHRoaXMuJGNyb3NzZXMsIHRoaXMuJGJyYW5kLCB0aGlzLiRjcmVkaXRzLCB0aGlzLiRsb2dvXSwgMC43LCB7IG9wYWNpdHk6MSwgZWFzZTpQb3dlcjIuZWFzZU91dCB9KTtcblx0XHR0bC5hZGRDYWxsYmFjaygoKSA9PiB7XG5cdFx0XHQvLyBEaXNwbGF5IGNpcmNsZXNcblx0XHRcdHRoaXMuY2lyY2xlcy5kaXNwbGF5KCk7XG5cdFx0fSwgMC4zKTtcblx0fVxuXG5cdHJlbmRlcigpIHtcblx0XHQvLyBVcGRhdGVcblx0XHR0aGlzLnVwZGF0ZSgpO1xuXHRcdFxuXHRcdC8vIFJlbmRlclxuXHRcdHdpbmRvdy5hcHAuY3NzM0RSZW5kZXJlci5yZW5kZXIoIHdpbmRvdy5hcHAuY3NzM0RTY2VuZSwgd2luZG93LmFwcC5jc3MzRENhbWVyYSApO1xuXHRcdHdpbmRvdy5hcHAucmVuZGVyZXIuYXV0b0NsZWFyQ29sb3IgPSB0cnVlO1xuXHRcdHdpbmRvdy5hcHAuY29tcG9zZXIucmVzZXQoKTtcblx0XHR3aW5kb3cuYXBwLmNvbXBvc2VyLnJlbmRlciggd2luZG93LmFwcC5zY2VuZSwgd2luZG93LmFwcC5jYW1lcmEgKTtcblx0XHR3aW5kb3cuYXBwLmNvbXBvc2VyLnBhc3MoIHRoaXMucG9zdEZYUGFzcyApO1xuXHRcdHdpbmRvdy5hcHAuY29tcG9zZXIucGFzcyggdGhpcy5GWEFBUGFzcyApO1xuXHRcdHdpbmRvdy5hcHAuY29tcG9zZXIudG9TY3JlZW4oKTtcblx0fVxuXG5cdHVwZGF0ZSgpIHtcblx0XHQvLyBVcGRhdGUgc3VwZXJzaGFwZVxuXHRcdHRoaXMuc3VwZXJzaGFwZS51cGRhdGUodGhpcy50aW1lKTtcblxuXHRcdGNvbnN0IHJvdGF0aW9uWCA9IFV0aWxzLm1hcCh3aW5kb3cubW91c2UueSwgMCwgd2luZG93LmlubmVySGVpZ2h0LCAtMC4xLCAwLjEpO1xuXHRcdGNvbnN0IHJvdGF0aW9uWSA9IFV0aWxzLm1hcCh3aW5kb3cubW91c2UueCwgMCwgd2luZG93LmlubmVyV2lkdGgsIC0wLjEsIDAuMSk7XG5cblx0XHR0aGlzLnNtb290aFJvdGF0aW9uWCArPSAocm90YXRpb25YIC0gdGhpcy5zbW9vdGhSb3RhdGlvblgpICogMC4xO1xuXHRcdHRoaXMuc21vb3RoUm90YXRpb25ZICs9IChyb3RhdGlvblkgLSB0aGlzLnNtb290aFJvdGF0aW9uWSkgKiAwLjE7XG5cdFx0XG5cdFx0d2luZG93LmFwcC5zY2VuZS5yb3RhdGlvbi54ID0gdGhpcy5zbW9vdGhSb3RhdGlvblggKiAyO1xuXHRcdHdpbmRvdy5hcHAuc2NlbmUucm90YXRpb24ueSA9IHRoaXMuc21vb3RoUm90YXRpb25ZICogMjtcblx0XHR3aW5kb3cuYXBwLnNjZW5lLnBvc2l0aW9uLnggPSB0aGlzLnNtb290aFJvdGF0aW9uWCAqIDEwMDtcblx0XHR3aW5kb3cuYXBwLnNjZW5lLnBvc2l0aW9uLnkgPSB0aGlzLnNtb290aFJvdGF0aW9uWSAqIDEwMDtcblxuXHRcdHdpbmRvdy5hcHAuY3NzM0RTY2VuZS5yb3RhdGlvbi54ID0gdGhpcy5zbW9vdGhSb3RhdGlvblg7XG5cdFx0d2luZG93LmFwcC5jc3MzRFNjZW5lLnJvdGF0aW9uLnkgPSB0aGlzLnNtb290aFJvdGF0aW9uWTtcblx0XHR3aW5kb3cuYXBwLmNzczNEU2NlbmUucG9zaXRpb24ueCA9IHRoaXMuc21vb3RoUm90YXRpb25YICogNTA7XG5cdFx0d2luZG93LmFwcC5jc3MzRFNjZW5lLnBvc2l0aW9uLnkgPSB0aGlzLnNtb290aFJvdGF0aW9uWSAqIDUwO1xuXHR9XG5cblx0cmVzaXplKCkge1xuXHRcdHdpbmRvdy5hcHAucmVzaXplKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuXHR9XG59XG5cbm5ldyBNYWluKCk7IiwiLy8gRXZlbnRzXG5pbXBvcnQgRXZlbnRzTWFuYWdlciBmcm9tICcuLi9ldmVudHMvRXZlbnRzTWFuYWdlcic7XG5pbXBvcnQgRXZlbnRzIGZyb20gJy4uL2V2ZW50cy9FdmVudHMnO1xuXG4vKipcbiAqIE1PTk9HUklEIERFVlggWFBcbiAqXG4gKiBCYWNrZ3JvdW5kXG4gKi9cblxuY2xhc3MgQmFja2dyb3VuZCBleHRlbmRzIFRIUkVFLk9iamVjdDNEIHtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICBcbiAgICAgICAgLy8gQmluZGluZ3NcbiAgICAgICAgdGhpcy5vblBhbGV0dGVDaGFuZ2UgPSA6OnRoaXMub25QYWxldHRlQ2hhbmdlO1xuXG4gICAgICAgIC8vIEdlb21ldHJ5XG4gICAgICAgIHRoaXMuZ2VvbWV0cnkgPSBuZXcgVEhSRUUuUGxhbmVHZW9tZXRyeSg2MDAsIDYwMCk7XG5cbiAgICAgICAgLy8gTWF0ZXJpYWxcbiAgICAgICAgdGhpcy5tYXRlcmlhbCA9IG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7IGNvbG9yOjB4ZmYwMDAwIH0pO1xuXG4gICAgICAgIC8vIE1lc2hcbiAgICAgICAgdGhpcy5tZXNoID0gbmV3IFRIUkVFLk1lc2godGhpcy5nZW9tZXRyeSwgdGhpcy5tYXRlcmlhbCk7XG5cbiAgICAgICAgLy8gQWRkIHRvIHNjZW5lXG4gICAgICAgIHRoaXMuYWRkKHRoaXMubWVzaCk7XG5cbiAgICAgICAgRXZlbnRzTWFuYWdlci5vbihFdmVudHMuUEFMRVRURV9DSEFOR0UsIHRoaXMub25QYWxldHRlQ2hhbmdlKTtcbiAgICB9XG5cbiAgICBvblBhbGV0dGVDaGFuZ2UocGFsZXR0ZSkge1xuICAgICAgICB0aGlzLm1hdGVyaWFsLmNvbG9yLnNldChuZXcgVEhSRUUuQ29sb3IocGFsZXR0ZS5iYWNrZ3JvdW5kKSk7XG4gICAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IEJhY2tncm91bmQ7IiwiLy8gRXZlbnRzXG5pbXBvcnQgRXZlbnRzTWFuYWdlciBmcm9tICcuLi9ldmVudHMvRXZlbnRzTWFuYWdlcic7XG5pbXBvcnQgRXZlbnRzIGZyb20gJy4uL2V2ZW50cy9FdmVudHMnO1xuXG4vKipcbiAqIE1PTk9HUklEIERFVlggWFBcbiAqXG4gKiBDaXJjbGVzXG4gKi9cblxuY2xhc3MgQ2lyY2xlcyBleHRlbmRzIFRIUkVFLk9iamVjdDNEIHtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIC8vIEJpbmRpbmdzXG4gICAgICAgIHRoaXMub25Nb3VzZURvd24gPSA6OnRoaXMub25Nb3VzZURvd247XG5cbiAgICAgICAgdGhpcy5tYXRlcmlhbCA9IG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7IGNvbG9yOjB4ZGRkZGRkLCB0cmFuc3BhcmVudDp0cnVlIH0pO1xuICAgICAgICB0aGlzLm1lc2hlcyA9IFtdO1xuICAgICAgICBcbiAgICAgICAgZm9yIChsZXQgaT0wOyBpPDY7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgZ2VvbWV0cnkgPSBuZXcgVEhSRUUuUmluZ0dlb21ldHJ5KDIyMyArIDUwICogaSwgMjI1ICsgNTAgKiBpLCA2NCwgMSk7XG4gICAgICAgICAgICBjb25zdCBtZXNoID0gbmV3IFRIUkVFLk1lc2goZ2VvbWV0cnksIHRoaXMubWF0ZXJpYWwpO1xuICAgICAgICAgICAgbWVzaC5wb3NpdGlvbi56ID0gLSAoNiAtIGkpICogMTAgKiA0O1xuICAgICAgICAgICAgbWVzaC5pbml0aWFsRGVwdGggPSBtZXNoLnBvc2l0aW9uLno7XG4gICAgICAgICAgICB0aGlzLmFkZChtZXNoKTtcbiAgICAgICAgICAgIHRoaXMubWVzaGVzW2ldID0gbWVzaDtcbiAgICAgICAgfVxuXG4gICAgICAgIEV2ZW50c01hbmFnZXIub24oRXZlbnRzLk1PVVNFX0RPV04sIHRoaXMub25Nb3VzZURvd24pO1xuICAgIH1cblxuICAgIGRpc3BsYXkoKSB7XG4gICAgICAgIGNvbnN0IHRsID0gbmV3IFRpbWVsaW5lTWF4KCk7XG4gICAgICAgIGZvciAobGV0IGk9MDsgaTx0aGlzLm1lc2hlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGwuZnJvbVRvKHRoaXMubWVzaGVzW2ldLnNjYWxlLCAwLjYsIHsgeDowLjg4LCB5OjAuODggfSwgeyB4OjEsIHk6MSwgZWFzZTpQb3dlcjIuZWFzZU91dCwgfSwgaSAqIDAuMDYpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaGlkZSgpIHtcbiAgICAgICAgLy8gVHdlZW5NYXgudG8odGhpcy5tYXRlcmlhbCwgMC4zLCB7IG9wYWNpdHk6MCwgZWFzZTpQb3dlcjIuZWFzZU91dCB9KTtcbiAgICB9XG5cbiAgICBvbk1vdXNlRG93bigpIHtcbiAgICAgICAgY29uc3QgdGwgPSBuZXcgVGltZWxpbmVNYXgoKTtcbiAgICAgICAgZm9yIChsZXQgaT0wOyBpPHRoaXMubWVzaGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0bC50byh0aGlzLm1lc2hlc1tpXS5zY2FsZSwgMC42LCB7IHg6MS4xMiwgeToxLjEyLCBlYXNlOlBvd2VyMi5lYXNlT3V0LCB9LCBpICogMC4wNik7XG4gICAgICAgIH1cbiAgICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ2lyY2xlczsiLCJpbXBvcnQgRXZlbnRzTWFuYWdlciBmcm9tICcuLi9ldmVudHMvRXZlbnRzTWFuYWdlcic7XG5pbXBvcnQgRXZlbnRzIGZyb20gJy4uL2V2ZW50cy9FdmVudHMnO1xuXG5pbXBvcnQgU2hhcGVDb250cm9sbGVyIGZyb20gJy4uL2NvbnRyb2xsZXJzL1NoYXBlQ29udHJvbGxlcic7XG5cbmNvbnN0IGdsc2xpZnkgPSByZXF1aXJlKCdnbHNsaWZ5Jyk7XG5cbi8qKlxuICogTU9OT0dSSUQgREVWWCBYUFxuICpcbiAqIFN1cGVyc2hhcGVcbiAqL1xuXG5jbGFzcyBTdXBlcnNoYXBlIGV4dGVuZHMgVEhSRUUuT2JqZWN0M0Qge1xuICAgIFxuICAgIGNvbnN0cnVjdG9yKHJhZGl1cykge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIC8vIFByb3BzXG4gICAgICAgIHRoaXMucmFkaXVzID0gcmFkaXVzO1xuXG4gICAgICAgIC8vIEJpbmRpbmdzXG4gICAgICAgIHRoaXMub25QYWxldHRlQ2hhbmdlID0gOjp0aGlzLm9uUGFsZXR0ZUNoYW5nZTtcblxuICAgICAgICAvLyBHZW9tZXRyeVxuICAgICAgICB0aGlzLmdlb21ldHJ5ID0gbmV3IFRIUkVFLkdlb21ldHJ5KCk7XG5cbiAgICAgICAgY29uc3Qgc3RlcCA9IDAuMDU7XG4gICAgICAgIGNvbnN0IGwxID0gcGFyc2VJbnQoMiAqIE1hdGguUEkgLyBzdGVwICsgMS4zNDYyKTtcbiAgICAgICAgY29uc3QgbDIgPSBwYXJzZUludChNYXRoLlBJIC8gc3RlcCArIDEuNSk7XG5cbiAgICAgICAgLy8gQ2FsY3VsYXRlIHZlcnRpY2VzXG4gICAgICAgIGZvciAobGV0IGk9MDsgaTxsMTsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCB0aGV0YSA9IC1NYXRoLlBJICsgaSAqIHN0ZXA7XG4gICAgICAgICAgICBjb25zdCByMSA9IHRoaXMuc3VwZXJzaGFwZSh0aGV0YSwgMCwgMCwgMCwgMCwgMSwgMSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGZvciAobGV0IGo9MDsgajxsMjsgaisrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGhpID0gLU1hdGguUEkgLyAyICsgaiAqIHN0ZXA7XG4gICAgICAgICAgICAgICAgY29uc3QgcjIgPSB0aGlzLnN1cGVyc2hhcGUocGhpLCAwLCAwLCAwLCAwLCAxLCAxKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBjb25zdCB4ID0gcjEgKiBNYXRoLmNvcyh0aGV0YSkgKiByMiAqIE1hdGguY29zKHBoaSkgKiAzMDtcbiAgICAgICAgICAgICAgICBjb25zdCB5ID0gcjEgKiBNYXRoLnNpbih0aGV0YSkgKiByMiAqIE1hdGguY29zKHBoaSkgKiAzMDtcbiAgICAgICAgICAgICAgICBjb25zdCB6ID0gcjIgKiBNYXRoLnNpbihwaGkpICogMzA7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmdlb21ldHJ5LnZlcnRpY2VzLnB1c2gobmV3IFRIUkVFLlZlY3RvcjMoeCwgeSwgeikpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBDYWxjdWxhdGUgaW5kaWNlc1xuICAgICAgICBmb3IgKGxldCBpPTA7IGk8KGwxIC0gMSk7IGkrKykge1xuICAgICAgICAgICAgZm9yIChsZXQgaj0wOyBqPChsMiAtIDEpOyBqKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhID0gKGkgKyAxKSAqIGwyICsgajtcbiAgICAgICAgICAgICAgICBjb25zdCBiID0gKGkgKyAxKSAqIGwyICsgaiArIDE7XG4gICAgICAgICAgICAgICAgY29uc3QgYyA9IGkgKiBsMiArIGogKyAxO1xuICAgICAgICAgICAgICAgIGNvbnN0IGQgPSBpICogbDIgKyBqO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5nZW9tZXRyeS5mYWNlcy5wdXNoKG5ldyBUSFJFRS5GYWNlMyhhLCBiLCBkKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5nZW9tZXRyeS5mYWNlcy5wdXNoKG5ldyBUSFJFRS5GYWNlMyhiLCBjLCBkKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIENvbXB1dGUgbm9ybWFsc1xuICAgICAgICB0aGlzLmdlb21ldHJ5LmNvbXB1dGVGYWNlTm9ybWFscygpO1xuICAgICAgICB0aGlzLmdlb21ldHJ5LmNvbXB1dGVWZXJ0ZXhOb3JtYWxzKCk7XG5cbiAgICAgICAgLy8gTWF0ZXJpYWxcbiAgICAgICAgdGhpcy5tYXRlcmlhbCA9IG5ldyBUSFJFRS5TaGFkZXJNYXRlcmlhbCh7XG4gICAgICAgICAgICB2ZXJ0ZXhTaGFkZXIgOiBnbHNsaWZ5KCcuLi9zaGFkZXJzL2NlbC52ZXJ0Lmdsc2wnKSxcbiAgICAgICAgICAgIGZyYWdtZW50U2hhZGVyIDogZ2xzbGlmeSgnLi4vc2hhZGVycy9jZWwuZnJhZy5nbHNsJyksXG4gICAgICAgICAgICB1bmlmb3JtcyA6IHtcbiAgICAgICAgICAgICAgICB1X2RpZmZ1c2UgOiAgICAgeyB0eXBlOidjJywgdmFsdWU6bmV3IFRIUkVFLkNvbG9yKDB4MDBkMTczKSB9LFxuICAgICAgICAgICAgICAgIHVfbGlnaHQgOiAgICAgICB7IHR5cGU6J3YzJywgdmFsdWU6bmV3IFRIUkVFLlZlY3RvcjMoMC4yNSwgMC4yNSwgMSkgfSxcbiAgICAgICAgICAgICAgICB1X2FtYmllbnQgOiAgICAgeyB0eXBlOid2MycsIHZhbHVlOm5ldyBUSFJFRS5WZWN0b3IzKDAuMSwgMC4xLCAwLjEpIH0sXG4gICAgICAgICAgICAgICAgdV9zcGVjdWxhciA6ICAgIHsgdHlwZTondjMnLCB2YWx1ZTpuZXcgVEhSRUUuVmVjdG9yMygwLjUwLCAwLjUwLCAwLjUwKSB9LFxuICAgICAgICAgICAgICAgIHVfc2hpbmUgOiAgICAgICB7IHR5cGU6J2YnLCB2YWx1ZToxMDAwLjAgfSxcbiAgICAgICAgICAgICAgICB1X2NlbFNoYWRpbmcgOiAgeyB0eXBlOidmJywgdmFsdWU6MTAuMCB9LFxuXG4gICAgICAgICAgICAgICAgY29sb3IxIDogeyB0eXBlOidjJywgdmFsdWU6bmV3IFRIUkVFLkNvbG9yKDB4ZmZhZDMyKSB9LFxuICAgICAgICAgICAgICAgIGNvbG9yMiA6IHsgdHlwZTonYycsIHZhbHVlOm5ldyBUSFJFRS5Db2xvcigweDg1MTA3YSkgfSxcbiAgICAgICAgICAgICAgICBjb2xvcjMgOiB7IHR5cGU6J2MnLCB2YWx1ZTpuZXcgVEhSRUUuQ29sb3IoMHgxNjE2MTYpIH0sXG4gICAgICAgICAgICAgICAgY29sb3I0IDogeyB0eXBlOidjJywgdmFsdWU6bmV3IFRIUkVFLkNvbG9yKDB4ZmZmZjQ0KSB9LFxuICAgICAgICAgICAgICAgIGNvbG9yNSA6IHsgdHlwZTonYycsIHZhbHVlOm5ldyBUSFJFRS5Db2xvcigweGZmYWQzMikgfSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQmlnIG91dGxpbmVcbiAgICAgICAgdGhpcy5vdXRsaW5lTWF0ZXJpYWwgPSBuZXcgVEhSRUUuU2hhZGVyTWF0ZXJpYWwoe1xuICAgICAgICAgICAgdmVydGV4U2hhZGVyIDogZ2xzbGlmeSgnLi4vc2hhZGVycy9vdXRsaW5lLnZlcnQuZ2xzbCcpLFxuICAgICAgICAgICAgZnJhZ21lbnRTaGFkZXIgOiBnbHNsaWZ5KCcuLi9zaGFkZXJzL291dGxpbmUuZnJhZy5nbHNsJyksXG4gICAgICAgICAgICB1bmlmb3JtcyA6IHtcbiAgICAgICAgICAgICAgICB1X29mZnNldCA6ICAgICB7IHR5cGU6J2YnLCB2YWx1ZTo0LjIgfSxcbiAgICAgICAgICAgICAgICB1X2NvbG9yIDogICAgICAgeyB0eXBlOidjJywgdmFsdWU6bmV3IFRIUkVFLkNvbG9yKDB4MDAwMDAwKSB9LFxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5vdXRsaW5lTWF0ZXJpYWwuc2lkZSA9IFRIUkVFLkJhY2tTaWRlO1xuXG4gICAgICAgIC8vIFRoaW4gb3V0bGluZVxuICAgICAgICB0aGlzLnRoaW5PdXRsaW5lTWF0ZXJpYWwgPSBuZXcgVEhSRUUuU2hhZGVyTWF0ZXJpYWwoe1xuICAgICAgICAgICAgdmVydGV4U2hhZGVyIDogZ2xzbGlmeSgnLi4vc2hhZGVycy9vdXRsaW5lLnZlcnQuZ2xzbCcpLFxuICAgICAgICAgICAgZnJhZ21lbnRTaGFkZXIgOiBnbHNsaWZ5KCcuLi9zaGFkZXJzL291dGxpbmUuZnJhZy5nbHNsJyksXG4gICAgICAgICAgICB1bmlmb3JtcyA6IHtcbiAgICAgICAgICAgICAgICB1X29mZnNldCA6ICAgICB7IHR5cGU6J2YnLCB2YWx1ZToxIH0sXG4gICAgICAgICAgICAgICAgdV9jb2xvciA6ICAgICAgIHsgdHlwZTonYycsIHZhbHVlOm5ldyBUSFJFRS5Db2xvcigweDAwZmYwMCkgfSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudGhpbk91dGxpbmVNYXRlcmlhbC5zaWRlID0gVEhSRUUuQmFja1NpZGU7XG5cbiAgICAgICAgLy8gTWVzaGVzXG4gICAgICAgIHRoaXMuc2hhcGUgPSBuZXcgVEhSRUUuTWVzaCh0aGlzLmdlb21ldHJ5LCB0aGlzLm1hdGVyaWFsKTtcbiAgICAgICAgdGhpcy5vdXRsaW5lID0gbmV3IFRIUkVFLk1lc2godGhpcy5nZW9tZXRyeSwgdGhpcy5vdXRsaW5lTWF0ZXJpYWwpO1xuICAgICAgICB0aGlzLnRoaW5PdXRsaW5lID0gbmV3IFRIUkVFLk1lc2godGhpcy5nZW9tZXRyeSwgdGhpcy50aGluT3V0bGluZU1hdGVyaWFsKTtcbiAgICAgICAgXG4gICAgICAgIC8vIEFkZCB0byBzY2VuZVxuICAgICAgICB0aGlzLmFkZCh0aGlzLnNoYXBlKTtcbiAgICAgICAgdGhpcy5hZGQodGhpcy5vdXRsaW5lKTtcbiAgICAgICAgdGhpcy5hZGQodGhpcy50aGluT3V0bGluZSk7XG5cbiAgICAgICAgLy8gTGlzdGVuZXJzXG4gICAgICAgIEV2ZW50c01hbmFnZXIub24oRXZlbnRzLlBBTEVUVEVfQ0hBTkdFLCB0aGlzLm9uUGFsZXR0ZUNoYW5nZSk7XG4gICAgfVxuXG4gICAgZGlzcGxheSgpIHtcbiAgICAgICAgVHdlZW5NYXgudG8odGhpcy5zY2FsZSwgMC42LCB7IHg6MSwgeToxLCB6OjEsIGVhc2U6UG93ZXIyLmVhc2VPdXQgfSk7XG4gICAgfVxuXG4gICAgaGlkZSgpIHtcblxuICAgIH1cblxuICAgIGRyYXcoKSB7XG4gICAgICAgIGNvbnN0IHsgbTEsIG4xMSwgbjIxLCBuMzEsIG0yLCBuMTIsIG4yMiwgbjMyIH0gPSBTaGFwZUNvbnRyb2xsZXIuZ2V0KCk7XG4gICAgICAgIGNvbnN0IHN0ZXAgPSAwLjA1O1xuICAgICAgICBjb25zdCBsMSA9IHBhcnNlSW50KDIgKiBNYXRoLlBJIC8gc3RlcCArIDEuMzQ2Mik7XG4gICAgICAgIGNvbnN0IGwyID0gcGFyc2VJbnQoTWF0aC5QSSAvIHN0ZXAgKyAxLjUpO1xuICAgICAgICBsZXQgdkluZGV4ID0gMDtcblxuICAgICAgICAvLyBDYWxjdWxhdGUgdmVydGljZXNcbiAgICAgICAgZm9yIChsZXQgaT0wOyBpPGwxOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHRoZXRhID0gLU1hdGguUEkgKyBpICogc3RlcDtcbiAgICAgICAgICAgIGNvbnN0IHIxID0gdGhpcy5zdXBlcnNoYXBlKHRoZXRhLCBtMSwgbjExLCBuMjEsIG4zMSwgMSwgMSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGZvciAobGV0IGo9MDsgajxsMjsgaisrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGhpID0gLU1hdGguUEkgLyAyICsgaiAqIHN0ZXA7XG4gICAgICAgICAgICAgICAgY29uc3QgcjIgPSB0aGlzLnN1cGVyc2hhcGUocGhpLCBtMiwgbjEyLCBuMjIsIG4zMiwgMSwgMSk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgY29uc3QgeCA9IHIxICogTWF0aC5jb3ModGhldGEpICogcjIgKiBNYXRoLmNvcyhwaGkpICogdGhpcy5yYWRpdXM7XG4gICAgICAgICAgICAgICAgY29uc3QgeSA9IHIxICogTWF0aC5zaW4odGhldGEpICogcjIgKiBNYXRoLmNvcyhwaGkpICogdGhpcy5yYWRpdXM7XG4gICAgICAgICAgICAgICAgY29uc3QgeiA9IHIyICogTWF0aC5zaW4ocGhpKSAqIHRoaXMucmFkaXVzO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5nZW9tZXRyeS52ZXJ0aWNlc1t2SW5kZXhdLnNldCh4LCB5LCB6KTtcbiAgICAgICAgICAgICAgICB2SW5kZXgrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZ2VvbWV0cnkuY29tcHV0ZUZhY2VOb3JtYWxzKCk7XG4gICAgICAgIHRoaXMuZ2VvbWV0cnkuY29tcHV0ZVZlcnRleE5vcm1hbHMoKTtcbiAgICAgICAgdGhpcy5nZW9tZXRyeS52ZXJ0aWNlc05lZWRVcGRhdGUgPSB0cnVlO1xuICAgIH1cblxuICAgIG9uUGFsZXR0ZUNoYW5nZShwYWxldHRlKSB7XG4gICAgICAgIHRoaXMubWF0ZXJpYWwudW5pZm9ybXMuY29sb3IxLnZhbHVlID0gbmV3IFRIUkVFLkNvbG9yKHBhbGV0dGUuc2hhcGVbMF0pO1xuICAgICAgICB0aGlzLm1hdGVyaWFsLnVuaWZvcm1zLmNvbG9yMi52YWx1ZSA9IG5ldyBUSFJFRS5Db2xvcihwYWxldHRlLnNoYXBlWzFdKTtcbiAgICAgICAgdGhpcy5tYXRlcmlhbC51bmlmb3Jtcy5jb2xvcjMudmFsdWUgPSBuZXcgVEhSRUUuQ29sb3IocGFsZXR0ZS5zaGFwZVsyXSk7XG4gICAgICAgIHRoaXMubWF0ZXJpYWwudW5pZm9ybXMuY29sb3I0LnZhbHVlID0gbmV3IFRIUkVFLkNvbG9yKHBhbGV0dGUuc2hhcGVbM10pO1xuICAgICAgICB0aGlzLm1hdGVyaWFsLnVuaWZvcm1zLmNvbG9yNS52YWx1ZSA9IG5ldyBUSFJFRS5Db2xvcihwYWxldHRlLnNoYXBlWzRdKTtcblxuICAgICAgICB0aGlzLm91dGxpbmVNYXRlcmlhbC51bmlmb3Jtcy51X2NvbG9yLnZhbHVlID0gbmV3IFRIUkVFLkNvbG9yKHBhbGV0dGUub3V0bGluZSk7XG4gICAgICAgIHRoaXMudGhpbk91dGxpbmVNYXRlcmlhbC51bmlmb3Jtcy51X2NvbG9yLnZhbHVlID0gbmV3IFRIUkVFLkNvbG9yKHBhbGV0dGUudGhpbk91dGxpbmUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFN1cGVyIHNoYXBlIGZ1bmN0aW9uIFxcby9cbiAgICAgKlxuICAgICAqIEByZXR1cm4gcmFkaXVzXG4gICAgICovXG4gICAgc3VwZXJzaGFwZSh0aGV0YSwgbSwgbjEsIG4yLCBuMywgYSwgYikge1xuICAgICAgICBsZXQgdDEgPSBNYXRoLmFicygoMS4wIC8gYSkgKiBNYXRoLmNvcyhtICogdGhldGEgLyA0LjApKTtcbiAgICAgICAgdDEgPSBNYXRoLnBvdyh0MSwgbjIpO1xuICAgICAgICBcbiAgICAgICAgbGV0IHQyID0gTWF0aC5hYnMoKDEuMCAvIGIpICogTWF0aC5zaW4obSAqIHRoZXRhIC8gNC4wKSk7XG4gICAgICAgIHQyID0gTWF0aC5wb3codDIsIG4zKTtcbiAgICAgICAgXG4gICAgICAgIGxldCB0MyA9IHQxICsgdDI7XG4gICAgICAgIFxuICAgICAgICBsZXQgciA9IE1hdGgucG93KHQzLCAtIDEuMCAvIG4xKTtcblxuICAgICAgICByZXR1cm4gcjtcbiAgICB9XG5cbiAgICB1cGRhdGUoKSB7XG4gICAgICAgIC8vIFJvdGF0ZSBzaGFwZVxuICAgICAgICB0aGlzLnJvdGF0aW9uLnggKz0gMC4wMDE7XG4gICAgICAgIHRoaXMucm90YXRpb24ueSArPSAwLjAwNTtcbiAgICAgICAgdGhpcy5yb3RhdGlvbi56ICs9IDAuMDA4O1xuXG4gICAgICAgIC8vIFJlZHJhdyBzaGFwZSB3aXRoIG5ldyB2YWx1ZXNcbiAgICAgICAgaWYgKCF3aW5kb3cudmpQbGF5aW5nKSB7XG4gICAgICAgICAgICB0aGlzLmRyYXcoKTtcbiAgICAgICAgfVxuICAgIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBTdXBlcnNoYXBlOyIsIm1vZHVsZS5leHBvcnRzPVtbXCIjNjlEMkU3XCIsXCIjQTdEQkQ4XCIsXCIjRTBFNENDXCIsXCIjRjM4NjMwXCIsXCIjRkE2OTAwXCJdLCBbXCIjRkU0MzY1XCIsXCIjRkM5RDlBXCIsXCIjRjlDREFEXCIsXCIjQzhDOEE5XCIsXCIjODNBRjlCXCJdLCBbXCIjRUZFRUNDXCIsXCIjRkU4QjA1XCIsXCIjRkUwNTU3XCIsXCIjNDAwNDAzXCIsXCIjMEFBQkJBXCJdLCBbXCIjQUFGRjAwXCIsXCIjRkZBQTAwXCIsXCIjRkYwMEFBXCIsXCIjQUEwMEZGXCIsXCIjMDBBQUZGXCJdLCBbXCIjRUNEMDc4XCIsXCIjRDk1QjQzXCIsXCIjQzAyOTQyXCIsXCIjNTQyNDM3XCIsXCIjNTM3NzdBXCJdLCBbXCIjRThERENCXCIsXCIjQ0RCMzgwXCIsXCIjMDM2NTY0XCIsXCIjMDMzNjQ5XCIsXCIjMDMxNjM0XCJdLCBbXCIjNDkwQTNEXCIsXCIjQkQxNTUwXCIsXCIjRTk3RjAyXCIsXCIjRjhDQTAwXCIsXCIjOEE5QjBGXCJdLCBbXCIjNTk0RjRGXCIsXCIjNTQ3OTgwXCIsXCIjNDVBREE4XCIsXCIjOURFMEFEXCIsXCIjRTVGQ0MyXCJdLCBbXCIjMDBBMEIwXCIsXCIjNkE0QTNDXCIsXCIjQ0MzMzNGXCIsXCIjRUI2ODQxXCIsXCIjRURDOTUxXCJdLCBbXCIjRTk0RTc3XCIsXCIjRDY4MTg5XCIsXCIjQzZBNDlBXCIsXCIjQzZFNUQ5XCIsXCIjRjRFQUQ1XCJdLCBbXCIjRDlDRUIyXCIsXCIjOTQ4Qzc1XCIsXCIjRDVERUQ5XCIsXCIjN0E2QTUzXCIsXCIjOTlCMkI3XCJdLCBbXCIjRUZGRkNEXCIsXCIjRENFOUJFXCIsXCIjNTU1MTUyXCIsXCIjMkUyNjMzXCIsXCIjOTkxNzNDXCJdLCBbXCIjM0ZCOEFGXCIsXCIjN0ZDN0FGXCIsXCIjREFEOEE3XCIsXCIjRkY5RTlEXCIsXCIjRkYzRDdGXCJdLCBbXCIjNDEzRTRBXCIsXCIjNzM2MjZFXCIsXCIjQjM4MTg0XCIsXCIjRjBCNDlFXCIsXCIjRjdFNEJFXCJdLCBbXCIjOTlCODk4XCIsXCIjRkVDRUE4XCIsXCIjRkY4NDdDXCIsXCIjRTg0QTVGXCIsXCIjMkEzNjNCXCJdLCBbXCIjRkY0RTUwXCIsXCIjRkM5MTNBXCIsXCIjRjlENDIzXCIsXCIjRURFNTc0XCIsXCIjRTFGNUM0XCJdLCBbXCIjMzUxMzMwXCIsXCIjNDI0MjU0XCIsXCIjNjQ5MDhBXCIsXCIjRThDQUE0XCIsXCIjQ0MyQTQxXCJdLCBbXCIjNjU1NjQzXCIsXCIjODBCQ0EzXCIsXCIjRjZGN0JEXCIsXCIjRTZBQzI3XCIsXCIjQkY0RDI4XCJdLCBbXCIjRkFEMDg5XCIsXCIjRkY5QzVCXCIsXCIjRjU2MzRBXCIsXCIjRUQzMDNDXCIsXCIjM0I4MTgzXCJdLCBbXCIjRkY5OTAwXCIsXCIjNDI0MjQyXCIsXCIjRTlFOUU5XCIsXCIjQkNCQ0JDXCIsXCIjMzI5OUJCXCJdLCBbXCIjRUVFNkFCXCIsXCIjQzVCQzhFXCIsXCIjNjk2NzU4XCIsXCIjNDU0ODRCXCIsXCIjMzYzOTNCXCJdLCBbXCIjRjhCMTk1XCIsXCIjRjY3MjgwXCIsXCIjQzA2Qzg0XCIsXCIjNkM1QjdCXCIsXCIjMzU1QzdEXCJdLFxuW1wiI0YwNDE1NVwiLFwiI0ZGODIzQVwiLFwiI0YyRjI2RlwiLFwiI0ZGRjdCRFwiLFwiIzk1Q0ZCN1wiXSwgW1wiI0YwRDhBOFwiLFwiIzNEMUMwMFwiLFwiIzg2QjhCMVwiLFwiI0YyRDY5NFwiLFwiI0ZBMkEwMFwiXSwgW1wiI0U4RDVCN1wiLFwiIzBFMjQzMFwiLFwiI0ZDM0E1MVwiLFwiI0Y1QjM0OVwiLFwiI0U4RDVCOVwiXSwgW1wiI0FCNTI2QlwiLFwiI0JDQTI5N1wiLFwiI0M1Q0VBRVwiLFwiI0YwRTJBNFwiLFwiI0Y0RUJDM1wiXSwgW1wiIzYwNzg0OFwiLFwiIzc4OTA0OFwiLFwiI0MwRDg2MFwiLFwiI0YwRjBEOFwiLFwiIzYwNDg0OFwiXSwgW1wiIzFDMjEzMFwiLFwiIzAyOEY3NlwiLFwiI0IzRTA5OVwiLFwiI0ZGRUFBRFwiLFwiI0QxNDMzNFwiXSwgW1wiI0E4RTZDRVwiLFwiI0RDRURDMlwiLFwiI0ZGRDNCNVwiLFwiI0ZGQUFBNlwiLFwiI0ZGOEM5NFwiXSwgW1wiI0ZDMzU0Q1wiLFwiIzI5MjIxRlwiLFwiIzEzNzQ3RFwiLFwiIzBBQkZCQ1wiLFwiI0ZDRjdDNVwiXSwgW1wiI0I5RDNCMFwiLFwiIzgxQkRBNFwiLFwiI0IyODc3NFwiLFwiI0Y4OEY3OVwiLFwiI0Y2QUE5M1wiXSwgW1wiIzIzMEYyQlwiLFwiI0YyMUQ0MVwiLFwiI0VCRUJCQ1wiLFwiI0JDRTNDNVwiLFwiIzgyQjNBRVwiXSwgW1wiIzRFMzk1RFwiLFwiIzgyNzA4NVwiLFwiIzhFQkU5NFwiLFwiI0NDRkM4RVwiLFwiI0RDNUIzRVwiXSwgW1wiI0RBRDZDQVwiLFwiIzFCQjBDRVwiLFwiIzRGODY5OVwiLFwiIzZBNUU3MlwiLFwiIzU2MzQ0NFwiXSwgW1wiI0QxMzEzRFwiLFwiI0U1NjI1Q1wiLFwiI0Y5QkY3NlwiLFwiIzhFQjJDNVwiLFwiIzYxNTM3NVwiXSwgW1wiIzhEQ0NBRFwiLFwiIzk4ODg2NFwiLFwiI0ZFQTZBMlwiLFwiI0Y5RDZBQ1wiLFwiI0ZGRTlBRlwiXSwgW1wiI0NGRkZERFwiLFwiI0I0REVDMVwiLFwiIzVDNTg2M1wiLFwiI0E4NTE2M1wiLFwiI0ZGMUY0Q1wiXSwgW1wiIzM4MkYzMlwiLFwiI0ZGRUFGMlwiLFwiI0ZDRDlFNVwiLFwiI0ZCQzVEOFwiLFwiI0YxMzk2RFwiXSwgW1wiI0I2RDhDMFwiLFwiI0M4RDlCRlwiLFwiI0RBREFCRFwiLFwiI0VDREJCQ1wiLFwiI0ZFRENCQVwiXSwgW1wiI0E3QzVCRFwiLFwiI0U1RERDQlwiLFwiI0VCN0I1OVwiLFwiI0NGNDY0N1wiLFwiIzUyNDY1NlwiXSwgW1wiI0ZGRURCRlwiLFwiI0Y3ODAzQ1wiLFwiI0Y1NDgyOFwiLFwiIzJFMEQyM1wiLFwiI0Y4RTRDMVwiXSwgW1wiI0MxQjM5OFwiLFwiIzYwNTk1MVwiLFwiI0ZCRUVDMlwiLFwiIzYxQTZBQlwiLFwiI0FDQ0VDMFwiXSwgW1wiI0ZGRkJCN1wiLFwiI0E2RjZBRlwiLFwiIzY2QjZBQlwiLFwiIzVCN0M4RFwiLFwiIzRGMjk1OFwiXSwgW1wiI0VGRjNDRFwiLFwiI0IyRDVCQVwiLFwiIzYxQURBMFwiLFwiIzI0OEY4RFwiLFwiIzYwNTA2M1wiXSwgW1wiI0ZDRkVGNVwiLFwiI0U5RkZFMVwiLFwiI0NEQ0ZCN1wiLFwiI0Q2RTZDM1wiLFwiI0ZBRkJFM1wiXSwgW1wiIzBDQTVCMFwiLFwiIzRFM0YzMFwiLFwiI0ZFRkVFQlwiLFwiI0Y4RjRFNFwiLFwiI0E1QjNBQVwiXSwgW1wiI0ZGRTE4MVwiLFwiI0VFRTlFNVwiLFwiI0ZBRDNCMlwiLFwiI0ZGQkE3RlwiLFwiI0ZGOUM5N1wiXSwgW1wiI0E3MDI2N1wiLFwiI0YxMEM0OVwiLFwiI0ZCNkI0MVwiLFwiI0Y2RDg2QlwiLFwiIzMzOTE5NFwiXSwgW1wiIzJEMkQyOVwiLFwiIzIxNUE2RFwiLFwiIzNDQTJBMlwiLFwiIzkyQzdBM1wiLFwiI0RGRUNFNlwiXSwgW1wiI0YzOEE4QVwiLFwiIzU1NDQzRFwiLFwiI0EwQ0FCNVwiLFwiI0NERTlDQVwiLFwiI0YxRUREMFwiXSwgW1wiI0Y4RUREMVwiLFwiI0Q4OEE4QVwiLFwiIzQ3NDg0M1wiLFwiIzlEOUQ5M1wiLFwiI0M1Q0ZDNlwiXSwgW1wiIzFCMzI1RlwiLFwiIzlDQzRFNFwiLFwiI0U5RjJGOVwiLFwiIzNBODlDOVwiLFwiI0YyNkM0RlwiXSwgW1wiI0JFRDZDN1wiLFwiI0FEQzBCNFwiLFwiIzhBN0U2NlwiLFwiI0E3OUI4M1wiLFwiI0JCQjJBMVwiXSwgW1wiIzgyODM3RVwiLFwiIzk0QjA1M1wiLFwiI0JERUIwN1wiLFwiI0JGRkEzN1wiLFwiI0UwRTBFMFwiXSwgW1wiIzMxMjczNlwiLFwiI0Q0ODM4RlwiLFwiI0Q2QUJCMVwiLFwiI0Q5RDlEOVwiLFwiI0M0RkZFQlwiXSwgW1wiI0U1RUFBNFwiLFwiI0E4QzRBMlwiLFwiIzY5QTVBNFwiLFwiIzYxNjM4MlwiLFwiIzY2MjQ1QlwiXSwgW1wiIzM5NUE0RlwiLFwiIzQzMjMzMFwiLFwiIzg1M0M0M1wiLFwiI0YyNUM1RVwiLFwiI0ZGQTU2NlwiXSwgW1wiI0ZERkZEOVwiLFwiI0ZGRjBCOFwiLFwiI0ZGRDZBM1wiLFwiI0ZBQUQ4RVwiLFwiIzE0MkYzMFwiXSwgW1wiI0ZCQzU5OVwiLFwiI0NEQkI5M1wiLFwiIzlFQUU4QVwiLFwiIzMzNTY1MFwiLFwiI0YzNUY1NVwiXSwgW1wiI0M3RkNEN1wiLFwiI0Q5RDVBN1wiLFwiI0Q5QUI5MVwiLFwiI0U2ODY3QVwiLFwiI0VENEE2QVwiXSwgW1wiI0ZGRUZEM1wiLFwiI0ZGRkVFNFwiLFwiI0QwRUNFQVwiLFwiIzlGRDZEMlwiLFwiIzhCN0E1RVwiXSwgW1wiI0YxMzk2RFwiLFwiI0ZENjA4MVwiLFwiI0YzRkZFQlwiLFwiI0FDQzk1RlwiLFwiIzhGOTkyNFwiXSwgW1wiI0YyRTNDNlwiLFwiI0ZGQzZBNVwiLFwiI0U2MzI0QlwiLFwiIzJCMkIyQlwiLFwiIzM1MzYzNFwiXSwgW1wiIzU5QjM5MFwiLFwiI0YwRERBQVwiLFwiI0U0N0M1RFwiLFwiI0UzMkQ0MFwiLFwiIzE1MkIzQ1wiXSwgW1wiIzUxMkI1MlwiLFwiIzYzNTI3NFwiLFwiIzdCQjBBOFwiLFwiI0E3REJBQlwiLFwiI0U0RjVCMVwiXSwgW1wiI0U2NTU0MFwiLFwiI0Y4RUNDMlwiLFwiIzY1QThBNlwiLFwiIzc5ODk2RFwiLFwiI0ZGRkZGRlwiXSwgW1wiI0NBRkY0MlwiLFwiI0VCRjdGOFwiLFwiI0QwRTBFQlwiLFwiIzg4QUJDMlwiLFwiIzQ5NzA4QVwiXSwgW1wiI0U0REVEMFwiLFwiI0FCQ0NCRFwiLFwiIzdEQkVCOFwiLFwiIzE4MTYxOVwiLFwiI0UzMkYyMVwiXSwgW1wiIzA1ODc4OVwiLFwiIzUwM0QyRVwiLFwiI0Q1NEIxQVwiLFwiI0UzQTcyRlwiLFwiI0YwRUNDOVwiXSwgW1wiI0VGRDlCNFwiLFwiI0Q2QTY5MlwiLFwiI0EzOTA4MVwiLFwiIzRENjE2MFwiLFwiIzI5MjUyMlwiXSwgW1wiI0NDNUQ0Q1wiLFwiI0ZGRkVDNlwiLFwiI0M3RDFBRlwiLFwiIzk2QjQ5Q1wiLFwiIzVCNTg0N1wiXSwgW1wiI0UwRUZGMVwiLFwiIzdEQjRCNVwiLFwiI0ZGRkZGRlwiLFwiIzY4MDE0OFwiLFwiIzAwMDAwMFwiXSwgW1wiIzJEMUIzM1wiLFwiI0YzNkE3MVwiLFwiI0VFODg3QVwiLFwiI0U0RTM5MVwiLFwiIzlBQkM4QVwiXSwgW1wiIzM2MDc0NVwiLFwiI0Q2MUM1OVwiLFwiI0U3RDg0QlwiLFwiI0VGRUFDNVwiLFwiIzFCODc5OFwiXSwgW1wiI0UzRThDRFwiLFwiI0JDRDhCRlwiLFwiI0QzQjlBM1wiLFwiI0VFOUM5MlwiLFwiI0ZFODU3RVwiXSwgW1wiI0ZDMjg0RlwiLFwiI0ZGODI0QVwiLFwiI0ZFQTg4N1wiLFwiI0Y2RTdGN1wiLFwiI0QxRDBEN1wiXSwgW1wiI0ZGQjg4NFwiLFwiI0Y1REY5OFwiLFwiI0ZGRjhENFwiLFwiI0MwRDFDMlwiLFwiIzJFNDM0N1wiXSwgW1wiIzgwQThBOFwiLFwiIzkwOUQ5RVwiLFwiI0E4OEM4Q1wiLFwiI0ZGMEQ1MVwiLFwiIzdBOEM4OVwiXSwgW1wiI0ExREJCMlwiLFwiI0ZFRTVBRFwiLFwiI0ZBQ0E2NlwiLFwiI0Y3QTU0MVwiLFwiI0Y0NUQ0Q1wiXSwgW1wiIzY0MUY1RVwiLFwiIzY3NjA3N1wiLFwiIzY1QUM5MlwiLFwiI0MyQzA5MlwiLFwiI0VERDQ4RVwiXSwgW1wiI0ZGRjNEQlwiLFwiI0U3RTRENVwiLFwiI0QzQzhCNFwiLFwiI0M4NDY0OFwiLFwiIzcwM0UzQlwiXSwgW1wiI0Q0RjdEQ1wiLFwiI0RCRTdCNFwiLFwiI0RCQzA5MlwiLFwiI0UwODQ2RFwiLFwiI0Y1MTQ0MVwiXSwgW1wiIzg1ODQ3RVwiLFwiI0FCNkE2RVwiLFwiI0Y3MzQ1QlwiLFwiIzM1MzEzMFwiLFwiI0NCQ0ZCNFwiXSwgW1wiI0U2QjM5QVwiLFwiI0U2Q0JBNVwiLFwiI0VERTNCNFwiLFwiIzhCOUU5QlwiLFwiIzZENzU3OFwiXSwgW1wiIzIzMTkyRFwiLFwiI0ZEMEE1NFwiLFwiI0Y1NzU3NlwiLFwiI0ZFQkY5N1wiLFwiI0Y1RUNCN1wiXSwgW1wiIzQ1MkUzQ1wiLFwiI0ZGM0Q1QVwiLFwiI0ZGQjk2OVwiLFwiI0VBRjI3RVwiLFwiIzNCOEM4OFwiXSwgW1wiIzA0MTEyMlwiLFwiIzI1OTA3M1wiLFwiIzdGREE4OVwiLFwiI0M4RTk4RVwiLFwiI0U2Rjk5RFwiXSwgW1wiI0IxRTZEMVwiLFwiIzc3QjFBOVwiLFwiIzNEN0I4MFwiLFwiIzI3MEEzM1wiLFwiIzQ1MUEzRVwiXSwgW1wiIzlEOUU5NFwiLFwiI0M5OUU5M1wiLFwiI0Y1OUQ5MlwiLFwiI0U1QjhBRFwiLFwiI0Q1RDJDOFwiXSwgW1wiI0ZEQ0ZCRlwiLFwiI0ZFQjg5RlwiLFwiI0UyM0Q3NVwiLFwiIzVGMEQzQlwiLFwiIzc0MjM2NVwiXSwgW1wiI0I3Q0JCRlwiLFwiIzhDODg2RlwiLFwiI0Y5QTc5OVwiLFwiI0Y0QkZBRFwiLFwiI0Y1REFCRFwiXSwgW1wiI0YwRkZDOVwiLFwiI0E5REE4OFwiLFwiIzYyOTk3QVwiLFwiIzcyMjQzRFwiLFwiIzNCMDgxOVwiXSwgW1wiIzQyOTM5OFwiLFwiIzZCNUQ0RFwiLFwiI0IwQTE4RlwiLFwiI0RGQ0RCNFwiLFwiI0ZCRUVEM1wiXSwgW1wiI0U2RUJBOVwiLFwiI0FCQkI5RlwiLFwiIzZGOEI5NFwiLFwiIzcwNjQ4MlwiLFwiIzcwM0Q2RlwiXSwgW1wiIzQ0NzQ5RFwiLFwiI0M2RDRFMVwiLFwiI0ZGRkZGRlwiLFwiI0VCRTdFMFwiLFwiI0JEQjhBRFwiXSwgW1wiI0ZBNkE2NFwiLFwiIzdBNEU0OFwiLFwiIzRBNDAzMVwiLFwiI0Y2RTJCQlwiLFwiIzlFQzZCOFwiXSwgW1wiI0Y2RDc2QlwiLFwiI0ZGOTAzNlwiLFwiI0Q2MjU0RFwiLFwiI0ZGNTQ3NVwiLFwiI0ZERUJBOVwiXSwgW1wiI0U3RURFQVwiLFwiI0ZGQzUyQ1wiLFwiI0ZCMEMwNlwiLFwiIzAzMEQ0RlwiLFwiI0NFRUNFRlwiXSwgW1wiIzhENzk2NlwiLFwiI0E4QTM5RFwiLFwiI0Q4QzhCOFwiLFwiI0UyREREOVwiLFwiI0Y4RjFFOVwiXSwgW1wiI0YyRThDNFwiLFwiIzk4RDlCNlwiLFwiIzNFQzlBN1wiLFwiIzJCODc5RVwiLFwiIzYxNjY2OFwiXSwgW1wiIzVDQUNDNFwiLFwiIzhDRDE5RFwiLFwiI0NFRTg3OVwiLFwiI0ZDQjY1M1wiLFwiI0ZGNTI1NFwiXV0iLCIvKipcbiAqIE1PTk9HUklEIERFVlggWFBcbiAqXG4gKiBjb2xvclBhbGV0dGVzXG4gKi9cblxuY29uc3QgY29sb3JQYWxldHRlcyA9IFtcbiAgICB7XG4gICAgICAgIGJhY2tncm91bmQgOiAweDE2MTYxNixcbiAgICAgICAgb3V0bGluZSA6IDB4MDAwMDAwLFxuICAgICAgICB0aGluT3V0bGluZSA6IDB4ZmYzODMxLFxuICAgICAgICBzaGFwZSA6IFsweGZmMzgzMSwgMHhmZWUxMTcsIDB4MTZhMDQxLCAweDAyM2Q2NSwgMHgxNjE2MTZdXG4gICAgfSx7XG4gICAgICAgIGJhY2tncm91bmQgOiAweGFmMTM1OSxcbiAgICAgICAgb3V0bGluZSA6IDB4MTYxNjE2LFxuICAgICAgICB0aGluT3V0bGluZSA6IDB4ZmYwZTE0LFxuICAgICAgICBzaGFwZSA6IFsweGZmYWQzMiwgMHg4NTEwN2EsIDB4MTYxNjE2LCAweGZmZmY0NCwgMHhmZmFkMzJdXG4gICAgfSx7XG4gICAgICAgIGJhY2tncm91bmQgOiAweDEyMTQzZCxcbiAgICAgICAgb3V0bGluZSA6IDB4MTYxNjE2LFxuICAgICAgICB0aGluT3V0bGluZSA6IDB4OGIyN2M0LFxuICAgICAgICBzaGFwZSA6IFsweGZmYWQzMiwgMHhmZmY5YzAsIDB4MTYxNjE2LCAweDFhZmFjNiwgMHgwZDFlNzFdXG4gICAgfVxuXTtcblxuZXhwb3J0IGRlZmF1bHQgY29sb3JQYWxldHRlczsiLCJpbXBvcnQgRXZlbnRzTWFuYWdlciBmcm9tICcuLi9ldmVudHMvRXZlbnRzTWFuYWdlcic7XG5pbXBvcnQgRXZlbnRzIGZyb20gJy4uL2V2ZW50cy9FdmVudHMnO1xuXG5pbXBvcnQgVXRpbHMgZnJvbSAnLi4vdXRpbC9VdGlscyc7XG5cbmltcG9ydCBjb2xvcnNQYWxldHRlIGZyb20gJy4uL2NvbG9ycy9jb2xvcnNQYWxldHRlJztcblxuY2xhc3MgRWZmZWN0Q29udHJvbGxlciB7XG5cblx0Y29uc3RydWN0b3IoKSB7XG5cdFx0Ly8gQmluZGluZ3Ncblx0XHR0aGlzLm9uS2V5cHJlc3MgPSA6OnRoaXMub25LZXlwcmVzcztcblxuXHRcdC8vIFByb3BlcnRpZXNcblx0XHR0aGlzLnBhbGV0dGVJbmRleCA9IDA7XG5cblx0XHQvLyBFdmVudHNcblx0XHRFdmVudHNNYW5hZ2VyLm9uKEV2ZW50cy5LRVlQUkVTUywgdGhpcy5vbktleXByZXNzKTtcblx0fVxuXG5cdHN0YXRpYyBzdGFydCgpIHtcblx0XHRpZiAoIUVmZmVjdENvbnRyb2xsZXIuaW5zdGFuY2UpIEVmZmVjdENvbnRyb2xsZXIuaW5zdGFuY2UgPSBuZXcgRWZmZWN0Q29udHJvbGxlcigpO1xuXHR9XG5cblx0b25LZXlwcmVzcyhrZXkpIHtcblx0XHRzd2l0Y2ggKGtleSkge1xuXHRcdFx0Y2FzZSAncSc6XG5cdFx0XHRcdEV2ZW50c01hbmFnZXIuZW1pdChFdmVudHMuU1BMSVRfRUZGRUNULCAxKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcblx0XHRcdGNhc2UgJ3cnOlxuXHRcdFx0XHRFdmVudHNNYW5hZ2VyLmVtaXQoRXZlbnRzLlNQTElUX0VGRkVDVCwgMik7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcblx0XHRcdGNhc2UgJ2UnOlxuXHRcdFx0XHRFdmVudHNNYW5hZ2VyLmVtaXQoRXZlbnRzLlNQTElUX0VGRkVDVCwgNCk7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlICdyJzpcblx0XHRcdFx0Y29uc3QgcGFsZXR0ZSA9IFV0aWxzLmdldFBhbGV0dGUoKTtcblx0XHRcdFx0RXZlbnRzTWFuYWdlci5lbWl0KEV2ZW50cy5QQUxFVFRFX0NIQU5HRSwgcGFsZXR0ZSk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0XG5cdFx0XHRjYXNlICd0Jzpcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcblx0XHRcdGNhc2UgJ3knOlxuXHRcdFx0XHRicmVhaztcblx0XHR9XG5cdH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBFZmZlY3RDb250cm9sbGVyOyIsImltcG9ydCBFdmVudHNNYW5hZ2VyIGZyb20gJy4uL2V2ZW50cy9FdmVudHNNYW5hZ2VyJztcbmltcG9ydCBFdmVudHMgZnJvbSAnLi4vZXZlbnRzL0V2ZW50cyc7XG5cbi8qKlxuICogS2V5Ym9hcmQgQ29udHJvbGxlclxuICovXG5cbmNsYXNzIEtleWJvYXJkQ29udHJvbGxlciB7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgLy8gQmluZGluZ3NcbiAgICAgICAgdGhpcy5vbktleXByZXNzID0gOjp0aGlzLm9uS2V5cHJlc3M7XG5cbiAgICAgICAgLy8gQ2hhcmFjdGVyc1xuICAgICAgICB0aGlzLmtleXMgPSB7XG4gICAgICAgICAgICAxMTMgOiAncScsXG4gICAgICAgICAgICAxMTkgOiAndycsXG4gICAgICAgICAgICAxMDEgOiAnZScsXG4gICAgICAgICAgICAxMTQgOiAncicsXG4gICAgICAgICAgICAxMTYgOiAndCcsXG4gICAgICAgICAgICAxMjEgOiAneScsXG4gICAgICAgICAgICAzMiAgOiAnc3BhY2ViYXInLFxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIEV2ZW50c1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5cHJlc3MnLCB0aGlzLm9uS2V5cHJlc3MpO1xuICAgIH1cblxuICAgIHN0YXRpYyBzdGFydCgpIHtcbiAgICAgICAgaWYgKCFLZXlib2FyZENvbnRyb2xsZXIuaW5zdGFuY2UpIEtleWJvYXJkQ29udHJvbGxlci5pbnN0YW5jZSA9IG5ldyBLZXlib2FyZENvbnRyb2xsZXIoKTtcbiAgICB9XG5cbiAgICBvbktleXByZXNzKGUpIHtcbiAgICAgICAgRXZlbnRzTWFuYWdlci5lbWl0KEV2ZW50cy5LRVlQUkVTUywgdGhpcy5rZXlzW2Uua2V5Q29kZV0pO1xuICAgIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBLZXlib2FyZENvbnRyb2xsZXI7IiwiaW1wb3J0IFJhZk1hbmFnZXIgZnJvbSAnLi4vbWFuYWdlcnMvUmFmTWFuYWdlcic7XG5cbmltcG9ydCBFdmVudHNNYW5hZ2VyIGZyb20gJy4uL2V2ZW50cy9FdmVudHNNYW5hZ2VyJztcbmltcG9ydCBFdmVudHMgZnJvbSAnLi4vZXZlbnRzL0V2ZW50cyc7XG5cbmltcG9ydCBTaW1wbGUxRE5vaXNlIGZyb20gJy4uL3V0aWwvU2ltcGxlMUROb2lzZSc7XG5jb25zdCBub2lzZSA9IG5ldyBTaW1wbGUxRE5vaXNlKCk7XG5cbmltcG9ydCBVdGlscyBmcm9tICcuLi91dGlsL1V0aWxzJztcblxuY2xhc3MgU2hhcGVDb250cm9sbGVyIHtcblxuXHRjb25zdHJ1Y3RvcigpIHtcblx0XHQvLyBQcm9wc1xuXHRcdHRoaXMubTEgPSAwO1xuXHRcdHRoaXMubjExID0gMDtcblx0XHR0aGlzLm4yMSA9IDA7XG5cdFx0dGhpcy5uMzEgPSAwO1xuXHRcdHRoaXMubTIgPSAwO1xuXHRcdHRoaXMubjEyID0gMDtcblx0XHR0aGlzLm4yMiA9IDA7XG5cdFx0dGhpcy5uMzIgPSAwO1xuXHRcdHRoaXMuc21vb3RoTTEgPSAwO1xuICAgICAgICB0aGlzLnNtb290aE4xMSA9IDA7XG4gICAgICAgIHRoaXMuc21vb3RoTjIxID0gMDtcbiAgICAgICAgdGhpcy5zbW9vdGhOMzEgPSAwO1xuICAgICAgICB0aGlzLnNtb290aE0yID0gMDtcbiAgICAgICAgdGhpcy5zbW9vdGhOMTIgPSAwO1xuICAgICAgICB0aGlzLnNtb290aE4yMiA9IDA7XG4gICAgICAgIHRoaXMuc21vb3RoTjMyID0gMDtcblx0XHR0aGlzLm1vdmluZ1RpbWUgPSAwO1xuXHRcdHRoaXMucGxheWluZyA9IGZhbHNlO1xuXHRcdHRoaXMucHJldk1vdXNlID0gbmV3IFRIUkVFLlZlY3RvcjIoKTtcblxuXHRcdC8vIEJpbmRpbmdzXG5cdFx0dGhpcy51cGRhdGUgPSA6OnRoaXMudXBkYXRlO1xuXHRcdHRoaXMub25IaWRlU2hhcGUgPSA6OnRoaXMub25IaWRlU2hhcGU7XG5cblx0XHQvLyBSQUZcblx0XHRSYWZNYW5hZ2VyLmJpbmQoJ21vdXNlQ29udHJvbGxlcicsIHRoaXMudXBkYXRlKTtcblx0fVxuXG5cdHN0YXRpYyBzdGFydCgpIHtcblx0XHRpZiAoIVNoYXBlQ29udHJvbGxlci5pbnN0YW5jZSkgU2hhcGVDb250cm9sbGVyLmluc3RhbmNlID0gbmV3IFNoYXBlQ29udHJvbGxlcigpO1xuXHR9XG5cblx0b25IaWRlU2hhcGUoKSB7XG5cdFx0dGhpcy5wbGF5aW5nID0gZmFsc2U7XG5cdH1cblxuXHR1cGRhdGUoKSB7XG5cdFx0aWYgKHdpbmRvdy5tb3VzZWRvd24pIHtcblx0XHRcdGlmICh3aW5kb3cubW91c2UueCAhPT0gdGhpcy5wcmV2TW91c2UueCB8fCB3aW5kb3cubW91c2UueSAhPT0gdGhpcy5wcmV2TW91c2UueSkge1xuXHRcdFx0XHR0aGlzLm1vdmluZ1RpbWUgKz0gMTtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5tMSA9IFV0aWxzLm1hcChub2lzZS5nZXRWYWwodGhpcy5tb3ZpbmdUaW1lICogMC4wMiksIDAsIDEsIDAuMSwgMTUpO1xuXHRcdFx0dGhpcy5uMTEgPSBVdGlscy5tYXAobm9pc2UuZ2V0VmFsKCh0aGlzLm1vdmluZ1RpbWUgKyAxMCkgKiAwLjAyKSwgMCwgMSwgMC4xLCAxMDApO1xuXHRcdFx0dGhpcy5uMjEgPSBVdGlscy5tYXAobm9pc2UuZ2V0VmFsKCh0aGlzLm1vdmluZ1RpbWUgKyAyMCkgKiAwLjAyKSwgMCwgMSwgMC4xLCAxMDApO1xuXHRcdFx0dGhpcy5uMzEgPSBVdGlscy5tYXAobm9pc2UuZ2V0VmFsKCh0aGlzLm1vdmluZ1RpbWUgKyAzMCkgKiAwLjAyKSwgMCwgMSwgMC4xLCAxMDApO1xuXHRcdFx0dGhpcy5tMiA9IFV0aWxzLm1hcChub2lzZS5nZXRWYWwoKHRoaXMubW92aW5nVGltZSArIDQwKSAqIDAuMDIpLCAwLCAxLCAwLjEsIDE1KTtcblx0XHRcdHRoaXMubjEyID0gVXRpbHMubWFwKG5vaXNlLmdldFZhbCgodGhpcy5tb3ZpbmdUaW1lICsgNTApICogMC4wMiksIDAsIDEsIDAuMSwgMTAwKTtcblx0XHRcdHRoaXMubjIyID0gVXRpbHMubWFwKG5vaXNlLmdldFZhbCgodGhpcy5tb3ZpbmdUaW1lICsgNjApICogMC4wMiksIDAsIDEsIDAuMSwgMTAwKTtcblx0XHRcdHRoaXMubjMyID0gVXRpbHMubWFwKG5vaXNlLmdldFZhbCgodGhpcy5tb3ZpbmdUaW1lICsgNzApICogMC4wMiksIDAsIDEsIDAuMSwgMTAwKTtcblx0XHR9XG5cblx0XHQvLyBTbW9vdGggdmFsdWVzXG5cdFx0dGhpcy5zbW9vdGhNMSArPSAodGhpcy5tMSAtIHRoaXMuc21vb3RoTTEpICogMC44O1xuICAgICAgICB0aGlzLnNtb290aE4xMSArPSAodGhpcy5uMTEgLSB0aGlzLnNtb290aE4xMSkgKiAwLjg7XG4gICAgICAgIHRoaXMuc21vb3RoTjIxICs9ICh0aGlzLm4yMSAtIHRoaXMuc21vb3RoTjIxKSAqIDAuODtcbiAgICAgICAgdGhpcy5zbW9vdGhOMzEgKz0gKHRoaXMubjMxIC0gdGhpcy5zbW9vdGhOMzEpICogMC44O1xuICAgICAgICB0aGlzLnNtb290aE0yICs9ICh0aGlzLm0yIC0gdGhpcy5zbW9vdGhNMikgKiAwLjg7XG4gICAgICAgIHRoaXMuc21vb3RoTjEyICs9ICh0aGlzLm4xMiAtIHRoaXMuc21vb3RoTjEyKSAqIDAuODtcbiAgICAgICAgdGhpcy5zbW9vdGhOMjIgKz0gKHRoaXMubjIyIC0gdGhpcy5zbW9vdGhOMjIpICogMC44O1xuICAgICAgICB0aGlzLnNtb290aE4zMiArPSAodGhpcy5uMzIgLSB0aGlzLnNtb290aE4zMikgKiAwLjg7XG5cblx0XHR0aGlzLnByZXZNb3VzZS5zZXQod2luZG93Lm1vdXNlLngsIHdpbmRvdy5tb3VzZS55KTtcblx0fVxuXG5cdHN0YXRpYyBnZXQoKSB7XG5cdFx0Y29uc3QgZGF0YSA9IHtcblx0XHRcdG0xIDogU2hhcGVDb250cm9sbGVyLmluc3RhbmNlLnNtb290aE0xLnRvRml4ZWQoMiksXG5cdFx0XHRuMTEgOiBTaGFwZUNvbnRyb2xsZXIuaW5zdGFuY2Uuc21vb3RoTjExLnRvRml4ZWQoMiksXG5cdFx0XHRuMjEgOiBTaGFwZUNvbnRyb2xsZXIuaW5zdGFuY2Uuc21vb3RoTjIxLnRvRml4ZWQoMiksXG5cdFx0XHRuMzEgOiBTaGFwZUNvbnRyb2xsZXIuaW5zdGFuY2Uuc21vb3RoTjMxLnRvRml4ZWQoMiksXG5cdFx0XHRtMiA6IFNoYXBlQ29udHJvbGxlci5pbnN0YW5jZS5zbW9vdGhNMi50b0ZpeGVkKDIpLFxuXHRcdFx0bjEyIDogU2hhcGVDb250cm9sbGVyLmluc3RhbmNlLnNtb290aE4xMi50b0ZpeGVkKDIpLFxuXHRcdFx0bjIyIDogU2hhcGVDb250cm9sbGVyLmluc3RhbmNlLnNtb290aE4yMi50b0ZpeGVkKDIpLFxuXHRcdFx0bjMyIDogU2hhcGVDb250cm9sbGVyLmluc3RhbmNlLnNtb290aE4zMi50b0ZpeGVkKDIpXG5cdFx0fTtcblx0XHRcblx0XHRyZXR1cm4gZGF0YTtcblx0fVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IFNoYXBlQ29udHJvbGxlcjsiLCIvKipcbiAqIEUgViBFIE4gVCBTXG4gKi9cblxuY29uc3QgRXZlbnRzID0ge1xuXG4gICAgLy8gS2V5Ym9hcmRcbiAgICBLRVlQUkVTUyA6ICdjdXN0b21fa2V5cHJlc3MnLFxuXG4gICAgLy8gRWZmZWN0c1xuXHRFRkZFQ1RfU1BMSVQgOiAnZWZmZWN0X3NwbGl0JyxcbiAgICBFRkZFQ1RfQ09MT1IgOiAnZWZmZWN0X2NvbG9yJyxcblxuICAgIC8vIFZqaW5nXG4gICAgUFJFUEFSRV9WSklORyA6ICdwcmVwYXJlX3ZqaW5nJyxcbiAgICBTVEFSVF9WSklORyA6ICdzdGFydF92amluZycsXG4gICAgRElTUExBWV9TSEFQRSA6ICdkaXNwbGF5X3NoYXBlJyxcbiAgICBISURFX1NIQVBFIDogJ2hpZGVfc2hhcGUnLFxuXG4gICAgLy8gU291bmRcbiAgICBTT1VORF9FTkRFRCA6ICdzb3VuZF9lbmRlZCcsXG5cbiAgICAvLyBVSVxuICAgIERJU1BMQVlfVUkgOiAnZGlzcGxheV91aScsXG5cblxuXG5cbiAgICAvLyBNb3VzZVxuICAgIE1PVVNFX0RPV04gIDogJ21vdXNlX2Rvd24nLFxuICAgIE1PVVNFX1VQICAgIDogJ21vdXNlX3VwJyxcblxuICAgIC8vIFZqaW5nXG4gICAgUExBWV9FRkZFQ1QgICAgIDogJ3BsYXlfZWZmZWN0JyxcbiAgICBTUExJVF9FRkZFQ1QgICAgOiAnc3BsaXRfZWZmZWN0JyxcbiAgICBSRVNVTUVfVkpJTkcgICAgOiAncmVzdW1lX3ZqaW5nJyxcbiAgICBQQVVTRV9WSklORyAgICAgOiAncGF1c2VfdmppbmcnLFxuXG4gICAgLy8gUGFsZXR0ZVxuICAgIFBBTEVUVEVfQ0hBTkdFIDogJ3BhbGV0dGVfY2hhbmdlJyxcblxufTtcblxuZXhwb3J0IGRlZmF1bHQgRXZlbnRzOyIsIi8qKlxuICogRXZlbnRzIE1hbmFnZXJcbiAqIGJhc2VkIG9uIGh0dHBzOi8vZ2l0aHViLmNvbS9zY290dGNvcmdhbi90aW55LWVtaXR0ZXIvYmxvYi9tYXN0ZXIvaW5kZXguanNcbiAqL1xuXG5jbGFzcyBFdmVudHNNYW5hZ2VyIHtcblxuXHQvKipcblx0ICogRW1pdCBldmVudFxuXHQgKiBAcGFyYW0gIHtTdHJpbmd9IGV2ZW50IG5hbWVcblx0ICogQHBhcmFtICB7T2JqZWN0fSBkYXRhXG5cdCAqL1xuXHRzdGF0aWMgZW1pdCAoIGV2ZW50LCBkYXRhID0gbnVsbCApIHtcblxuXHRcdGNvbnN0IGxpc3RlbmVycyA9IEV2ZW50c01hbmFnZXIuZXZlbnRzTGlzdFtldmVudF07XG5cblx0XHRpZighbGlzdGVuZXJzKSB7XG5cdFx0XHRjb25zb2xlLndhcm4oJ0V2ZW50c01hbmFnZXIgOjogRW1pdCA6OiBDdXJyZW50bHkgbm8gbGlzdGVuZXJzIGZvciB0aGlzIGV2ZW50IDogJywgZXZlbnQpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGZvciggbGV0IGkgPSAwLCBsZW4gPSBsaXN0ZW5lcnMubGVuZ3RoOyBpIDwgbGVuOyBpKysgKSBsaXN0ZW5lcnNbaV0uZm4oIGRhdGEgKTtcblxuXHR9XG5cblx0LyoqXG5cdCAqIE9uIFxuXHQgKiBAcGFyYW0gIHtTdHJpbmd9ICAgZXZlbnQgbmFtZVxuXHQgKiBAcGFyYW0gIHtGdW5jdGlvbn0gY2FsbGJhY2sgZnVuY3Rpb25cblx0ICovXG5cdHN0YXRpYyBvbiAoIGV2ZW50LCBmbiApIHtcblxuXHRcdGNvbnNvbGUubG9nKCdFdmVudHNNYW5hZ2VyIDo6IE9OIDo6JywgZXZlbnQpO1xuXG5cdFx0aWYoIUV2ZW50c01hbmFnZXIuZXZlbnRzTGlzdCkgRXZlbnRzTWFuYWdlci5ldmVudHNMaXN0ID0ge307XG5cblx0XHRpZighRXZlbnRzTWFuYWdlci5ldmVudHNMaXN0W2V2ZW50XSkgRXZlbnRzTWFuYWdlci5ldmVudHNMaXN0W2V2ZW50XSA9IFtdOyAvLyBpbXByb3ZlICguXy4pXG5cblx0XHRFdmVudHNNYW5hZ2VyLmV2ZW50c0xpc3RbZXZlbnRdLnB1c2goe2ZuOmZufSk7XG5cblx0fVxuXG5cdHN0YXRpYyBvbmNlKCBldmVudCwgZm4gKSB7XG5cblx0XHRjb25zdCBsaXN0ZW5lciA9ICggZGF0YSApID0+e1xuXG5cdFx0XHRFdmVudHNNYW5hZ2VyLm9mZihldmVudCwgbGlzdGVuZXIpO1xuXHRcdFx0Zm4oZGF0YSk7XG5cdFx0fTtcblxuXHRcdGxpc3RlbmVyLl8gPSBmbjtcblx0XHRFdmVudHNNYW5hZ2VyLm9uKCBldmVudCwgbGlzdGVuZXIpO1xuXHR9XG5cblxuXHRzdGF0aWMgb2ZmICggZXZlbnQsIGZuICkge1xuXHRcdFxuXHRcdGNvbnN0IGxpc3RlbmVycyA9IEV2ZW50c01hbmFnZXIuZXZlbnRzTGlzdFtldmVudF07XG5cblx0XHRpZighbGlzdGVuZXJzKSB7XG5cdFx0XHRjb25zb2xlLndhcm4oJ0V2ZW50c01hbmFnZXIgOjogT2ZmIDo6IEN1cnJlbnRseSBubyBsaXN0ZW5lcnMgZm9yIHRoaXMgZXZlbnQgOiAnLCBldmVudCk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYoIWZuKSB7XG5cdFx0XHRjb25zb2xlLndhcm4oJ0V2ZW50c01hbmFnZXIgOjogT2ZmIDo6IENhbGxiYWNrIGlzIHVuZGVmaW5lZCcpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGNvbnN0IHRhcmdldEV2ZW50cyA9IFtdO1xuXG5cdFx0Zm9yKCBsZXQgaSA9IDAsIGxlbiA9IGxpc3RlbmVycy5sZW5ndGg7IGkgPCBsZW47IGkrKyApIHtcblxuXHRcdFx0Y29uc3QgdGFyZ2V0ID0gbGlzdGVuZXJzW2ldO1xuXG5cdFx0XHRpZih0YXJnZXQuZm4gIT09IGZuICYmIHRhcmdldC5mbi5fICE9PSBmbiApIHsgLy8gKC5fXy4pID8/XG5cdFx0XHRcdHRhcmdldEV2ZW50cy5wdXNoKHRhcmdldCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cblx0XHRpZiggdGFyZ2V0RXZlbnRzLmxlbmd0aCA+wqAwIClcblx0XHRcdEV2ZW50c01hbmFnZXIuZXZlbnRzTGlzdFtldmVudF0gPSB0YXJnZXRFdmVudHM7XG5cdFx0ZWxzZSBcblx0XHRcdGRlbGV0ZSBFdmVudHNNYW5hZ2VyLmV2ZW50c0xpc3RbZXZlbnRdO1xuXG5cdH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRXZlbnRzTWFuYWdlcjsiLCJpbXBvcnQgRXZlbnRzTWFuYWdlciBmcm9tICcuLi9ldmVudHMvRXZlbnRzTWFuYWdlcic7XG5pbXBvcnQgRXZlbnRzIGZyb20gJy4uL2V2ZW50cy9FdmVudHMnO1xuXG4vKipcbiAqIEludGVyYWN0aW9uIE1hbmFnZXJcbiAqL1xuXG5jbGFzcyBJbnRlcmFjdGlvbk1hbmFnZXIge1xuXG4gICAgc3RhdGljIHN0YXJ0KCkge1xuICAgICAgICAvLyBQcm9wc1xuICAgICAgICB3aW5kb3cubW91c2UgPSBuZXcgVEhSRUUuVmVjdG9yMigpO1xuICAgICAgICB3aW5kb3cubW91c2Vkb3duID0gZmFsc2U7XG5cbiAgICAgICAgLy8gTW92ZVxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgSW50ZXJhY3Rpb25NYW5hZ2VyLm9uTW91c2Vtb3ZlICk7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCBJbnRlcmFjdGlvbk1hbmFnZXIub25Ub3VjaG1vdmUpO1xuICAgICAgICBcbiAgICAgICAgLy8gRG93blxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgSW50ZXJhY3Rpb25NYW5hZ2VyLm9uTW91c2Vkb3duKTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBJbnRlcmFjdGlvbk1hbmFnZXIub25Nb3VzZWRvd24pO1xuICAgICAgICBcbiAgICAgICAgLy8gVXBcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBJbnRlcmFjdGlvbk1hbmFnZXIub25Nb3VzZXVwKTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgSW50ZXJhY3Rpb25NYW5hZ2VyLm9uTW91c2V1cCk7XG4gICAgfVxuXG4gICAgc3RhdGljIG9uTW91c2Vtb3ZlKGUpIHtcbiAgICAgICAgd2luZG93Lm1vdXNlLnNldChlLmNsaWVudFgsIGUuY2xpZW50WSk7XG4gICAgfVxuXG4gICAgc3RhdGljIG9uVG91Y2htb3ZlKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB3aW5kb3cubW91c2Uuc2V0KGUudG91Y2hlc1swXS5jbGllbnRYLCBlLnRvdWNoZXNbMF0uY2xpZW50WSk7XG4gICAgfVxuXG4gICAgc3RhdGljIG9uTW91c2Vkb3duKCkge1xuICAgICAgICB3aW5kb3cubW91c2Vkb3duID0gdHJ1ZTtcbiAgICAgICAgRXZlbnRzTWFuYWdlci5lbWl0KEV2ZW50cy5NT1VTRV9ET1dOKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgb25Nb3VzZXVwKCkge1xuICAgICAgICB3aW5kb3cubW91c2Vkb3duID0gZmFsc2U7XG4gICAgICAgIEV2ZW50c01hbmFnZXIuZW1pdChFdmVudHMuTU9VU0VfVVApO1xuICAgIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBJbnRlcmFjdGlvbk1hbmFnZXI7IiwiLyoqXG4gKiBSZXF1ZXN0IEFuaW1hdGlvbiBGcmFtZVxuICogTWFuYWdlclxuICpcbiAqIHYxLjBcbiAqL1xuXG5jbGFzcyBSYWZNYW5hZ2VyIHtcblx0XG5cdGNvbnN0cnVjdG9yKCkge1xuXG5cdFx0Ly8gYmluZGluZ1xuXHRcdHRoaXMudXBkYXRlID0gOjp0aGlzLnVwZGF0ZTtcblxuXHRcdC8vIHBhcmFtc1xuXHRcdHRoaXMuYmluZGVycyA9IFtdO1xuXHRcdHRoaXMucmFmID0gbnVsbDtcblxuXHRcdHRoaXMubm93ID0gRGF0ZS5ub3coKTtcblx0XHR0aGlzLnRpbWUgPSB0aGlzLm5vdztcblx0XHR0aGlzLmRlbHRhVGltZSA9IDA7XG5cdH1cblxuXHQvKiBTdGFydCAqL1xuXHRzdGF0aWMgc3RhcnQoKSB7XG5cblx0XHRpZighUmFmTWFuYWdlci5JTlNUQU5DRSkgUmFmTWFuYWdlci5JTlNUQU5DRSA9IG5ldyBSYWZNYW5hZ2VyKCk7XG5cblx0XHRSYWZNYW5hZ2VyLklOU1RBTkNFLnVwZGF0ZSgpO1xuXHR9XG5cblx0LyogU3RvcCAqL1xuXHRzdGF0aWMgc3RvcCgpIHtcblxuXHRcdHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSggUmFmTWFuYWdlci5JTlNUQU5DRS5yYWYgKTtcblx0fVxuXG5cdC8qIFVwZGF0ZSAqL1xuXHR1cGRhdGUoKSB7XG5cblx0XHQvLyB0aW1lIHN0dWZmXG5cdFx0dGhpcy5ub3cgPSBEYXRlLm5vdygpO1xuXHRcdHRoaXMuZGVsdGFUaW1lID0gdGhpcy5ub3cgLSB0aGlzLnRpbWU7XG5cdFx0dGhpcy50aW1lID0gdGhpcy5ub3c7XHRcblxuXHRcdGZvcihsZXQgaT0wOyBpIDwgdGhpcy5iaW5kZXJzLmxlbmd0aDsgaSsrKSB0aGlzLmJpbmRlcnNbaV0uZm4oIHRoaXMuZGVsdGFUaW1lICk7XG5cblx0XHR0aGlzLnJhZiA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoIHRoaXMudXBkYXRlICk7XG5cdH1cblxuXHQvKipcblx0ICogQmluZFxuXHQgKiBAcGFyYW0gIHtTdHJpbmd9ICAgaWQgW2Rlc2NyaXB0aW9uXVxuXHQgKiBAcGFyYW0gIHtGdW5jdGlvbn0gZm4gW2Rlc2NyaXB0aW9uXVxuXHQgKi9cblx0c3RhdGljIGJpbmQoaWQsIGZuKSB7XG5cblx0XHRjb25zdCBfdGhpcyA9IFJhZk1hbmFnZXIuSU5TVEFOQ0U7XG5cblx0XHQvLyBpZCB0eXBlIGNoZWNrXG5cdFx0aWYoIHR5cGVvZiBpZCAhPT0gJ3N0cmluZycgKSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKCdSYWZNYW5hZ2VyIDo6IEJpbmQgOjogSW52YWxpZCBJRCcsIGlkKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBmbiB0eXBlIGNoZWNrXG5cdFx0aWYoIHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJyApIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoJ1JhZk1hbmFnZXIgOjogQmluZCA6OiBJbnZhbGlkIEZ1bmN0aW9uJywgZm4pO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIHVzZSBpZCBjaGVja1xuXHRcdGZvciggbGV0IGkgPSAwOyBpIDzCoF90aGlzLmJpbmRlcnMubGVuZ3RoOyBpKysgKSB7XG5cblx0XHRcdGNvbnN0IGIgPSBfdGhpcy5iaW5kZXJzW2ldO1xuXG5cdFx0XHRpZihiLmlkID09PSBpZCkge1xuXHRcdFx0XHRjb25zb2xlLndhcm4oJ1JhZk1hbmFnZXIgOjogQmluZCA6OiBJRCBhbHJlYWR5IHVzZWQgIScsIGlkKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdFJhZk1hbmFnZXIuSU5TVEFOQ0UuYmluZGVycy5wdXNoKHtpZDppZCxmbjpmbn0pO1xuXHR9XG5cblx0c3RhdGljIHVuYmluZChpZCkge1xuXG5cdFx0bGV0IHRndElEID0gLTE7XG5cdFx0bGV0IF90aGlzID0gUmFmTWFuYWdlci5JTlNUQU5DRTtcblxuXHRcdGZvcihsZXQgaT0wOyBpIDwgX3RoaXMuYmluZGVycy5sZW5ndGg7IGkrKylcblx0XHR7XG5cdFx0XHRpZihfdGhpcy5iaW5kZXJzW2ldLmlkID09PSBpZClcblx0XHRcdHtcblx0XHRcdFx0dGd0SUQgPSBpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBhdm9pZGluZyBmYWlsc1xuXHRcdGlmKCB0Z3RJRCA+wqAtMSApIF90aGlzLmJpbmRlcnMuc3BsaWNlKCB0Z3RJRCwgMSk7XG5cblx0fVxuXG5cdHN0YXRpYyBkZWJ1ZyAoKSB7XG5cblx0XHRjb25zb2xlLnRhYmxlKCBSYWZNYW5hZ2VyLklOU1RBTkNFLmJpbmRlcnMgKTtcblx0fVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IFJhZk1hbmFnZXI7IiwiaW1wb3J0IEV2ZW50c01hbmFnZXIgZnJvbSAnLi4vZXZlbnRzL0V2ZW50c01hbmFnZXInO1xuaW1wb3J0IEV2ZW50cyBmcm9tICcuLi9ldmVudHMvRXZlbnRzJztcblxuaW1wb3J0IFJhZk1hbmFnZXIgZnJvbSAnLi4vbWFuYWdlcnMvUmFmTWFuYWdlcic7XG5cbmNvbnN0IGNyZWF0ZVBsYXllciA9IHJlcXVpcmUoJ3dlYi1hdWRpby1wbGF5ZXInKTtcbmNvbnN0IGNyZWF0ZUFuYWx5c2VyID0gcmVxdWlyZSgnd2ViLWF1ZGlvLWFuYWx5c2VyJyk7XG5jb25zdCBhdmVyYWdlID0gcmVxdWlyZSgnYW5hbHlzZXItZnJlcXVlbmN5LWF2ZXJhZ2UnKTtcblxuY29uc3QgQXVkaW9Db250ZXh0ID0gd2luZG93LkF1ZGlvQ29udGV4dCB8fCB3aW5kb3cud2Via2l0QXVkaW9Db250ZXh0O1xuY29uc3QgYXVkaW9Db250ZXh0ID0gQXVkaW9Db250ZXh0ID8gbmV3IEF1ZGlvQ29udGV4dCgpIDogbnVsbDtcblxuY2xhc3MgU291bmRNYW5hZ2VyIHtcblxuICAgIGNvbnN0cnVjdG9yICgpIHtcbiAgICAgICAgLy8gUHJvcGVydGllc1xuICAgICAgICB0aGlzLnJlYWR5ID0gZmFsc2U7XG4gICAgICAgIHRoaXMudHVtdHVtVGltZSA9IDA7XG4gICAgICAgIHRoaXMuYnVtYnVtVGltZSA9IDA7XG5cbiAgICAgICAgLy8gQmluZGluZ3NcbiAgICAgICAgdGhpcy5vbkNhbnBsYXkgID0gOjp0aGlzLm9uQ2FucGxheTtcbiAgICAgICAgdGhpcy5vbkVuZGVkICAgID0gOjp0aGlzLm9uRW5kZWQ7XG4gICAgICAgIHRoaXMudXBkYXRlICAgICA9IDo6dGhpcy51cGRhdGU7XG4gICAgICAgIHRoaXMub25LZXlQcmVzcyA9IDo6dGhpcy5vbktleVByZXNzO1xuXG4gICAgICAgIC8vIFBsYXllclxuICAgICAgICAvLyB0aGlzLnBsYXllciA9IGNyZWF0ZVBsYXllcignLi4vYXNzZXRzL3NvdW5kL211c2ljLm1wMycpO1xuICAgICAgICAvLyB0aGlzLnBsYXllci5vbignbG9hZCcsIHRoaXMub25DYW5wbGF5KTtcbiAgICAgICAgLy8gdGhpcy5wbGF5ZXIuY3Jvc3NPcmlnaW4gPSAnQW5vbnltb3VzJztcblxuICAgICAgICB0aGlzLnBsYXllciA9IG5ldyBBdWRpbygpO1xuICAgICAgICB0aGlzLnBsYXllci5jcm9zc09yaWdpbiA9ICdBbm9ueW1vdXMnO1xuICAgICAgICB0aGlzLnBsYXllci5hZGRFdmVudExpc3RlbmVyKCdjYW5wbGF5JywgdGhpcy5vbkNhbnBsYXkpO1xuICAgICAgICB0aGlzLnBsYXllci5hZGRFdmVudExpc3RlbmVyKCdlbmRlZCcsIHRoaXMub25FbmRlZCk7XG4gICAgICAgIHRoaXMucGxheWVyLnNyYyA9ICcuLi9hc3NldHMvc291bmQvbXVzaWMubXAzJztcbiAgICAgICAgLy8gdGhpcy5wbGF5ZXIuc3JjID0gJy4uL2Fzc2V0cy9zb3VuZC9kZWJ1Zy5tcDMnO1xuXG4gICAgICAgIC8vIExpc3RlbmVyc1xuICAgICAgICBFdmVudHNNYW5hZ2VyLm9uKEV2ZW50cy5LRVlQUkVTUywgdGhpcy5vbktleVByZXNzKTtcbiAgICB9XG5cbiAgICAvKiBTdGFydCAqL1xuICAgIHN0YXRpYyBzdGFydCgpIHtcbiAgICAgICAgaWYgKCFTb3VuZE1hbmFnZXIuaW5zdGFuY2UpIFNvdW5kTWFuYWdlci5pbnN0YW5jZSA9IG5ldyBTb3VuZE1hbmFnZXIoKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgcGxheSgpIHtcbiAgICAgICAgU291bmRNYW5hZ2VyLmluc3RhbmNlLnBsYXllci5wbGF5KCk7XG4gICAgICAgIFR3ZWVuTWF4LnRvKFNvdW5kTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXIsIDAuMywgeyB2b2x1bWU6MSwgZWFzZTpQb3dlcjIuZWFzZU91dCwgb25Db21wbGV0ZTooKSA9PiB7XG4gICAgICAgICAgICBSYWZNYW5hZ2VyLmJpbmQoJ3NvdW5kbWFuYWdlcicsIFNvdW5kTWFuYWdlci5pbnN0YW5jZS51cGRhdGUpO1xuICAgICAgICB9IH0pO1xuICAgIH1cblxuICAgIHN0YXRpYyBwYXVzZSgpIHtcbiAgICAgICAgUmFmTWFuYWdlci51bmJpbmQoJ3NvdW5kbWFuYWdlcicpO1xuICAgICAgICBUd2Vlbk1heC50byhTb3VuZE1hbmFnZXIuaW5zdGFuY2UucGxheWVyLCAwLjMsIHsgdm9sdW1lOjAsIGVhc2U6UG93ZXIyLmVhc2VPdXQsIG9uQ29tcGxldGU6KCkgPT4ge1xuICAgICAgICAgICAgU291bmRNYW5hZ2VyLmluc3RhbmNlLnBsYXllci5wYXVzZSgpO1xuICAgICAgICB9IH0pO1xuICAgIH1cblxuICAgIG9uQ2FucGxheSgpIHtcbiAgICAgICAgaWYgKHRoaXMucmVhZHkpIHJldHVybjtcbiAgICAgICAgdGhpcy5yZWFkeSA9IHRydWU7XG5cbiAgICAgICAgLy8gdGhpcy5wbGF5ZXIubm9kZS5jb25uZWN0KHRoaXMucGxheWVyLmNvbnRleHQuZGVzdGluYXRpb24pO1xuICAgICAgICB0aGlzLmF1ZGlvVXRpbCA9IGNyZWF0ZUFuYWx5c2VyKHRoaXMucGxheWVyLCBhdWRpb0NvbnRleHQsIHsgYXVkaWJsZTogdHJ1ZSwgc3RlcmVvOiBmYWxzZSB9KTtcbiAgICAgICAgdGhpcy5hbmFseXNlciA9IHRoaXMuYXVkaW9VdGlsLmFuYWx5c2VyO1xuICAgICAgICBcbiAgICAgICAgLy8gdGhpcy5wbGF5ZXIucGxheWJhY2tSYXRlID0gMi4wO1xuICAgICAgICB0aGlzLnBsYXllci52b2x1bWUgPSAwO1xuICAgICAgICBTb3VuZE1hbmFnZXIucGF1c2UoKTtcbiAgICB9XG5cbiAgICBvbkVuZGVkKCkge1xuICAgICAgICBTb3VuZE1hbmFnZXIucGF1c2UoKTtcbiAgICAgICAgdGhpcy5wbGF5ZXIuY3VycmVudFRpbWUgPSAwO1xuXG4gICAgICAgIEV2ZW50c01hbmFnZXIuZW1pdChFdmVudHMuU09VTkRfRU5ERUQpO1xuICAgIH1cblxuICAgIG9uS2V5UHJlc3Moa2V5KSB7XG4gICAgICAgIGlmIChrZXkgPT09ICdzcGFjZWJhcicgJiYgd2luZG93LnZqUGxheWluZykge1xuICAgICAgICAgICAgaWYgKHRoaXMucGxheWVyLnBhdXNlZCkge1xuICAgICAgICAgICAgICAgIC8vIFJlc3VtZVxuICAgICAgICAgICAgICAgIFNvdW5kTWFuYWdlci5wbGF5KCk7XG4gICAgICAgICAgICAgICAgRXZlbnRzTWFuYWdlci5lbWl0KEV2ZW50cy5SRVNVTUVfVkpJTkcpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBQYXVzZVxuICAgICAgICAgICAgICAgIFNvdW5kTWFuYWdlci5wYXVzZSgpO1xuICAgICAgICAgICAgICAgIEV2ZW50c01hbmFnZXIuZW1pdChFdmVudHMuUEFVU0VfVkpJTkcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgdXBkYXRlICgpIHtcbiAgICAgICAgaWYgKHRoaXMucGxheWVyLnBhdXNlZCkgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IGZyZXFzID0gdGhpcy5hdWRpb1V0aWwuZnJlcXVlbmNpZXMoKTtcbiAgICAgICAgY29uc3QgdHVtdHVtID0gYXZlcmFnZSh0aGlzLmFuYWx5c2VyLCBmcmVxcywgMjQ2LCA3MDApO1xuICAgICAgICBjb25zdCBidW1idW0gPSBhdmVyYWdlKHRoaXMuYW5hbHlzZXIsIGZyZXFzLCAyMCwgNzApO1xuICAgICAgICBjb25zdCBjYW5QbGF5VHVtdHVtID0gRGF0ZS5ub3coKSAtIHRoaXMudHVtdHVtVGltZSA+IDYwMDtcbiAgICAgICAgY29uc3QgY2FuUGxheUJ1bWJ1bSA9IERhdGUubm93KCkgLSB0aGlzLmJ1bWJ1bVRpbWUgPiA2MDA7XG4gICAgICAgIGNvbnN0IGRpZmZUaW1lID0gTWF0aC5hYnModGhpcy50dW10dW1UaW1lIC0gdGhpcy5idW1idW1UaW1lKTtcblxuICAgICAgICBpZiAoY2FuUGxheVR1bXR1bSAmJiB0dW10dW0gPiAwLjUpIHtcbiAgICAgICAgICAgIHRoaXMudHVtdHVtVGltZSA9IERhdGUubm93KCk7XG4gICAgICAgICAgICBFdmVudHNNYW5hZ2VyLmVtaXQoRXZlbnRzLlBMQVlfRUZGRUNULCB7IGRpc2FsbG93OmZhbHNlIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGNhblBsYXlCdW1idW0gJiYgYnVtYnVtID4gMC45NSAmJiBkaWZmVGltZSA+IDMwMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuYnVtYnVtVGltZSA9IERhdGUubm93KCk7XG4gICAgICAgICAgICAgICAgRXZlbnRzTWFuYWdlci5lbWl0KEV2ZW50cy5QTEFZX0VGRkVDVCwgeyBkaXNhbGxvdzp0cnVlIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IFNvdW5kTWFuYWdlcjsiLCIvKipcbiAqIFNJTVBMRSAxRCBOT0lTRVxuICogXG4gKiBodHRwOi8vd3d3Lm1pY2hhZWxicm9tbGV5LmNvLnVrL2Jsb2cvOTAvc2ltcGxlLTFkLW5vaXNlLWluLWphdmFzY3JpcHRcbiAqL1xuXG5jbGFzcyBTaW1wbGUxRE5vaXNlIHtcblxuICAgIGNvbnN0cnVjdG9yICggbWF4ID0gMjU2LCBhbXBsaXR1ZGUgPSAxLCBzY2FsZSA9IDEgKSB7XG5cbiAgICAgICAgLy8gcGFyYW1zXG4gICAgICAgIHRoaXMuTUFYX1ZFUlRJQ0VTID0gbWF4O1xuICAgICAgICB0aGlzLk1BWF9WRVJUSUNFU19NQVNLID0gdGhpcy5NQVhfVkVSVElDRVMgLTE7XG4gICAgICAgIHRoaXMuYW1wbGl0dWRlID0gYW1wbGl0dWRlO1xuICAgICAgICB0aGlzLnNjYWxlID0gc2NhbGU7XG5cbiAgICAgICAgdGhpcy54TWluID0gMDtcbiAgICAgICAgdGhpcy54TWF4ID0gMDtcblxuICAgICAgICAvLyBidWlsZFxuICAgICAgICB0aGlzLnIgPSBbXTtcblxuICAgICAgICBmb3IgKCB2YXIgaSA9IDA7IGkgPCB0aGlzLk1BWF9WRVJUSUNFUzsgKytpICkge1xuICAgICAgICAgICAgdGhpcy5yW2ldID0gTWF0aC5yYW5kb20oKTtcbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgZ2V0VmFsICggdmFsdWUgKSB7XG4gICAgICAgIFxuICAgICAgICAvLyBUT0RPXG4gICAgICAgIC8vIElNUFJPVkVcbiAgICAgICAgLy8gSU1QUk9WRVxuICAgICAgICAvLyBJTVBST1ZFXG5cbiAgICAgICAgY29uc3Qgc2NhbGVkWCA9ICB2YWx1ZSAgKiB0aGlzLnNjYWxlO1xuICAgICAgICBjb25zdCB4Rmxvb3IgPSBNYXRoLmZsb29yKHNjYWxlZFgpO1xuICAgICAgICBjb25zdCB0ID0gc2NhbGVkWCAtIHhGbG9vcjtcbiAgICAgICAgY29uc3QgdFJlbWFwU21vb3Roc3RlcCA9IHQgKiB0ICogKCAzIC0gMiAqIHQgKTtcblxuICAgICAgICAvLyBNb2R1bG9cbiAgICAgICAgdGhpcy54TWluID0geEZsb29yICYgdGhpcy5NQVhfVkVSVElDRVNfTUFTSztcbiAgICAgICAgdGhpcy54TWF4ID0gKCB0aGlzLnhNaW4gKyAxICkgJiB0aGlzLk1BWF9WRVJUSUNFU19NQVNLO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmxlcnAoIHRoaXMuclsgdGhpcy54TWluIF0sIHRoaXMuclsgdGhpcy54TWF4IF0sIHRSZW1hcFNtb290aHN0ZXAgKSAqIHRoaXMuYW1wbGl0dWRlO1xuICAgIH1cblxuICAgIGxlcnAgKGEsIGIsIHQgKSB7XG4gICAgICAgIHJldHVybiBhICogKCAxIC0gdCApICsgYiAqIHQ7XG4gICAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IFNpbXBsZTFETm9pc2U7IiwiY29uc3QgcGFsZXR0ZXMgPSByZXF1aXJlKCcuLi9jb2xvcnMvY29sb3JzMi5qc29uJyk7XG5cbi8qKlxuICogVXRpbHNcbiAqL1xuXG5jbGFzcyBVdGlscyB7XG5cbiAgICBzdGF0aWMgbWFwKG4sIHN0YXJ0MSwgc3RvcDEsIHN0YXJ0Miwgc3RvcDIpIHtcbiAgICAgICAgcmV0dXJuICgobi1zdGFydDEpLyhzdG9wMS1zdGFydDEpKSooc3RvcDItc3RhcnQyKStzdGFydDI7XG4gICAgfVxuXG4gICAgc3RhdGljIGx1Y2t5KGNoYW5jZXMpIHtcbiAgICAgICAgcmV0dXJuICF+fihNYXRoLnJhbmRvbSgpICogY2hhbmNlcyk7XG4gICAgfVxuXG4gICAgc3RhdGljIHJhbmdlKGFycmF5KSB7XG4gICAgICAgIHJldHVybiBhcnJheVt+fihNYXRoLnJhbmRvbSgpICogYXJyYXkubGVuZ3RoKV07XG4gICAgfVxuXG4gICAgc3RhdGljIGdldFBhbGV0dGUoKSB7XG4gICAgICAgIGNvbnN0IHBhbGV0dGUgPSBwYWxldHRlc1t+fihNYXRoLnJhbmRvbSgpICogcGFsZXR0ZXMubGVuZ3RoKV07XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kIDogcGFsZXR0ZVswXSxcbiAgICAgICAgICAgIG91dGxpbmUgOiBwYWxldHRlWzFdLFxuICAgICAgICAgICAgdGhpbk91dGxpbmUgOiBwYWxldHRlWzJdLFxuICAgICAgICAgICAgc2hhcGUgOiBwYWxldHRlXG4gICAgICAgIH07XG4gICAgfVxuICAgIFxufVxuXG5leHBvcnQgZGVmYXVsdCBVdGlscztcbiIsImNvbnN0IE9yYml0Q29udHJvbHMgPSByZXF1aXJlKCd0aHJlZS1vcmJpdC1jb250cm9scycpKFRIUkVFKTtcblxubW9kdWxlLmV4cG9ydHMgPSBjcmVhdGVBcHA7XG5cbmZ1bmN0aW9uIGNyZWF0ZUFwcCAob3B0ID0ge30pIHtcblx0Y29uc3QgZGVidWcgPSBvcHQuZGVidWcgfHwgZmFsc2U7XG5cdFxuXHQvLyByZW5kZXJlclxuXHRjb25zdCByZW5kZXJlciA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKHsgYW50aWFsaWFzOnRydWUgfSk7XG5cdHJlbmRlcmVyLnNldENsZWFyQ29sb3IoMHhlOWU5ZTksIDEpO1xuXHRyZW5kZXJlci5zZXRTaXplKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuXHRyZW5kZXJlci5zaGFkb3dNYXAuZW5hYmxlZCA9IHRydWU7XG5cdHJlbmRlcmVyLnNoYWRvd01hcC50eXBlID0gVEhSRUUuUENGU29mdFNoYWRvd01hcDtcblxuXHQvLyBjYW52YXNcblx0Y29uc3QgY2FudmFzID0gcmVuZGVyZXIuZG9tRWxlbWVudDtcblx0ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjYW52YXMpO1xuXG5cdC8vIGNhbWVyYVxuXHRjb25zdCBjYW1lcmEgPSBuZXcgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEoNDUsIHdpbmRvdy5pbm5lcldpZHRoIC8gd2luZG93LmlubmVySGVpZ2h0LCAxLCAyMDAwKTtcblxuXHQvLyBzY2VuZVxuXHRjb25zdCBzY2VuZSA9IG5ldyBUSFJFRS5TY2VuZSgpO1xuXG5cdC8vIGNzczNEXG5cdGNvbnN0IGNzczNEUmVuZGVyZXIgPSBuZXcgVEhSRUUuQ1NTM0RSZW5kZXJlcigpO1xuICAgIGNzczNEUmVuZGVyZXIuc2V0U2l6ZSh3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KTtcbiAgICBjc3MzRFJlbmRlcmVyLmRvbUVsZW1lbnQuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgIGNzczNEUmVuZGVyZXIuZG9tRWxlbWVudC5zdHlsZS50b3AgPSAwO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY3NzM0RSZW5kZXJlci5kb21FbGVtZW50KTtcblx0Y29uc3QgY3NzM0RTY2VuZSA9IG5ldyBUSFJFRS5TY2VuZSgpO1xuXHRjb25zdCBjc3MzRENhbWVyYSA9IG5ldyBUSFJFRS5QZXJzcGVjdGl2ZUNhbWVyYSg0NSwgd2luZG93LmlubmVyV2lkdGggLyB3aW5kb3cuaW5uZXJIZWlnaHQsIDEsIDIwMDApO1xuXG5cdC8vIGNvbnRyb2xzXG5cdC8vIGNvbnN0IGNvbnRyb2xzID0gbmV3IE9yYml0Q29udHJvbHMoY2FtZXJhKTtcblxuXHQvLyBlZmZlY3QgY29tcG9zZXJcblx0V0FHTkVSLnZlcnRleFNoYWRlcnNQYXRoID0gJ2pzL3ZlcnRleC1zaGFkZXJzJztcblx0V0FHTkVSLmZyYWdtZW50U2hhZGVyc1BhdGggPSAnanMvZnJhZ21lbnQtc2hhZGVycyc7XG5cdGNvbnN0IGNvbXBvc2VyID0gbmV3IFdBR05FUi5Db21wb3NlcihyZW5kZXJlciwgeyB1c2VSR0JBOnRydWUgfSk7XG5cdGNvbXBvc2VyLnNldFNpemUoY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcblxuXHQvLyBhcHBcblx0Y29uc3QgYXBwID0geyByZW5kZXJlciwgY29tcG9zZXIsIGNhbnZhcywgY2FtZXJhLCBzY2VuZSwgY3NzM0RSZW5kZXJlciwgY3NzM0RDYW1lcmEsIGNzczNEU2NlbmUsIHJlbmRlciwgcmVzaXplIH07XG5cdHJldHVybiBhcHA7XG5cblx0ZnVuY3Rpb24gcmVuZGVyICgpIHtcblx0XHRpZiAoZGVidWcpIHtcblx0XHRcdGNvbnNvbGUubG9nKHJlbmRlcmVyLmluZm8ucmVuZGVyKTtcblx0XHR9XG5cdFx0cmVuZGVyZXIucmVuZGVyKHNjZW5lLCBjYW1lcmEpO1xuXHR9XG5cblx0ZnVuY3Rpb24gcmVzaXplKHcsIGgpIHtcblx0XHRjYW1lcmEuYXNwZWN0ID0gdyAvIGg7XG5cdFx0Y2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcblxuXHRcdHJlbmRlcmVyLnNldFNpemUodywgaCk7XG5cblx0XHRjc3MzRENhbWVyYS5hc3BlY3QgPSB3IC8gaDtcblx0XHRjc3MzRENhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG5cblx0XHRjc3MzRFJlbmRlcmVyLnNldFNpemUodywgaCk7XG5cdH1cblxufSJdfQ==
